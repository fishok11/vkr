/*! For license information please see main.5163302b.js.LICENSE.txt */
(()=>{var e={776:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},110:(e,t,n)=>{"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=h(n,y);try{c(t,y,v)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_},309:(e,t,n)=>{"use strict";e.exports=n(746)},127:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{})},409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="html",r="head",i="body",o=/<([a-zA-Z]+[0-9]?)/,a=/<head[^]*>/i,s=/<body[^]*>/i,l=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},c=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},u="object"===typeof window&&window.DOMParser;if("function"===typeof u){var d=new u;l=c=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),d.parseFromString(e,"text/html")}}if("object"===typeof document&&document.implementation){var h=document.implementation.createHTMLDocument();l=function(e,t){if(t){var n=h.documentElement.querySelector(t);return n&&(n.innerHTML=e),h}return h.documentElement.innerHTML=e,h}}var f,p="object"===typeof document&&document.createElement("template");p&&p.content&&(f=function(e){return p.innerHTML=e,p.content.childNodes}),t.default=function(e){var t,u,d=e.match(o),h=d&&d[1]?d[1].toLowerCase():"";switch(h){case n:var p=c(e);if(!a.test(e))null===(t=null===(g=p.querySelector(r))||void 0===g?void 0:g.parentNode)||void 0===t||t.removeChild(g);if(!s.test(e))null===(u=null===(g=p.querySelector(i))||void 0===g?void 0:g.parentNode)||void 0===u||u.removeChild(g);return p.querySelectorAll(n);case r:case i:var m=l(e).querySelectorAll(h);return s.test(e)&&a.test(e)?m[0].parentNode.childNodes:m;default:return f?f(e):(g=l(e,i).querySelector(i)).childNodes;var g}}},159:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(409)),o=n(716),a=/<(![a-zA-Z\s]+)>/;t.default=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(a),n=t?t[1]:void 0;return(0,o.formatDOM)((0,i.default)(e),null,n)}},716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDOM=t.formatAttributes=void 0;var r=n(538),i=n(127);function o(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function a(e){var t=function(e){return i.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase());return t||e}t.formatAttributes=o,t.formatDOM=function e(t,n,i){void 0===n&&(n=null);for(var s,l=[],c=0,u=t.length;c<u;c++){var d=t[c];switch(d.nodeType){case 1:var h=a(d.nodeName);(s=new r.Element(h,o(d.attributes))).children=e("template"===h?d.content.childNodes:d.childNodes,s);break;case 3:s=new r.Text(d.nodeValue);break;case 8:s=new r.Comment(d.nodeValue);break;default:continue}var f=l[c-1]||null;f&&(f.next=s),s.parent=n,s.prev=f,s.next=null,l.push(s)}return i&&((s=new r.ProcessingInstruction(i.substring(0,i.indexOf(" ")).toLowerCase(),i)).next=l[0]||null,s.parent=n,l.unshift(s),l[1]&&(l[1].prev=l[0])),l}},538:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(776),a=n(362);i(n(362),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=s),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:s,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new a.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new a.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},362:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(776),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=c;var u=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=o.ElementType.Directive,r}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=u;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=h;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var p=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,r)||this;return a.name=t,a.attribs=n,a.type=i,a}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function y(e){return e.type===o.ElementType.Text}function v(e){return e.type===o.ElementType.Comment}function b(e){return e.type===o.ElementType.Directive}function w(e){return e.type===o.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new l(e.data);else if(v(e))n=new c(e.data);else if(m(e)){var r=t?S(e.children):[],o=new p(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(g(e)){r=t?S(e.children):[];var a=new h(r);r.forEach((function(e){return e.parent=a})),n=a}else if(w(e)){r=t?S(e.children):[];var s=new f(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!b(e))throw new Error("Not implemented yet: ".concat(e.type));var d=new u(e.name,e.data);null!=e["x-name"]&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),n=d}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function S(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=p,t.isTag=m,t.isCDATA=g,t.isText=y,t.isComment=v,t.isDirective=b,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(195),i=n(141),o=["checked","value"],a=["input","select","textarea"],s={reset:!0,submit:!0};function l(e){return r.possibleStandardNames[e]}t.default=function(e,t){void 0===e&&(e={});var n={},c=Boolean(e.type&&s[e.type]);for(var u in e){var d=e[u];if((0,r.isCustomAttribute)(u))n[u]=d;else{var h=u.toLowerCase(),f=l(h);if(f){var p=(0,r.getPropertyInfo)(f);switch(o.includes(f)&&a.includes(t)&&!c&&(f=l("default"+h)),n[f]=d,p&&p.type){case r.BOOLEAN:n[f]=!0;break;case r.OVERLOADED_BOOLEAN:""===d&&(n[f]=!0)}}else i.PRESERVE_CUSTOM_ATTRIBUTES&&(n[u]=d)}}return(0,i.setStyleProp)(e.style,n),n}},976:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(791),o=r(n(131)),a=n(141),s={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function l(e){return a.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,a.isCustomComponent)(e.name,e.attribs)}t.default=function e(t,n){void 0===n&&(n={});for(var r=[],i="function"===typeof n.replace,c=n.transform||a.returnFirstArg,u=n.library||s,d=u.cloneElement,h=u.createElement,f=u.isValidElement,p=t.length,m=0;m<p;m++){var g=t[m];if(i){var y=n.replace(g,m);if(f(y)){p>1&&(y=d(y,{key:y.key||m})),r.push(c(y,g,m));continue}}if("text"!==g.type){var v=g,b={};l(v)?((0,a.setStyleProp)(v.attribs.style,v.attribs),b=v.attribs):v.attribs&&(b=(0,o.default)(v.attribs,v.name));var w=void 0;switch(g.type){case"script":case"style":g.children[0]&&(b.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?b.defaultValue=g.children[0].data:g.children&&g.children.length&&(w=e(g.children,n));break;default:continue}p>1&&(b.key=m),r.push(c(h(g.name,b,w),g,m))}else{var _=!g.data.trim().length;if(_&&g.parent&&!(0,a.canTextBeChildOfNode)(g.parent))continue;if(n.trim&&_)continue;r.push(c(g.data,g,m))}}return 1===r.length?r[0]:r}},25:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var i=r(n(159));t.htmlToDOM=i.default;var o=r(n(131));t.attributesToProps=o.default;var a=r(n(976));t.domToReact=a.default;var s=n(936);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var l={lowerCaseAttributeNames:!1};t.default=function(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");return e?(0,a.default)((0,i.default)(e,(null===t||void 0===t?void 0:t.htmlparser2)||l),t):[]}},141:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var i=n(791),o=r(n(792)),a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);t.isCustomComponent=function(e,t){return e.includes("-")?!a.has(e):Boolean(t&&"string"===typeof t.is)};var s={reactCompat:!0};t.setStyleProp=function(e,t){if("string"===typeof e)if(e.trim())try{t.style=(0,o.default)(e,s)}catch(n){t.style={}}else t.style={}},t.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.returnFirstArg=function(e){return e}},936:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(776),a=n(262);i(n(262),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=s),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:s,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new a.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===o.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new a.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},262:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var o=n(776),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),_(this,e)},e}();t.Node=a;var s=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=s;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(s);t.Text=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(s);t.Comment=c;var u=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=o.ElementType.Directive,r}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(s);t.ProcessingInstruction=u;var d=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(d);t.CDATA=h;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(d);t.Document=f;var p=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?o.ElementType.Script:"style"===t?o.ElementType.Style:o.ElementType.Tag);var a=e.call(this,r)||this;return a.name=t,a.attribs=n,a.type=i,a}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(d);function m(e){return(0,o.isTag)(e)}function g(e){return e.type===o.ElementType.CDATA}function y(e){return e.type===o.ElementType.Text}function v(e){return e.type===o.ElementType.Comment}function b(e){return e.type===o.ElementType.Directive}function w(e){return e.type===o.ElementType.Root}function _(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new l(e.data);else if(v(e))n=new c(e.data);else if(m(e)){var r=t?S(e.children):[],o=new p(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(g(e)){r=t?S(e.children):[];var a=new h(r);r.forEach((function(e){return e.parent=a})),n=a}else if(w(e)){r=t?S(e.children):[];var s=new f(r);r.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else{if(!b(e))throw new Error("Not implemented yet: ".concat(e.type));var d=new u(e.name,e.data);null!=e["x-name"]&&(d["x-name"]=e["x-name"],d["x-publicId"]=e["x-publicId"],d["x-systemId"]=e["x-systemId"]),n=d}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function S(e){for(var t=e.map((function(e){return _(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=p,t.isTag=m,t.isCDATA=g,t.isText=y,t.isComment=v,t.isDirective=b,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=_},65:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,h=1;function f(e){var t=e.match(n);t&&(d+=t.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function p(){var e={line:d,column:h};return function(t){return t.position=new m(e),b(),t}}function m(e){this.start=e,this.end={line:d,column:h},this.source=l.source}m.prototype.content=e;var g=[];function y(t){var n=new Error(l.source+":"+d+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return f(r),e=e.slice(r.length),n}}function b(){v(r)}function w(e){var t;for(e=e||[];t=_();)!1!==t&&e.push(t);return e}function _(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return h+=2,f(r),e=e.slice(n),h+=2,t({type:"comment",comment:r})}}function S(){var e=p(),n=v(i);if(n){if(_(),!v(o))return y("property missing ':'");var r=v(a),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(s),l}}return b(),function(){var e,t=[];for(w(t);e=S();)!1!==e&&(t.push(e),w(t));return t}()}},888:(e,t,n)=>{"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case E:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function xe(e){ke?Ie?Ie.push(e):Ie=[e]:ke=e}function Te(){if(ke){var e=ke,t=Ie;if(Ie=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,o,a,s,l){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,It,Et,xt=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){xt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Kt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},dn,{relatedTarget:0})),yn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return In}var xn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(xn),Cn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Pn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Wn(t,Kn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Ir={};function Er(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return kr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var xr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(xr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case xr:case Tr:case Cr:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(Hn(s))if(Xn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Oe(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Oe(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],ki=-1;function Ii(e){return{current:e}}function Ei(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function xi(e,t){ki++,Si[ki]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ni),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(o(168));xi(Ci,t),xi(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,xi(Ci,e),xi(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),xi(Ci,e)):Ei(Ni),xi(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Xi=o+e}else $i=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Yi;)Yi=Ki[--Qi],Ki[Qi]=null,Xi=Ki[--Qi],Ki[Qi]=null,$i=Ki[--Qi],Ki[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Ii(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function ko(e){var t=vo.current;Ei(vo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Co(e){null===To?To=[e]:To.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Ho(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Oi(t)?Ai:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Oi(t)?Ai:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return io&&Ji(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Yo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ko(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case O:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=$o(!0),Jo=$o(!1),Zo={},ea=Ii(Zo),ta=Ii(Zo),na=Ii(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(xi(na,t),xi(ta,e),xi(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),xi(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(xi(ta,e),xi(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var la=Ii(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,wa=0,_a=0;function Sa(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,ya=ga=ma=null,va=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==wa;return wa=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Ca(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Oa(e,t){var n=ma,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ha(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function La(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ta().memoizedState}function za(e,t,n,r){var i=xa();ma.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ma.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return za(8390656,8,e,t)}function Ha(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ga(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Ya(){}function $a(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,jl|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:xo,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xo,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Fa,useDebugValue:Ya,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Al.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:xo,useCallback:$a,useContext:xo,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Xa,useReducer:Na,useRef:Va,useState:function(){return Na(Ca)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Ta(),ga.memoizedState,e)},useTransition:function(){return[Na(Ca)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},cs={readContext:xo,useCallback:$a,useContext:xo,useEffect:Ha,useImperativeHandle:Qa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Xa,useReducer:Aa,useRef:Va,useState:function(){return Aa(Ca)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ca)[0],Ta().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),hs(0,t)},n}function ms(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Ia(e,t,n,r,o,i),n=Ea(),null===e||ws?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Dl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Dl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Dl,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xi(Dl,Rl),Rl|=r;return _s(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Oi(n)?Ai:Ci.current;return o=Pi(t,o),Eo(t,i),n=Ia(e,t,n,r,o,i),r=Ea(),null===e||ws?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Hs(e,t),Ho(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xo(c):c=Pi(t,c=Oi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(t,a,r,c),Po=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ni.current||Po?("function"===typeof u&&(zo(t,n,u,r),l=t.memoizedState),(s=Po||qo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=xo(l):l=Pi(t,l=Oi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Wo(t,a,r,l),Po=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ni.current||Po?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(c=Po||qo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){xs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,_s(e,t,n,r),t.child}var Os,Rs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return gc(),Vs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Qi++]=$i,Ki[Qi++]=Xi,Ki[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ei(Ni),Ei(Ci),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Rs(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return ko(t.type._context),Ks(t),null;case 19:if(Ei(la),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=la.current,xi(la,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Ni),Ei(Ci),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(la),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(t,e),Xs=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Zs=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zs=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=a,(Xs=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Zs=l):kl(i);for(;null!==o;)Zs=o,wl(o,t,n),o=o.sibling;Zs=i,$s=s,Xs=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_l(e)}}function _l(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ol(t)}catch(f){Ec(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Sl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function kl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Il,El=Math.ceil,xl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Al=null,Pl=null,Ol=0,Rl=0,Dl=Ii(0),Ll=0,Ml=null,jl=0,Fl=0,Ul=0,Vl=null,zl=null,Bl=0,ql=1/0,Hl=null,Wl=!1,Gl=null,Kl=null,Ql=!1,Yl=null,$l=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Nl)&&e===Al||(e===Al&&(0===(2&Nl)&&(Fl|=n),4===Ll&&lc(e,Ol)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Al?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),ai((function(){0===(6&Nl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Nl;Nl|=2;var a=mc();for(Al===e&&Ol===t||(Hl=null,ql=Xe()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),xl.current=a,Nl=i,null!==Pl?t=0:(Al=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,zl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,zl,Hl),t);break}Sc(e,zl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,zl,Hl),r);break}Sc(e,zl,Hl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Hl),ic(e,Xe()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Xe()+500,Ui&&Bi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&kc();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function hc(){Rl=Dl.current,Ei(Dl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ei(Ni),Ei(Ci),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(la);break;case 10:ko(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Al=e,Pl=e=Dc(e.current,null),Ol=Rl=t,Ll=0,Ml=null,Ul=Fl=jl=0,zl=Vl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(So(),ha.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(pa=0,ya=ga=ma=null,ba=!1,wa=0,Tl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Ll&&(Ll=2),null===Vl?Vl=[a]:Vl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=as,null===e?as:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&jl)&&0===(268435455&Fl)||lc(Al,Ol)}function yc(e,t){var n=Nl;Nl|=2;var r=mc();for(Al===e&&Ol===t||(Hl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(So(),Nl=n,xl.current=r,null!==Pl)throw Error(o(261));return Al=null,Ol=0,Ll}function vc(){for(;null!==Pl;)wc(Pl)}function bc(){for(;null!==Pl&&!Ye();)wc(Pl)}function wc(e){var t=Il(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Pl=Al=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Ec(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Nl=l,bt=s,Cl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,$l=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=wt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,$l=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zs=v;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Zs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zs=_;break e}Zs=l.return}}if(Nl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ic(e,t,n){e=Lo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Lo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Xe()-Bl?fc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ao(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Mc(n.children,i,a,t);case I:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case T:s=9;break e;case C:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,l){return e=new Vc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,l){return(e=zc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(xi(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);xi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Eo(t,n),i=Ia(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ks(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),xs(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,xi(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=xo(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),ks(e,t,r,i=yo(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Hs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Eo(t,n),Ho(t,r,i),Go(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Nl)&&(ql=Xe()+500,Bi()))}break;case 13:dc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Te,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},195:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}const i={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((e=>{i[e]=new r(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((e=>{let[t,n]=e;i[t]=new r(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((e=>{i[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((e=>{i[e]=new r(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((e=>{i[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((e=>{i[e]=new r(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((e=>{i[e]=new r(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((e=>{i[e]=new r(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((e=>{i[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)}));const o=/[\-\:]([a-z])/g,a=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((e=>{const t=e.replace(o,a);i[t]=new r(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((e=>{const t=e.replace(o,a);i[t]=new r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((e=>{const t=e.replace(o,a);i[t]=new r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((e=>{i[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)}));i.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((e=>{i[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)}));const{CAMELCASE:s,SAME:l,possibleStandardNames:c}=n(590),u=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),d=Object.keys(c).reduce(((e,t)=>{const n=c[t];return n===l?e[t]=t:n===s?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return i.hasOwnProperty(e)?i[e]:null},t.isCustomAttribute=u,t.possibleStandardNames=d},590:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},459:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:(e,t,n)=>{"use strict";n(459)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=N(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(x),x=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,I=!1,E=null,x=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?k():(I=!1,E=null)}}else I=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){y(A,0)};function R(e){E=e,I||(I=!0,k())}function D(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(v(x),x=-1):g=!0,D(_,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},792:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(9)),o=n(483);t.default=function(e,t){var n={};return e&&"string"===typeof e?((0,i.default)(e,(function(e,r){e&&r&&(n[(0,o.camelCase)(e,t)]=r)})),n):n}},483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||i.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(a,l):e.replace(o,l)).replace(r,s))}},9:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(65));t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,i.default)(e),o="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,i=e.value;o?t(r,i,e):i&&((n=n||{})[r]=i)}})),n}},561:(e,t,n)=>{"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:(e,t,n)=>{"use strict";var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var f=a(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},248:(e,t,n)=>{"use strict";e.exports=n(561)},327:(e,t,n)=>{"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".c7d339cf.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="vkr:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/vkr/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkvkr=self.webpackChunkvkr||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>qt,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>Un,_addOrOverwriteComponent:()=>Vn,_apps:()=>jn,_clearComponents:()=>Hn,_components:()=>Fn,_getProvider:()=>Bn,_registerComponent:()=>zn,_removeServiceInstance:()=>qn,deleteApp:()=>Xn,getApp:()=>Yn,getApps:()=>$n,initializeApp:()=>Qn,onLog:()=>Zn,registerVersion:()=>Jn,setLogLevel:()=>er});var t=n(791),r=n.t(t,2),i=n(250),o=n(248),a=n(327),s=n(164),l=n.t(s,2);let c=function(e){e()};const u=()=>c,d=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function f(){var e;if(!t.createContext)return{};const n=null!=(e=h[d])?e:h[d]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}const p=f();function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return function(){return(0,t.useContext)(e)}}const g=m();let y=()=>{throw new Error("uSES not initialized!")};const v=(e,t)=>e===t;function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const n=e===p?g:m(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=v,stabilityCheck:o,noopCheck:a}="function"===typeof r?{equalityFn:r}:r;const{store:s,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=n(),h=((0,t.useRef)(!0),(0,t.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,o])),f=y(l.addNestedSub,s.getState,c||s.getState,h,i);return(0,t.useDebugValue)(f),f}}const w=b();n(110),n(900);const _={notify(){},get:()=>[]};function S(e,t){let n,r=_,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=_)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}const k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;let I=null;const E=function(e){let{store:n,context:r,children:i,serverState:o,stabilityCheck:a="once",noopCheck:s="once"}=e;const l=t.useMemo((()=>{const e=S(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:s}}),[n,o,a,s]),c=t.useMemo((()=>n.getState()),[n]);k((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||p;return t.createElement(u.Provider,{value:l},i)};function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?g:m(e);return function(){const{store:e}=t();return e}}const T=x();function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;const t=e===p?T:x(e);return function(){return t().dispatch}}const N=C();var A;function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function O(e){return!!e&&!!e[_e]}function R(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Se}(e)||Array.isArray(e)||!!e[we]||!!(null===(t=e.constructor)||void 0===t?void 0:t[we])||V(e)||z(e))}function D(e,t,n){void 0===n&&(n=!1),0===L(e)?(n?Object.keys:ke)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function L(e){var t=e[_e];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:V(e)?2:z(e)?3:0}function M(e,t){return 2===L(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function j(e,t){return 2===L(e)?e.get(t):e[t]}function F(e,t,n){var r=L(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function U(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function V(e){return ge&&e instanceof Map}function z(e){return ye&&e instanceof Set}function B(e){return e.o||e.t}function q(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ie(e);delete t[_e];for(var n=ke(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function H(e,t){return void 0===t&&(t=!1),G(e)||O(e)||!R(e)||(L(e)>1&&(e.set=e.add=e.clear=e.delete=W),Object.freeze(e),t&&D(e,(function(e,t){return H(t,!0)}),!0)),e}function W(){P(2)}function G(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function K(e){var t=Ee[e];return t||P(18,e),t}function Q(e,t){Ee[e]||(Ee[e]=t)}function Y(){return pe}function $(e,t){t&&(K("Patches"),e.u=[],e.s=[],e.v=t)}function X(e){J(e),e.p.forEach(ee),e.p=null}function J(e){e===pe&&(pe=e.l)}function Z(e){return pe={p:[],l:pe,h:e,m:!0,_:0}}function ee(e){var t=e[_e];0===t.i||1===t.i?t.j():t.g=!0}function te(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||K("ES5").S(t,e,r),r?(n[_e].P&&(X(t),P(4)),R(e)&&(e=ne(t,e),t.l||ie(t,e)),t.u&&K("Patches").M(n[_e].t,e,t.u,t.s)):e=ne(t,n,[]),X(t),t.u&&t.v(t.u,t.s),e!==be?e:void 0}function ne(e,t,n){if(G(t))return t;var r=t[_e];if(!r)return D(t,(function(i,o){return re(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ie(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=q(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),D(o,(function(t,o){return re(e,r,i,t,o,n,a)})),ie(e,i,!1),n&&e.u&&K("Patches").N(r,n,e.u,e.s)}return r.o}function re(e,t,n,r,i,o,a){if(O(i)){var s=ne(e,i,o&&t&&3!==t.i&&!M(t.R,r)?o.concat(r):void 0);if(F(n,r,s),!O(s))return;e.m=!1}else a&&n.add(i);if(R(i)&&!G(i)){if(!e.h.D&&e._<1)return;ne(e,i),t&&t.A.l||ie(e,i)}}function ie(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&H(t,n)}function oe(e,t){var n=e[_e];return(n?B(n):e)[t]}function ae(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function se(e){e.P||(e.P=!0,e.l&&se(e.l))}function le(e){e.o||(e.o=q(e.t))}function ce(e,t,n){var r=V(t)?K("MapSet").F(t,n):z(t)?K("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Y(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=xe;n&&(i=[r],o=Te);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):K("ES5").J(t,n);return(n?n.A:Y()).p.push(r),r}function ue(e){return O(e)||P(22,e),function e(t){if(!R(t))return t;var n,r=t[_e],i=L(t);if(r){if(!r.P&&(r.i<4||!K("ES5").K(r)))return r.t;r.I=!0,n=de(t,i),r.I=!1}else n=de(t,i);return D(n,(function(t,i){r&&j(r.t,t)===i||F(n,t,e(i))})),3===i?new Set(n):n}(e)}function de(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return q(e)}function he(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[_e];return xe.get(t,e)},set:function(t){var n=this[_e];xe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][_e];if(!i.P)switch(i.i){case 5:r(i)&&se(i);break;case 4:n(i)&&se(i)}}}function n(e){for(var t=e.t,n=e.k,r=ke(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==_e){var a=t[o];if(void 0===a&&!M(t,o))return!0;var s=n[o],l=s&&s[_e];if(l?l.t!==a:!U(s,a))return!0}}var c=!!t[_e];return r.length!==ke(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Q("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Ie(n);delete o[_e];for(var a=ke(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Y(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,_e,{value:o,writable:!0}),i},S:function(e,n,i){i?O(n)&&n[_e].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[_e];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)D(o,(function(t){t!==_e&&(void 0!==i[t]||M(i,t)?a[t]||e(o[t]):(a[t]=!0,se(n)))})),D(i,(function(e){void 0!==o[e]||M(o,e)||(a[e]=!1,se(n))}));else if(5===s){if(r(n)&&(se(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}(e=>{y=e})(a.useSyncExternalStoreWithSelector),(e=>{I=e})(o.useSyncExternalStore),A=s.unstable_batchedUpdates,c=A;var fe,pe,me="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ge="undefined"!=typeof Map,ye="undefined"!=typeof Set,ve="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,be=me?Symbol.for("immer-nothing"):((fe={})["immer-nothing"]=!0,fe),we=me?Symbol.for("immer-draftable"):"__$immer_draftable",_e=me?Symbol.for("immer-state"):"__$immer_state",Se=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ke="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ie=Object.getOwnPropertyDescriptors||function(e){var t={};return ke(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Ee={},xe={get:function(e,t){if(t===_e)return e;var n=B(e);if(!M(n,t))return function(e,t,n){var r,i=ae(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!R(r)?r:r===oe(e.t,t)?(le(e),e.o[t]=ce(e.A.h,r,e)):r},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,n){var r=ae(B(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=oe(B(e),t),o=null==i?void 0:i[_e];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(U(n,i)&&(void 0!==n||M(e.t,t)))return!0;le(e),se(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==oe(e.t,t)||t in e.t?(e.R[t]=!1,le(e),se(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=B(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){P(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){P(12)}},Te={};D(xe,(function(e,t){Te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Te.deleteProperty=function(e,t){return Te.set.call(this,e,t,void 0)},Te.set=function(e,t,n){return xe.set.call(this,e[0],t,n,e[0])};var Ce=function(){function e(e){var t=this;this.O=ve,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&P(6),void 0!==r&&"function"!=typeof r&&P(7),R(e)){var s=Z(t),l=ce(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?X(s):J(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return $(s,r),te(e,s)}),(function(e){throw X(s),e})):($(s,r),te(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===be&&(a=void 0),t.D&&H(a,!0),r){var u=[],d=[];K("Patches").M(e,a,u,d),r(u,d)}return a}P(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){R(e)||P(8),O(e)&&(e=ue(e));var t=Z(this),n=ce(this,e,void 0);return n[_e].C=!0,J(t),n},t.finishDraft=function(e,t){var n=(e&&e[_e]).A;return $(n,t),te(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ve&&P(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=K("Patches").$;return O(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ne=new Ce,Ae=Ne.produce;Ne.produceWithPatches.bind(Ne),Ne.setAutoFreeze.bind(Ne),Ne.setUseProxies.bind(Ne),Ne.applyPatches.bind(Ne),Ne.createDraft.bind(Ne),Ne.finishDraft.bind(Ne);const Pe=Ae;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Re(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:String(t)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=Re(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var je="function"===typeof Symbol&&Symbol.observable||"@@observable",Fe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ue={INIT:"@@redux/INIT"+Fe(),REPLACE:"@@redux/REPLACE"+Fe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fe()}};function Ve(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ze(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Me(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Me(1));return n(ze)(e,t)}if("function"!==typeof e)throw new Error(Me(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Me(3));return o}function d(e){if("function"!==typeof e)throw new Error(Me(4));if(l)throw new Error(Me(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Me(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!Ve(e))throw new Error(Me(7));if("undefined"===typeof e.type)throw new Error(Me(8));if(l)throw new Error(Me(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Ue.INIT}),(r={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Me(10));i=e,h({type:Ue.REPLACE})}})[je]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Me(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[je]=function(){return this},e},r}function Be(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Ue.INIT}))throw new Error(Me(12));if("undefined"===typeof n(void 0,{type:Ue.PROBE_UNKNOWN_ACTION()}))throw new Error(Me(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(Me(14))}i[l]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?i:e}}function qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function He(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Me(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=qe.apply(void 0,o)(n.dispatch),Le(Le({},n),{},{dispatch:r})}}}function We(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ge=We();Ge.withExtraArgument=We;const Ke=Ge;var Qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$e=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Xe=Object.defineProperty,Je=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,rt=function(e,t,n){return t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},it=function(e,t){for(var n in t||(t={}))tt.call(t,n)&&rt(e,n,t[n]);if(et)for(var r=0,i=et(t);r<i.length;r++){n=i[r];nt.call(t,n)&&rt(e,n,t[n])}return e},ot=function(e,t){return Je(e,Ze(t))},at=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},st="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?qe:qe.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function lt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function ct(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return it(it({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var ut=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,$e([void 0],e[0].concat(this)))):new(t.bind.apply(t,$e([void 0],e.concat(this))))},t}(Array),dt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,$e([void 0],e[0].concat(this)))):new(t.bind.apply(t,$e([void 0],e.concat(this))))},t}(Array);function ht(e){return R(e)?Pe(e,(function(){})):e}function ft(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new ut);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ke.withExtraArgument(n.extraArgument)):r.push(Ke));0;return r}(e)}}function pt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function mt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ht(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var t="function"===typeof e.extraReducers?pt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=it(it({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?pt(t):[t,n,r],a=o[0],s=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return ht(e())};else{var c=ht(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=$e([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(O(e))return void 0===(r=n(e,t))?e:r;if(R(e))return Pe(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,l[e]=r?ct(c,r):ct(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var gt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},yt=["name","message","stack","code"],vt=function(e,t){this.payload=e,this.meta=t},bt=function(e,t){this.payload=e,this.meta=t},wt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=yt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},_t=function(){function e(e,t,n){var r=ct(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:ot(it({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ct(e+"/pending",(function(e,t,n){return{payload:void 0,meta:ot(it({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=ct(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||wt)(e||"Rejected"),meta:ot(it({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):gt(),h=new a;function f(e){u=e,h.abort()}var p=function(){return at(this,null,(function(){var a,p,m,g,y,v;return Ye(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:c}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new vt(e,t)},fulfillWithValue:function(e,t){return new bt(e,t)}})).then((function(t){if(t instanceof vt)throw t;return t instanceof bt?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return v=b.sent(),m=v instanceof vt?o(null,d,e,v.payload,v.meta):o(v,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(m)&&m.meta.condition||s(m),[2,m]}var w}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(St)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function St(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var kt="listenerMiddleware";ct(kt+"/add"),ct(kt+"/removeAll"),ct(kt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var It,Et=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Et(10);he();const xt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ct;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nt=function(e){return function(e){const t=xt(e);return Tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return Tt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Pt(e[n],t[n]));return e}const Ot=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Rt=()=>{try{return Ot()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/vkr",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&At(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Dt=()=>{var e;return null===(e=Rt())||void 0===e?void 0:e.config};class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jt(){var e;const t=null===(e=Rt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ft(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vt(){const e=Mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zt(){return!jt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bt(){try{return"object"===typeof indexedDB}catch(e){return!1}}class qt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Wt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qt(n,o,t)}}const Wt=/\{\$([^}]+)}/g;function Gt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Qt(n)&&Qt(o)){if(!Kt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qt(e){return null!==e&&"object"===typeof e}function Yt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $t(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Xt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Jt(e,t){const n=new Zt(e,t);return n.subscribe.bind(n)}class Zt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=en),void 0===r.error&&(r.error=en),void 0===r.complete&&(r.complete=en);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function en(){}function tn(e){return e&&e._delegate?e._delegate:e}class nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rn="[DEFAULT]";class on{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Lt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===rn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn;return this.component?this.component.multipleInstances?e:rn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class an{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new on(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const sn=[];var ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ln||(ln={}));const cn={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},un=ln.INFO,dn={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},hn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=dn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class fn{constructor(e){this.name=e,this._logLevel=un,this._logHandler=hn,this._userLogHandler=null,sn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?cn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...t),this._logHandler(this,ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...t),this._logHandler(this,ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.INFO,...t),this._logHandler(this,ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.WARN,...t),this._logHandler(this,ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...t),this._logHandler(this,ln.ERROR,...t)}}const pn=(e,t)=>t.some((t=>e instanceof t));let mn,gn;const yn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakMap,_n=new WeakMap;let Sn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function kn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(gn||(gn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xn(this),n),En(yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return En(e.apply(xn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(xn(this),t,...r);return bn.set(o,t.sort?t.sort():[t]),En(o)}}function In(e){return"function"===typeof e?kn(e):(e instanceof IDBTransaction&&function(e){if(vn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));vn.set(e,t)}(e),pn(e,mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sn):e)}function En(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(En(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&yn.set(t,e)})).catch((()=>{})),_n.set(t,e),t}(e);if(wn.has(e))return wn.get(e);const t=In(e);return t!==e&&(wn.set(e,t),_n.set(t,e)),t}const xn=e=>_n.get(e);const Tn=["get","getKey","getAll","getAllKeys","count"],Cn=["put","add","delete","clear"],Nn=new Map;function An(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Nn.get(t))return Nn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Cn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tn.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Nn.set(t,o),o}Sn=(e=>({...e,get:(t,n,r)=>An(t,n)||e.get(t,n,r),has:(t,n)=>!!An(t,n)||e.has(t,n)}))(Sn);class Pn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const On="@firebase/app",Rn="0.9.28",Dn=new fn("@firebase/app"),Ln="[DEFAULT]",Mn={[On]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jn=new Map,Fn=new Map;function Un(e,t){try{e.container.addComponent(t)}catch(n){Dn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vn(e,t){e.container.addOrOverwriteComponent(t)}function zn(e){const t=e.name;if(Fn.has(t))return Dn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fn.set(t,e);for(const n of jn.values())Un(n,e);return!0}function Bn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ln;Bn(e,t).clearInstance(n)}function Hn(){Fn.clear()}const Wn=new Ht("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new nn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const Kn="10.8.1";function Qn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wn.create("bad-app-name",{appName:String(i)});if(n||(n=Dt()),!n)throw Wn.create("no-options");const o=jn.get(i);if(o){if(Kt(n,o.options)&&Kt(r,o.config))return o;throw Wn.create("duplicate-app",{appName:i})}const a=new an(i);for(const l of Fn.values())a.addComponent(l);const s=new Gn(n,r,a);return jn.set(i,s),s}function Yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln;const t=jn.get(e);if(!t&&e===Ln&&Dt())return Qn();if(!t)throw Wn.create("no-app",{appName:e});return t}function $n(){return Array.from(jn.values())}async function Xn(e){const t=e.name;jn.has(t)&&(jn.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Jn(e,t,n){var r;let i=null!==(r=Mn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Dn.warn(e.join(" "))}zn(new nn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Zn(e,t){if(null!==e&&"function"!==typeof e)throw Wn.create("invalid-log-argument");!function(e,t){for(const n of sn){let r=null;t&&t.level&&(r=cn[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ln[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function er(e){var t;t=e,sn.forEach((e=>{e.setLogLevel(t)}))}const tr="firebase-heartbeat-database",nr=1,rr="firebase-heartbeat-store";let ir=null;function or(){return ir||(ir=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=En(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(En(a.result),e.oldVersion,e.newVersion,En(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(tr,nr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(rr)}catch(n){console.warn(n)}}}).catch((e=>{throw Wn.create("idb-open",{originalErrorMessage:e.message})}))),ir}async function ar(e,t){try{const n=(await or()).transaction(rr,"readwrite"),r=n.objectStore(rr);await r.put(t,sr(e)),await n.done}catch(n){if(n instanceof qt)Dn.warn(n.message);else{const e=Wn.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Dn.warn(e.message)}}}function sr(e){return"".concat(e.name,"!").concat(e.options.appId)}class lr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ur(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=cr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),dr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Nt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cr(){return(new Date).toISOString().substring(0,10)}class ur{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Bt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await or()).transaction(rr),n=await t.objectStore(rr).get(sr(e));return await t.done,n}catch(t){if(t instanceof qt)Dn.warn(t.message);else{const e=Wn.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Dn.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function dr(e){return Nt(JSON.stringify({version:2,heartbeats:e})).length}var hr;hr="",zn(new nn("platform-logger",(e=>new Pn(e)),"PRIVATE")),zn(new nn("heartbeat",(e=>new lr(e)),"PRIVATE")),Jn(On,Rn,hr),Jn(On,Rn,"esm2017"),Jn("fire-js","");var fr,pr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mr={},gr=gr||{},yr=pr||self;function vr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function br(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wr="closure_uid_"+(1e9*Math.random()>>>0),_r=0;function Sr(e,t,n){return e.call.apply(e.bind,arguments)}function kr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ir(e,t,n){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sr:kr).apply(null,arguments)}function Er(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Tr(){this.s=this.s,this.o=this.o}Tr.prototype.s=!1,Tr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,wr)&&e[wr]||(e[wr]=++_r)}(this)},Tr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Nr(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ar(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(vr(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Pr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var Or=function(){if(!yr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};yr.addEventListener("test",e,t),yr.removeEventListener("test",e,t)}catch(U){}return e}();function Rr(e){return/^[\s\xa0]*$/.test(e)}function Dr(){var e=yr.navigator;return e&&(e=e.userAgent)?e:""}function Lr(e){return-1!=Dr().indexOf(e)}function Mr(e){return Mr[" "](e),e}Mr[" "]=function(){};var jr,Fr,Ur=Lr("Opera"),Vr=Lr("Trident")||Lr("MSIE"),zr=Lr("Edge"),Br=zr||Vr,qr=Lr("Gecko")&&!(-1!=Dr().toLowerCase().indexOf("webkit")&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),Hr=-1!=Dr().toLowerCase().indexOf("webkit")&&!Lr("Edge");function Wr(){var e=yr.document;return e?e.documentMode:void 0}e:{var Gr="",Kr=function(){var e=Dr();return qr?/rv:([^\);]+)(\)|;)/.exec(e):zr?/Edge\/([\d\.]+)/.exec(e):Vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hr?/WebKit\/(\S+)/.exec(e):Ur?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Kr&&(Gr=Kr?Kr[1]:""),Vr){var Qr=Wr();if(null!=Qr&&Qr>parseFloat(Gr)){jr=String(Qr);break e}}jr=Gr}if(yr.document&&Vr){var Yr=Wr();Fr=Yr||(parseInt(jr,10)||void 0)}else Fr=void 0;var $r=Fr;function Xr(e,t){if(Pr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qr){e:{try{Mr(t.nodeName);var i=!0;break e}catch(F){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xr.$.h.call(this)}}xr(Xr,Pr);var Jr={2:"touch",3:"pen",4:"mouse"};Xr.prototype.h=function(){Xr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zr="closure_listenable_"+(1e6*Math.random()|0),ei=0;function ti(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ei,this.fa=this.ia=!1}function ni(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ri(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ii(e){const t={};for(const n in e)t[n]=e[n];return t}const oi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ai(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<oi.length;t++)n=oi[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function si(e){this.src=e,this.g={},this.h=0}function li(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Cr(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ni(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ci(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}si.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ci(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ti(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ui="closure_lm_"+(1e6*Math.random()|0),di={};function hi(e,t,n,r,i){if(r&&r.once)return pi(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)hi(e,t[o],n,r,i);return null}return n=_i(n),e&&e[Zr]?e.O(t,n,br(r)?!!r.capture:!!r,i):fi(e,t,n,!1,r,i)}function fi(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=br(i)?!!i.capture:!!i,s=bi(e);if(s||(e[ui]=s=new si(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=vi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Or||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yi(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pi(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pi(e,t[o],n,r,i);return null}return n=_i(n),e&&e[Zr]?e.P(t,n,br(r)?!!r.capture:!!r,i):fi(e,t,n,!0,r,i)}function mi(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)mi(e,t[o],n,r,i);else r=br(r)?!!r.capture:!!r,n=_i(n),e&&e[Zr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ci(o=e.g[t],n,r,i))&&(ni(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=bi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ci(t,n,r,i)),(n=-1<e?t[e]:null)&&gi(n))}function gi(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Zr])li(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yi(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bi(t))?(li(n,e),0==n.h&&(n.src=null,t[ui]=null)):ni(e)}}}function yi(e){return e in di?di[e]:di[e]="on"+e}function vi(e,t){if(e.fa)e=!0;else{t=new Xr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&gi(e),e=n.call(r,t)}return e}function bi(e){return(e=e[ui])instanceof si?e:null}var wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function _i(e){return"function"===typeof e?e:(e[wi]||(e[wi]=function(t){return e.handleEvent(t)}),e[wi])}function Si(){Tr.call(this),this.i=new si(this),this.S=this,this.J=null}function ki(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Pr(t,e);else if(t instanceof Pr)t.target=t.target||e;else{var i=t;ai(t=new Pr(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ii(a,r,!0,t)&&i}if(i=Ii(a=t.g=e,r,!0,t)&&i,i=Ii(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ii(a=t.g=n[o],r,!1,t)&&i}function Ii(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&li(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}xr(Si,Tr),Si.prototype[Zr]=!0,Si.prototype.removeEventListener=function(e,t,n,r){mi(this,e,t,n,r)},Si.prototype.N=function(){if(Si.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ni(n[r]);delete t.g[e],t.h--}}this.J=null},Si.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Si.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ei=yr.JSON.stringify;function xi(){var e=Ri;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ti=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Ci),(e=>e.reset()));class Ci{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ni(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ai(e){yr.setTimeout((()=>{throw e}),0)}let Pi,Oi=!1,Ri=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ti.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Di=()=>{const e=yr.Promise.resolve(void 0);Pi=()=>{e.then(Li)}};var Li=()=>{for(var e;e=xi();){try{e.h.call(e.g)}catch(U){Ai(U)}var t=Ti;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oi=!1};function Mi(e,t){Si.call(this),this.h=e||1,this.g=t||yr,this.j=Ir(this.qb,this),this.l=Date.now()}function ji(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Fi(e,t,n){if("function"===typeof e)n&&(e=Ir(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ir(e.handleEvent,e)}return 2147483647<Number(t)?-1:yr.setTimeout(e,t||0)}function Ui(e){e.g=Fi((()=>{e.g=null,e.i&&(e.i=!1,Ui(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}xr(Mi,Si),(fr=Mi.prototype).ga=!1,fr.T=null,fr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ki(this,"tick"),this.ga&&(ji(this),this.start()))}},fr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fr.N=function(){Mi.$.N.call(this),ji(this),delete this.g};class Vi extends Tr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(yr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(e){Tr.call(this),this.h=e,this.g={}}xr(zi,Tr);var Bi=[];function qi(e,t,n,r){Array.isArray(n)||(n&&(Bi[0]=n.toString()),n=Bi);for(var i=0;i<n.length;i++){var o=hi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Hi(e){ri(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gi(e)}),e),e.g={}}function Wi(){this.g=!0}function Gi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ei(n)}catch(P){return t}}(e,n)+(r?" "+r:"")}))}zi.prototype.N=function(){zi.$.N.call(this),Hi(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wi.prototype.Ea=function(){this.g=!1},Wi.prototype.info=function(){};var Ki={},Qi=null;function Yi(){return Qi=Qi||new Si}function $i(e){Pr.call(this,Ki.Ta,e)}function Xi(e){const t=Yi();ki(t,new $i(t))}function Ji(e,t){Pr.call(this,Ki.STAT_EVENT,e),this.stat=t}function Zi(e){const t=Yi();ki(t,new Ji(t,e))}function eo(e,t){Pr.call(this,Ki.Ua,e),this.size=t}function to(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yr.setTimeout((function(){e()}),t)}Ki.Ta="serverreachability",xr($i,Pr),Ki.STAT_EVENT="statevent",xr(Ji,Pr),Ki.Ua="timingevent",xr(eo,Pr);var no={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ro={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function io(){}function oo(e){return e.h||(e.h=e.i())}function ao(){}io.prototype.h=null;var so,lo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function co(){Pr.call(this,"d")}function uo(){Pr.call(this,"c")}function ho(){}function fo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zi(this),this.P=mo,e=Br?125:void 0,this.V=new Mi(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new po}function po(){this.i=null,this.g="",this.h=!1}xr(co,Pr),xr(uo,Pr),xr(ho,io),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},so=new ho;var mo=45e3,go={},yo={};function vo(e,t,n){e.L=1,e.A=jo(Oo(t)),e.u=n,e.S=!0,bo(e,null)}function bo(e,t){e.G=Date.now(),ko(e),e.B=Oo(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),$o(n.i,"t",r),e.o=0,n=e.l.J,e.h=new po,e.g=$a(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Vi(Ir(e.Pa,e,e.g),e.O)),qi(e.U,e.g,"readystatechange",e.nb),t=e.I?ii(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Xi(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function wo(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function _o(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=So(e,n),r==yo){4==t&&(e.s=4,Zi(14),i=!1),Gi(e.j,e.m,null,"[Incomplete Response]");break}if(r==go){e.s=4,Zi(15),Gi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gi(e.j,e.m,r,null),Co(e,r)}wo(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Zi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ba(t),t.M=!0,Zi(11))):(Gi(e.j,e.m,n,"[Invalid Chunked Response]"),To(e),xo(e))}function So(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?yo:(n=Number(t.substring(n,r)),isNaN(n)?go:(r+=1)+n>t.length?yo:(t=t.slice(r,r+n),e.o=r+n,t))}function ko(e){e.Y=Date.now()+e.P,Io(e,e.P)}function Io(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=to(Ir(e.lb,e),t)}function Eo(e){e.C&&(yr.clearTimeout(e.C),e.C=null)}function xo(e){0==e.l.H||e.J||Wa(e.l,e)}function To(e){Eo(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ji(e.V),Hi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Co(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ra(n.i,e)))if(!e.K&&ra(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Q){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ha(n),Da(n)}za(n),Zi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=to(Ir(n.ib,n),6e3));if(1>=na(n.i)&&n.oa){try{n.oa()}catch(Q){}n.oa=void 0}}else Ka(n,11)}else if((e.K||n.g==e)&&Ha(n),!Rr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ia(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Mo(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Ya(r,r.J?r.pa:null,r.Y),a.K){oa(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.C&&(Eo(s),ko(s)),r.g=a}else Va(r);0<n.j.length&&Ma(n)}else"stop"!=c[0]&&"close"!=c[0]||Ka(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ka(n,7):Ra(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Xi()}catch(Q){}}function No(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(fr=fo.prototype).setTimeout=function(e){this.P=e},fr.nb=function(e){e=e.target;const t=this.M;t&&3==Ta(e)?t.l():this.Pa(e)},fr.Pa=function(e){try{if(e==this.g)e:{const u=Ta(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Br||this.g&&(this.h.h||this.g.ja()||Ca(this.g)))){this.J||4!=u||7==t||Xi(),Eo(this);var n=this.g.da();this.ca=n;t:if(wo(this)){var r=Ca(this.g);e="";var i=r.length,o=4==Ta(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){To(this),xo(this);var a="";break t}this.h.i=new yr.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Zi(12),To(this),xo(this);break e}Gi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Co(this,n)}this.S?(_o(this,u,a),Br&&this.i&&3==u&&(qi(this.U,this.V,"tick",this.mb),this.V.start())):(Gi(this.j,this.m,a,null),Co(this,a)),4==u&&To(this),this.i&&!this.J&&(4==u?Wa(this.l,this):(this.i=!1,ko(this)))}else(function(e){const t={};e=(e.g&&2<=Ta(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Rr(e[r]))continue;var n=Ni(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Zi(12)):(this.s=0,Zi(13)),To(this),xo(this)}}}catch(M){}},fr.mb=function(){if(this.g){var e=Ta(this.g),t=this.g.ja();this.o<t.length&&(Eo(this),_o(this,e,t),this.i&&4!=e&&ko(this))}},fr.cancel=function(){this.J=!0,To(this)},fr.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Xi(),Zi(17)),To(this),this.s=2,xo(this)):Io(this,this.Y-e)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Po){this.h=e.h,Ro(this,e.j),this.s=e.s,this.g=e.g,Do(this,e.m),this.l=e.l;var t=e.i,n=new Go;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Lo(this,n),this.o=e.o}else e&&(t=String(e).match(Ao))?(this.h=!1,Ro(this,t[1]||"",!0),this.s=Fo(t[2]||""),this.g=Fo(t[3]||"",!0),Do(this,t[4]),this.l=Fo(t[5]||"",!0),Lo(this,t[6]||"",!0),this.o=Fo(t[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}function Oo(e){return new Po(e)}function Ro(e,t,n){e.j=n?Fo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Do(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Lo(e,t,n){t instanceof Go?(e.i=t,function(e,t){t&&!e.j&&(Ko(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qo(this,t),$o(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Uo(t,Ho)),e.i=new Go(t,e.h))}function Mo(e,t,n){e.i.set(t,n)}function jo(e){return Mo(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Uo(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vo),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vo(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Po.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Uo(t,zo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Uo(t,zo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Uo(n,"/"==n.charAt(0)?qo:Bo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Uo(n,Wo)),e.join("")};var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,qo=/[#\?]/g,Ho=/[#\?@]/g,Wo=/#/g;function Go(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ko(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qo(e,t){Ko(e),t=Xo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yo(e,t){return Ko(e),t=Xo(e,t),e.g.has(t)}function $o(e,t,n){Qo(e,t),0<n.length&&(e.i=null,e.g.set(Xo(e,t),Nr(n)),e.h+=n.length)}function Xo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fr=Go.prototype).add=function(e,t){Ko(this),this.i=null,e=Xo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fr.forEach=function(e,t){Ko(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},fr.ta=function(){Ko(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},fr.Z=function(e){Ko(this);let t=[];if("string"===typeof e)Yo(this,e)&&(t=t.concat(this.g.get(Xo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},fr.set=function(e,t){return Ko(this),this.i=null,Yo(this,e=Xo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},fr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Jo=class{constructor(e,t){this.g=e,this.map=t}};function Zo(e){this.l=e||ea,yr.PerformanceNavigationTiming?e=0<(e=yr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yr.g&&yr.g.Ka&&yr.g.Ka()&&yr.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ea=10;function ta(e){return!!e.h||!!e.g&&e.g.size>=e.j}function na(e){return e.h?1:e.g?e.g.size:0}function ra(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ia(e,t){e.g?e.g.add(t):e.h=t}function oa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function aa(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Nr(e.i)}Zo.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var sa=class{stringify(e){return yr.JSON.stringify(e,void 0)}parse(e){return yr.JSON.parse(e,void 0)}};function la(){this.g=new sa}function ca(e,t,n){const r=n||"";try{No(e,(function(e,n){let i=e;br(e)&&(i=Ei(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ua(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(F){}}function da(e){this.l=e.ec||null,this.j=e.ob||!1}function ha(e,t){Si.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xr(da,io),da.prototype.g=function(){return new ha(this.l,this.j)},da.prototype.i=function(e){return function(){return e}}({}),xr(ha,Si);var fa=0;function pa(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ma(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ga(e)}function ga(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fr=ha.prototype).open=function(e,t){if(this.readyState!=fa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ga(this)},fr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||yr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},fr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ma(this)),this.readyState=fa},fr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof yr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pa(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},fr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ma(this):ga(this),3==this.readyState&&pa(this)}},fr.Za=function(e){this.g&&(this.response=this.responseText=e,ma(this))},fr.Ya=function(e){this.g&&(this.response=e,ma(this))},fr.ka=function(){this.g&&ma(this)},fr.setRequestHeader=function(e,t){this.v.append(e,t)},fr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ya=yr.JSON.parse;function va(e){Si.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ba,this.L=this.M=!1}xr(va,Si);var ba="",wa=/^https?$/i,_a=["POST","PUT"];function Sa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ka(e),Ea(e)}function ka(e){e.F||(e.F=!0,ki(e,"complete"),ki(e,"error"))}function Ia(e){if(e.h&&"undefined"!=typeof gr&&(!e.C[1]||4!=Ta(e)||2!=e.da()))if(e.v&&4==Ta(e))Fi(e.La,0,e);else if(ki(e,"readystatechange"),4==Ta(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Ao)[1]||null;!i&&yr.self&&yr.self.location&&(i=yr.self.location.protocol.slice(0,-1)),r=!wa.test(i?i.toLowerCase():"")}n=r}if(n)ki(e,"complete"),ki(e,"success");else{e.m=6;try{var o=2<Ta(e)?e.g.statusText:""}catch(P){o=""}e.j=o+" ["+e.da()+"]",ka(e)}}finally{Ea(e)}}}function Ea(e,t){if(e.g){xa(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ki(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function xa(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(yr.clearTimeout(e.A),e.A=null)}function Ta(e){return e.g?e.g.readyState:0}function Ca(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ba:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(K){return null}}function Na(e){let t="";return ri(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Aa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Na(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Mo(e,t,n))}function Pa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Oa(e){this.Ga=0,this.j=[],this.l=new Wi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pa("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pa("baseRetryDelayMs",5e3,e),this.hb=Pa("retryDelaySeedMs",1e4,e),this.eb=Pa("forwardChannelMaxRetries",2,e),this.xa=Pa("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Zo(e&&e.concurrentRequestLimit),this.Ja=new la,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ra(e){if(La(e),3==e.H){var t=e.W++,n=Oo(e.I);if(Mo(n,"SID",e.K),Mo(n,"RID",t),Mo(n,"TYPE","terminate"),Fa(e,n),(t=new fo(e,e.l,t)).L=2,t.A=jo(Oo(n)),n=!1,yr.navigator&&yr.navigator.sendBeacon)try{n=yr.navigator.sendBeacon(t.A.toString(),"")}catch(H){}!n&&yr.Image&&((new Image).src=t.A,n=!0),n||(t.g=$a(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ko(t)}Qa(e)}function Da(e){e.g&&(Ba(e),e.g.cancel(),e.g=null)}function La(e){Da(e),e.u&&(yr.clearTimeout(e.u),e.u=null),Ha(e),e.i.cancel(),e.m&&("number"===typeof e.m&&yr.clearTimeout(e.m),e.m=null)}function Ma(e){if(!ta(e.i)&&!e.m){e.m=!0;var t=e.Na;Pi||Di(),Oi||(Pi(),Oi=!0),Ri.add(t,e),e.C=0}}function ja(e,t){var n;n=t?t.m:e.W++;const r=Oo(e.I);Mo(r,"SID",e.K),Mo(r,"RID",n),Mo(r,"AID",e.V),Fa(e,r),e.o&&e.s&&Aa(r,e.o,e.s),n=new fo(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ua(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ia(e.i,n),vo(n,r,t)}function Fa(e,t){e.na&&ri(e.na,(function(e,n){Mo(t,n,e)})),e.h&&No({},(function(e,n){Mo(t,n,e)}))}function Ua(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ir(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{ca(s,e,"req"+n+"_")}catch(we){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Va(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Pi||Di(),Oi||(Pi(),Oi=!0),Ri.add(t,e),e.A=0}}function za(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=to(Ir(e.Ma,e),Ga(e,e.A)),e.A++,!0)}function Ba(e){null!=e.B&&(yr.clearTimeout(e.B),e.B=null)}function qa(e){e.g=new fo(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Oo(e.wa);Mo(t,"RID","rpc"),Mo(t,"SID",e.K),Mo(t,"AID",e.V),Mo(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Mo(t,"TO",e.qa),Mo(t,"TYPE","xmlhttp"),Fa(e,t),e.o&&e.s&&Aa(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=jo(Oo(t)),n.u=null,n.S=!0,bo(n,e)}function Ha(e){null!=e.v&&(yr.clearTimeout(e.v),e.v=null)}function Wa(e,t){var n=null;if(e.g==t){Ha(e),Ba(e),e.g=null;var r=2}else{if(!ra(e.i,t))return;n=t.F,oa(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;ki(r=Yi(),new eo(r,n)),Ma(e)}else Va(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(na(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=to(Ir(e.Na,e,t),Ga(e,e.C)),e.C++,!0))}(e,t)||2==r&&za(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ka(e,5);break;case 4:Ka(e,10);break;case 3:Ka(e,6);break;default:Ka(e,2)}}function Ga(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ka(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ir(e.pb,e);n||(n=new Po("//www.google.com/images/cleardot.gif"),yr.location&&"http"==yr.location.protocol||Ro(n,"https"),jo(n)),function(e,t){const n=new Wi;if(yr.Image){const r=new Image;r.onload=Er(ua,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Er(ua,n,r,"TestLoadImage: error",!1,t),r.onabort=Er(ua,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Er(ua,n,r,"TestLoadImage: timeout",!1,t),yr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zi(2);e.H=0,e.h&&e.h.za(t),Qa(e),La(e)}function Qa(e){if(e.H=0,e.ma=[],e.h){const t=aa(e.i);0==t.length&&0==e.j.length||(Ar(e.ma,t),Ar(e.ma,e.j),e.i.i.length=0,Nr(e.j),e.j.length=0),e.h.ya()}}function Ya(e,t,n){var r=n instanceof Po?Oo(n):new Po(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Do(r,r.m);else{var i=yr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Po(null);r&&Ro(o,r),t&&(o.g=t),i&&Do(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Mo(r,n,t),Mo(r,"VER",e.ra),Fa(e,r),r}function $a(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new va(new da({ob:n})):new va(e.va)).Oa(e.J),t}function Xa(){}function Ja(){if(Vr&&!(10<=Number($r)))throw Error("Environmental error: no available transport.")}function Za(e,t){Si.call(this),this.g=new Oa(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Rr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ns(this)}function es(e){co.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ts(){uo.call(this),this.status=1}function ns(e){this.g=e}function rs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function is(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function os(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(fr=va.prototype).Oa=function(e){this.M=e},fr.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():so.g(),this.C=this.u?oo(this.u):oo(so),this.g.onreadystatechange=Ir(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(F){return void Sa(this,F)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=yr.FormData&&e instanceof yr.FormData,!(0<=Cr(_a,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xa(this),0<this.B&&((this.L=function(e){return Vr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.ua,this)):this.A=Fi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(F){Sa(this,F)}},fr.ua=function(){"undefined"!=typeof gr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},fr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ki(this,"complete"),ki(this,"abort"),Ea(this))},fr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ea(this,!0)),va.$.N.call(this)},fr.La=function(){this.s||(this.G||this.v||this.l?Ia(this):this.kb())},fr.kb=function(){Ia(this)},fr.isActive=function(){return!!this.g},fr.da=function(){try{return 2<Ta(this)?this.g.status:-1}catch(j){return-1}},fr.ja=function(){try{return this.g?this.g.responseText:""}catch(j){return""}},fr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ya(t)}},fr.Ia=function(){return this.m},fr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(fr=Oa.prototype).ra=8,fr.H=1,fr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new fo(this,this.l,e);let o=this.s;if(this.U&&(o?(o=ii(o),ai(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ua(this,i,t),Mo(n=Oo(this.I),"RID",e),Mo(n,"CVER",22),this.F&&Mo(n,"X-HTTP-Session-Id",this.F),Fa(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Na(o)))+"&"+t:this.o&&Aa(n,this.o,o)),ia(this.i,i),this.bb&&Mo(n,"TYPE","init"),this.P?(Mo(n,"$req",t),Mo(n,"SID","null"),i.aa=!0,vo(i,n,null)):vo(i,n,t),this.H=2}}else 3==this.H&&(e?ja(this,e):0==this.j.length||ta(this.i)||ja(this))},fr.Ma=function(){if(this.u=null,qa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=to(Ir(this.jb,this),e)}},fr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zi(10),Da(this),qa(this))},fr.ib=function(){null!=this.v&&(this.v=null,Da(this),za(this),Zi(19))},fr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zi(2)):(this.l.info("Failed to ping google.com"),Zi(1))},fr.isActive=function(){return!!this.h&&this.h.isActive(this)},(fr=Xa.prototype).Ba=function(){},fr.Aa=function(){},fr.za=function(){},fr.ya=function(){},fr.isActive=function(){return!0},fr.Va=function(){},Ja.prototype.g=function(e,t){return new Za(e,t)},xr(Za,Si),Za.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Zi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ya(e,null,e.Y),Ma(e)},Za.prototype.close=function(){Ra(this.g)},Za.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ei(e),e=n);t.j.push(new Jo(t.fb++,e)),3==t.H&&Ma(t)},Za.prototype.N=function(){this.g.h=null,delete this.j,Ra(this.g),delete this.g,Za.$.N.call(this)},xr(es,co),xr(ts,uo),xr(ns,Xa),ns.prototype.Ba=function(){ki(this.g,"a")},ns.prototype.Aa=function(e){ki(this.g,new es(e))},ns.prototype.za=function(e){ki(this.g,new ts)},ns.prototype.ya=function(){ki(this.g,"b")},xr(rs,(function(){this.blockSize=-1})),rs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rs.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)is(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){is(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){is(this,r),i=0;break}}this.h=i,this.i+=t},rs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var as={};function ss(e){return-128<=e&&128>e?function(e,t){var n=as;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new os([0|e],0>e?-1:0)})):new os([0|e],0>e?-1:0)}function ls(e){if(isNaN(e)||!isFinite(e))return us;if(0>e)return ms(ls(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=cs;return new os(t,0)}var cs=4294967296,us=ss(0),ds=ss(1),hs=ss(16777216);function fs(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ps(e){return-1==e.h}function ms(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new os(n,~e.h).add(ds)}function gs(e,t){return e.add(ms(t))}function ys(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vs(e,t){this.g=e,this.h=t}function bs(e,t){if(fs(t))throw Error("division by zero");if(fs(e))return new vs(us,us);if(ps(e))return t=bs(ms(e),t),new vs(ms(t.g),ms(t.h));if(ps(t))return t=bs(e,ms(t)),new vs(ms(t.g),t.h);if(30<e.g.length){if(ps(e)||ps(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ds,r=t;0>=r.X(e);)n=ws(n),r=ws(r);var i=_s(n,1),o=_s(r,1);for(r=_s(r,2),n=_s(n,2);!fs(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=_s(r,1),n=_s(n,1)}return t=gs(e,i.R(t)),new vs(i,t)}for(i=us;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=ls(n)).R(t);ps(a)||0<a.X(e);)a=(o=ls(n-=r)).R(t);fs(o)&&(o=ds),i=i.add(o),e=gs(e,a)}return new vs(i,e)}function ws(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new os(n,e.h)}function _s(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new os(i,e.h)}(fr=os.prototype).ea=function(){if(ps(this))return-ms(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:cs+r)*t,t*=cs}return e},fr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fs(this))return"0";if(ps(this))return"-"+ms(this).toString(e);for(var t=ls(Math.pow(e,6)),n=this,r="";;){var i=bs(n,t).g,o=((0<(n=gs(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fs(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},fr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},fr.X=function(e){return ps(e=gs(this,e))?-1:fs(e)?0:1},fr.abs=function(){return ps(this)?ms(this):this},fr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new os(n,-2147483648&n[n.length-1]?-1:0)},fr.R=function(e){if(fs(this)||fs(e))return us;if(ps(this))return ps(e)?ms(this).R(ms(e)):ms(ms(this).R(e));if(ps(e))return ms(this.R(ms(e)));if(0>this.X(hs)&&0>e.X(hs))return ls(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ys(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ys(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,ys(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,ys(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new os(n,0)},fr.gb=function(e){return bs(this,e).h},fr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new os(n,this.h&e.h)},fr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new os(n,this.h|e.h)},fr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new os(n,this.h^e.h)},Ja.prototype.createWebChannel=Ja.prototype.g,Za.prototype.send=Za.prototype.u,Za.prototype.open=Za.prototype.m,Za.prototype.close=Za.prototype.close,no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,ro.COMPLETE="complete",ao.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",Si.prototype.listen=Si.prototype.O,va.prototype.listenOnce=va.prototype.P,va.prototype.getLastError=va.prototype.Sa,va.prototype.getLastErrorCode=va.prototype.Ia,va.prototype.getStatus=va.prototype.da,va.prototype.getResponseJson=va.prototype.Wa,va.prototype.getResponseText=va.prototype.ja,va.prototype.send=va.prototype.ha,va.prototype.setWithCredentials=va.prototype.Oa,rs.prototype.digest=rs.prototype.l,rs.prototype.reset=rs.prototype.reset,rs.prototype.update=rs.prototype.j,os.prototype.add=os.prototype.add,os.prototype.multiply=os.prototype.R,os.prototype.modulo=os.prototype.gb,os.prototype.compare=os.prototype.X,os.prototype.toNumber=os.prototype.ea,os.prototype.toString=os.prototype.toString,os.prototype.getBits=os.prototype.D,os.fromNumber=ls,os.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ms(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ls(Math.pow(n,8)),i=us,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=ls(Math.pow(n,a)),i=i.R(a).add(ls(s))):i=(i=i.R(r)).add(ls(s))}return i};var Ss=mr.createWebChannelTransport=function(){return new Ja},ks=mr.getStatEventTarget=function(){return Yi()},Is=mr.ErrorCode=no,Es=mr.EventType=ro,xs=mr.Event=Ki,Ts=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cs=(mr.FetchXmlHttpFactory=da,mr.WebChannel=ao),Ns=mr.XhrIo=va,As=mr.Md5=rs,Ps=mr.Integer=os;const Os="@firebase/firestore";class Rs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");let Ds="10.8.1";const Ls=new fn("@firebase/firestore");function Ms(){return Ls.logLevel}function js(e){if(Ls.logLevel<=ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vs);Ls.debug("Firestore (".concat(Ds,"): ").concat(e),...i)}}function Fs(e){if(Ls.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vs);Ls.error("Firestore (".concat(Ds,"): ").concat(e),...i)}}function Us(e){if(Ls.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vs);Ls.warn("Firestore (".concat(Ds,"): ").concat(e),...i)}}function Vs(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(R){return e}}function zs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Ds,") INTERNAL ASSERTION FAILED: ")+e;throw Fs(t),new Error(t)}function Bs(e,t){e||zs()}function qs(e,t){return e}const Hs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ws extends qt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ks{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Qs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rs.UNAUTHENTICATED)))}shutdown(){}}class Ys{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $s{constructor(e){this.t=e,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gs,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{js("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(js("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gs)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(js("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Bs("string"==typeof t.accessToken),new Ks(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bs(null===e||"string"==typeof e),new Rs(e)}}class Xs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Js{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Xs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Rs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class el{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&js("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,js("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{js("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):js("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Bs("string"==typeof e.token),this.R=e.token,new Zs(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class nl{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=tl(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function rl(e,t){return e<t?-1:e>t?1:0}function il(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ol(e){return e+"\0"}class al{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ws(Hs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return al.fromMillis(Date.now())}static fromDate(e){return al.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new al(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rl(this.nanoseconds,e.nanoseconds):rl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sl(e)}static min(){return new sl(new al(0,0))}static max(){return new sl(new al(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ll{constructor(e,t,n){void 0===t?t=0:t>e.length&&zs(),void 0===n?n=e.length-t:n>e.length-t&&zs(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ll.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cl extends ll{construct(e,t,n){return new cl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new cl(e)}static emptyPath(){return new cl([])}}const ul=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dl extends ll{construct(e,t,n){return new dl(e,t,n)}static isValidIdentifier(e){return ul.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dl.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dl(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ws(Hs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ws(Hs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Ws(Hs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dl(t)}static emptyPath(){return new dl([])}}class hl{constructor(e){this.path=e}static fromPath(e){return new hl(cl.fromString(e))}static fromName(e){return new hl(cl.fromString(e).popFirst(5))}static empty(){return new hl(cl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hl(new cl(e.slice()))}}class fl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function pl(e){return e.fields.find((e=>2===e.kind))}function ml(e){return e.fields.filter((e=>2!==e.kind))}fl.UNKNOWN_ID=-1;class gl{constructor(e,t){this.fieldPath=e,this.kind=t}}class yl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new yl(0,wl.min())}}function vl(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sl.fromTimestamp(1e9===r?new al(n+1,0):new al(n,r));return new wl(i,hl.empty(),t)}function bl(e){return new wl(e.readTime,e.key,-1)}class wl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new wl(sl.min(),hl.empty(),-1)}static max(){return new wl(sl.max(),hl.empty(),-1)}}function _l(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=hl.comparator(e.documentKey,t.documentKey),0!==n?n:rl(e.largestBatchId,t.largestBatchId))}const Sl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(e){if(e.code!==Hs.FAILED_PRECONDITION||e.message!==Sl)throw e;js("LocalStore","Unexpectedly lost primary lease")}class El{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new El(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof El?t:El.resolve(t)}catch(e){return El.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):El.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):El.reject(t)}static resolve(e){return new El(((t,n)=>{t(e)}))}static reject(e){return new El(((t,n)=>{n(e)}))}static waitFor(e){return new El(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=El.resolve(!1);for(const n of e)t=t.next((e=>e?El.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new El(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new El(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class xl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Gs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Nl(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Dl(t.target.error);this.V.reject(new Nl(e,n))}}static open(e,t,n,r){try{return new xl(t,e.transaction(r,n))}catch(e){throw new Nl(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(js("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pl(t)}}class Tl{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Tl.S(Mt())&&Fs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return js("SimpleDb","Removing database:",e),Ol(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bt())return!1;if(Tl.C())return!0;const e=Mt(),t=Tl.S(e),n=0<t&&t<10,r=Tl.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(js("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Nl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ws(Hs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ws(Hs.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Nl(e,r))},r.onupgradeneeded=e=>{js("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{js("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=xl.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),El.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(js("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Cl{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ol(this.k.delete())}}class Nl extends Ws{constructor(e,t){super(Hs.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Al(e){return"IndexedDbTransactionError"===e.name}class Pl{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(js("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(js("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ol(n)}add(e){return js("SimpleDb","ADD",this.store.name,e,e),Ol(this.store.add(e))}get(e){return Ol(this.store.get(e)).next((t=>(void 0===t&&(t=null),js("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return js("SimpleDb","DELETE",this.store.name,e),Ol(this.store.delete(e))}count(){return js("SimpleDb","COUNT",this.store.name),Ol(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new El(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new El(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){js("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new El(((n,r)=>{t.onerror=e=>{const t=Dl(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new El(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Cl(i),a=t(i.primaryKey,i.value,o);if(a instanceof El){const e=a.catch((e=>(o.done(),El.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>El.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ol(e){return new El(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Dl(e.target.error);n(t)}}))}let Rl=!1;function Dl(e){const t=Tl.S(Mt());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ws("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Rl||(Rl=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ll{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){js("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{js("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){Al(e)?js("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Il(e)}await this.ee(6e4)}))}}class Ml{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return El.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return js("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(js("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=bl(t);_l(r,n)>0&&(n=r)})),new wl(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class jl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Fl(e){return null==e}function Ul(e){return 0===e&&1/e==-1/0}function Vl(e){return"number"==typeof e&&Number.isInteger(e)&&!Ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ql(t)),t=Bl(e.get(n),t);return ql(t)}function Bl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function ql(e){return e+"\x01\x01"}function Hl(e){const t=e.length;if(Bs(t>=2),2===t)return Bs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),cl.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&zs(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:zs()}o=t+2}return new cl(r)}jl._e=-1;const Wl=["userId","batchId"];function Gl(e,t){return[e,zl(t)]}function Kl(e,t,n){return[e,zl(t),n]}const Ql={},Yl=["prefixPath","collectionGroup","readTime","documentId"],$l=["prefixPath","collectionGroup","documentId"],Xl=["collectionGroup","readTime","prefixPath","documentId"],Jl=["canonicalId","targetId"],Zl=["targetId","path"],ec=["path","targetId"],tc=["collectionId","parent"],nc=["indexId","uid"],rc=["uid","sequenceNumber"],ic=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oc=["indexId","uid","orderedDocumentKey"],ac=["userId","collectionPath","documentId"],sc=["userId","collectionPath","largestBatchId"],lc=["userId","collectionGroup","largestBatchId"],cc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uc=[...cc,"documentOverlays"],dc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hc=dc,fc=[...hc,"indexConfiguration","indexState","indexEntries"];class pc extends kl{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function mc(e,t){const n=qs(e);return Tl.M(n.ae,t)}function gc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bc{constructor(e,t){this.comparator=e,this.root=t||_c.EMPTY}insert(e,t){return new bc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_c.BLACK,null,null))}remove(e){return new bc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_c.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _c{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:_c.RED,this.left=null!=r?r:_c.EMPTY,this.right=null!=i?i:_c.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new _c(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _c.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return _c.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_c.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zs();if(this.right.isRed())throw zs();const e=this.left.check();if(e!==this.right.check())throw zs();return e+(this.isRed()?0:1)}}_c.EMPTY=null,_c.RED=!0,_c.BLACK=!1,_c.EMPTY=new class{constructor(){this.size=0}get key(){throw zs()}get value(){throw zs()}get color(){throw zs()}get left(){throw zs()}get right(){throw zs()}copy(e,t,n,r,i){return this}insert(e,t,n){return new _c(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sc{constructor(e){this.comparator=e,this.data=new bc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new kc(this.data.getIterator())}getIteratorFrom(e){return new kc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Sc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Sc(this.comparator);return t.data=e,t}}class kc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(e){return e.hasNext()?e.getNext():void 0}class Ec{constructor(e){this.fields=e,e.sort(dl.comparator)}static empty(){return new Ec([])}unionWith(e){let t=new Sc(dl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ec(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class xc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xc("Invalid base64 string: "+e):e}}(e);return new Tc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tc.EMPTY_BYTE_STRING=new Tc("");const Cc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(e){if(Bs(!!e),"string"==typeof e){let t=0;const n=Cc.exec(e);if(Bs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ac(e.seconds),nanos:Ac(e.nanos)}}function Ac(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pc(e){return"string"==typeof e?Tc.fromBase64String(e):Tc.fromUint8Array(e)}function Oc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rc(e){const t=e.mapValue.fields.__previous_value__;return Oc(t)?Rc(t):t}function Dc(e){const t=Nc(e.mapValue.fields.__local_write_time__.timestampValue);return new al(t.seconds,t.nanos)}class Lc{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fc={nullValue:"NULL_VALUE"};function Uc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oc(e)?4:Zc(e)?9007199254740991:10:zs()}function Vc(e,t){if(e===t)return!0;const n=Uc(e);if(n!==Uc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dc(e).isEqual(Dc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Nc(e.timestampValue),r=Nc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pc(e.bytesValue).isEqual(Pc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ac(e.geoPointValue.latitude)===Ac(t.geoPointValue.latitude)&&Ac(e.geoPointValue.longitude)===Ac(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ac(e.integerValue)===Ac(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ac(e.doubleValue),r=Ac(t.doubleValue);return n===r?Ul(n)===Ul(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return il(e.arrayValue.values||[],t.arrayValue.values||[],Vc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gc(n)!==gc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vc(n[i],r[i])))return!1;return!0}(e,t);default:return zs()}}function zc(e,t){return void 0!==(e.values||[]).find((e=>Vc(e,t)))}function Bc(e,t){if(e===t)return 0;const n=Uc(e),r=Uc(t);if(n!==r)return rl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ac(e.integerValue||e.doubleValue),r=Ac(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qc(e.timestampValue,t.timestampValue);case 4:return qc(Dc(e),Dc(t));case 5:return rl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pc(e),r=Pc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=rl(n[i],r[i]);if(0!==e)return e}return rl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rl(Ac(e.latitude),Ac(t.latitude));return 0!==n?n:rl(Ac(e.longitude),Ac(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bc(n[i],r[i]);if(e)return e}return rl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jc.mapValue&&t===jc.mapValue)return 0;if(e===jc.mapValue)return 1;if(t===jc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=rl(r[a],o[a]);if(0!==e)return e;const t=Bc(n[r[a]],i[o[a]]);if(0!==t)return t}return rl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw zs()}}function qc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rl(e,t);const n=Nc(e),r=Nc(t),i=rl(n.seconds,r.seconds);return 0!==i?i:rl(n.nanos,r.nanos)}function Hc(e){return Wc(e)}function Wc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Nc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Wc(e.fields[i]));return n+"}"}(e.mapValue):zs()}function Gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kc(e){return!!e&&"integerValue"in e}function Qc(e){return!!e&&"arrayValue"in e}function Yc(e){return!!e&&"nullValue"in e}function $c(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xc(e){return!!e&&"mapValue"in e}function Jc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Jc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function eu(e){return"nullValue"in e?Fc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gc(Mc.empty(),hl.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:zs()}function tu(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gc(Mc.empty(),hl.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jc:zs()}function nu(e,t){const n=Bc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ru(e,t){const n=Bc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class iu{constructor(e){this.value=e}static empty(){return new iu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=dl.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Jc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Xc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yc(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new iu(Jc(this.value))}}function ou(e){const t=[];return yc(e.fields,((e,n)=>{const r=new dl([e]);if(Xc(n)){const e=ou(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ec(t)}class au{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new au(e,0,sl.min(),sl.min(),sl.min(),iu.empty(),0)}static newFoundDocument(e,t,n,r){return new au(e,1,t,sl.min(),n,r,0)}static newNoDocument(e,t){return new au(e,2,t,sl.min(),sl.min(),iu.empty(),0)}static newUnknownDocument(e,t){return new au(e,3,t,sl.min(),sl.min(),iu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=iu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=iu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof au&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new au(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class su{constructor(e,t){this.position=e,this.inclusive=t}}function lu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?hl.comparator(hl.fromName(a.referenceValue),n.key):Bc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function cu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vc(e.position[n],t.position[n]))return!1;return!0}class uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function du(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class hu{}class fu extends hu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ku(e,t,n):"array-contains"===t?new Tu(e,n):"in"===t?new Cu(e,n):"not-in"===t?new Nu(e,n):"array-contains-any"===t?new Au(e,n):new fu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Iu(e,n):new Eu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bc(t,this.value)):null!==t&&Uc(this.value)===Uc(t)&&this.matchesComparison(Bc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zs()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pu extends hu{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new pu(e,t)}matches(e){return mu(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function mu(e){return"and"===e.op}function gu(e){return"or"===e.op}function yu(e){return vu(e)&&mu(e)}function vu(e){for(const t of e.filters)if(t instanceof pu)return!1;return!0}function bu(e){if(e instanceof fu)return e.field.canonicalString()+e.op.toString()+Hc(e.value);if(yu(e))return e.filters.map((e=>bu(e))).join(",");{const t=e.filters.map((e=>bu(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function wu(e,t){return e instanceof fu?function(e,t){return t instanceof fu&&e.op===t.op&&e.field.isEqual(t.field)&&Vc(e.value,t.value)}(e,t):e instanceof pu?function(e,t){return t instanceof pu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&wu(n,t.filters[r])),!0)}(e,t):void zs()}function _u(e,t){const n=e.filters.concat(t);return pu.create(n,e.op)}function Su(e){return e instanceof fu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Hc(e.value))}(e):e instanceof pu?function(e){return e.op.toString()+" {"+e.getFilters().map(Su).join(" ,")+"}"}(e):"Filter"}class ku extends fu{constructor(e,t,n){super(e,t,n),this.key=hl.fromName(n.referenceValue)}matches(e){const t=hl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Iu extends fu{constructor(e,t){super(e,"in",t),this.keys=xu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Eu extends fu{constructor(e,t){super(e,"not-in",t),this.keys=xu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>hl.fromName(e.referenceValue)))}class Tu extends fu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qc(t)&&zc(t.arrayValue,this.value)}}class Cu extends fu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zc(this.value.arrayValue,t)}}class Nu extends fu{constructor(e,t){super(e,"not-in",t)}matches(e){if(zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zc(this.value.arrayValue,t)}}class Au extends fu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>zc(this.value.arrayValue,e)))}}class Pu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Ou(e){return new Pu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ru(e){const t=qs(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>bu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Fl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Hc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Hc(e))).join(",")),t.ce=e}return t.ce}function Du(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!du(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cu(e.startAt,t.startAt)&&cu(e.endAt,t.endAt)}function Lu(e){return hl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Mu(e,t){return e.filters.filter((e=>e instanceof fu&&e.field.isEqual(t)))}function ju(e,t,n){let r=Fc,i=!0;for(const o of Mu(e,t)){let e=Fc,t=!0;switch(o.op){case"<":case"<=":e=eu(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Fc}nu({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];nu({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Fu(e,t,n){let r=jc,i=!0;for(const o of Mu(e,t)){let e=jc,t=!0;switch(o.op){case">=":case">":e=tu(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=jc}ru({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ru({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Vu(e,t,n,r,i,o,a,s){return new Uu(e,t,n,r,i,o,a,s)}function zu(e){return new Uu(e)}function Bu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qu(e){return null!==e.collectionGroup}function Hu(e){const t=qs(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Sc(dl.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new uu(r,n))})),e.has(dl.keyField().canonicalString())||t.le.push(new uu(dl.keyField(),n))}return t.le}function Wu(e){const t=qs(e);return t.he||(t.he=Gu(t,Hu(e))),t.he}function Gu(e,t){if("F"===e.limitType)return Ou(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new uu(e.field,t)}));const n=e.endAt?new su(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new su(e.startAt.position,e.startAt.inclusive):null;return Ou(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ku(e,t){const n=e.filters.concat([t]);return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qu(e,t,n){return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yu(e,t){return Du(Wu(e),Wu(t))&&e.limitType===t.limitType}function $u(e){return"".concat(Ru(Wu(e)),"|lt:").concat(e.limitType)}function Xu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Su(e))).join(", "),"]")),Fl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Hc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Hc(e))).join(",")),"Target(".concat(t,")")}(Wu(e)),"; limitType=").concat(e.limitType,")")}function Ju(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=lu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hu(e),t))&&!(e.endAt&&!function(e,t,n){const r=lu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hu(e),t))}(e,t)}function Zu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ed(e){return(t,n)=>{let r=!1;for(const i of Hu(e)){const e=td(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function td(e,t,n){const r=e.field.isKeyField()?hl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bc(r,i):zs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zs()}}class nd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return vc(this.inner)}size(){return this.innerSize}}const rd=new bc(hl.comparator);function id(){return rd}const od=new bc(hl.comparator);function ad(){let e=od;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function sd(e){let t=od;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ld(){return ud()}function cd(){return ud()}function ud(){return new nd((e=>e.toString()),((e,t)=>e.isEqual(t)))}const dd=new bc(hl.comparator),hd=new Sc(hl.comparator);function fd(){let e=hd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const pd=new Sc(rl);function md(){return pd}function gd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(t)?"-0":t}}function yd(e){return{integerValue:""+e}}function vd(e,t){return Vl(t)?yd(t):gd(e,t)}class bd{constructor(){this._=void 0}}function wd(e,t,n){return e instanceof kd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oc(t)&&(t=Rc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Id?Ed(e,t):e instanceof xd?Td(e,t):function(e,t){const n=Sd(e,t),r=Nd(n)+Nd(e.Ie);return Kc(n)&&Kc(e.Ie)?yd(r):gd(e.serializer,r)}(e,t)}function _d(e,t,n){return e instanceof Id?Ed(e,t):e instanceof xd?Td(e,t):n}function Sd(e,t){return e instanceof Cd?function(e){return Kc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class kd extends bd{}class Id extends bd{constructor(e){super(),this.elements=e}}function Ed(e,t){const n=Ad(t);for(const r of e.elements)n.some((e=>Vc(e,r)))||n.push(r);return{arrayValue:{values:n}}}class xd extends bd{constructor(e){super(),this.elements=e}}function Td(e,t){let n=Ad(t);for(const r of e.elements)n=n.filter((e=>!Vc(e,r)));return{arrayValue:{values:n}}}class Cd extends bd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Nd(e){return Ac(e.integerValue||e.doubleValue)}function Ad(e){return Qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Pd{constructor(e,t){this.field=e,this.transform=t}}class Od{constructor(e,t){this.version=e,this.transformResults=t}}class Rd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rd}static exists(e){return new Rd(void 0,e)}static updateTime(e){return new Rd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ld{}function Md(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gd(e.key,Rd.none()):new zd(e.key,e.data,Rd.none());{const n=e.data,r=iu.empty();let i=new Sc(dl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Bd(e.key,r,new Ec(i.toArray()),Rd.none())}}function jd(e,t,n){e instanceof zd?function(e,t,n){const r=e.value.clone(),i=Hd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bd?function(e,t,n){if(!Dd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fd(e,t,n,r){return e instanceof zd?function(e,t,n,r){if(!Dd(e.precondition,t))return n;const i=e.value.clone(),o=Wd(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bd?function(e,t,n,r){if(!Dd(e.precondition,t))return n;const i=Wd(e.fieldTransforms,r,t),o=t.data;return o.setAll(qd(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Dd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ud(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Sd(r.transform,e||null);null!=i&&(null===n&&(n=iu.empty()),n.set(r.field,i))}return n||null}function Vd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&il(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Id&&t instanceof Id||e instanceof xd&&t instanceof xd?il(e.elements,t.elements,Vc):e instanceof Cd&&t instanceof Cd?Vc(e.Ie,t.Ie):e instanceof kd&&t instanceof kd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zd extends Ld{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bd extends Ld{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hd(e,t,n){const r=new Map;Bs(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,_d(a,s,n[i]))}return r}function Wd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,wd(e,o,t))}return r}class Gd extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kd extends Ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&jd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cd();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Md(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(sl.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fd())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((e,t)=>Vd(e,t)))&&il(this.baseMutations,e.baseMutations,((e,t)=>Vd(e,t)))}}class Yd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Bs(e.mutations.length===n.length);let r=dd;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Yd(e,t,n,r)}}class $d{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Xd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jd,Zd;function eh(e){switch(e){default:return zs();case Hs.CANCELLED:case Hs.UNKNOWN:case Hs.DEADLINE_EXCEEDED:case Hs.RESOURCE_EXHAUSTED:case Hs.INTERNAL:case Hs.UNAVAILABLE:case Hs.UNAUTHENTICATED:return!1;case Hs.INVALID_ARGUMENT:case Hs.NOT_FOUND:case Hs.ALREADY_EXISTS:case Hs.PERMISSION_DENIED:case Hs.FAILED_PRECONDITION:case Hs.ABORTED:case Hs.OUT_OF_RANGE:case Hs.UNIMPLEMENTED:case Hs.DATA_LOSS:return!0}}function th(e){if(void 0===e)return Fs("GRPC error has no .code"),Hs.UNKNOWN;switch(e){case Jd.OK:return Hs.OK;case Jd.CANCELLED:return Hs.CANCELLED;case Jd.UNKNOWN:return Hs.UNKNOWN;case Jd.DEADLINE_EXCEEDED:return Hs.DEADLINE_EXCEEDED;case Jd.RESOURCE_EXHAUSTED:return Hs.RESOURCE_EXHAUSTED;case Jd.INTERNAL:return Hs.INTERNAL;case Jd.UNAVAILABLE:return Hs.UNAVAILABLE;case Jd.UNAUTHENTICATED:return Hs.UNAUTHENTICATED;case Jd.INVALID_ARGUMENT:return Hs.INVALID_ARGUMENT;case Jd.NOT_FOUND:return Hs.NOT_FOUND;case Jd.ALREADY_EXISTS:return Hs.ALREADY_EXISTS;case Jd.PERMISSION_DENIED:return Hs.PERMISSION_DENIED;case Jd.FAILED_PRECONDITION:return Hs.FAILED_PRECONDITION;case Jd.ABORTED:return Hs.ABORTED;case Jd.OUT_OF_RANGE:return Hs.OUT_OF_RANGE;case Jd.UNIMPLEMENTED:return Hs.UNIMPLEMENTED;case Jd.DATA_LOSS:return Hs.DATA_LOSS;default:return zs()}}(Zd=Jd||(Jd={}))[Zd.OK=0]="OK",Zd[Zd.CANCELLED=1]="CANCELLED",Zd[Zd.UNKNOWN=2]="UNKNOWN",Zd[Zd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zd[Zd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zd[Zd.NOT_FOUND=5]="NOT_FOUND",Zd[Zd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zd[Zd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zd[Zd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zd[Zd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zd[Zd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zd[Zd.ABORTED=10]="ABORTED",Zd[Zd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zd[Zd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zd[Zd.INTERNAL=13]="INTERNAL",Zd[Zd.UNAVAILABLE=14]="UNAVAILABLE",Zd[Zd.DATA_LOSS=15]="DATA_LOSS";let nh=null;function rh(){return new TextEncoder}const ih=new Ps([4294967295,4294967295],0);function oh(e){const t=rh().encode(e),n=new As;return n.update(t),new Uint8Array(n.digest())}function ah(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,o],0)]}class sh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new lh("Invalid padding: ".concat(t));if(n<0)throw new lh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new lh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new lh("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Ps.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Ps.fromNumber(n)));return 1===r.compare(ih)&&(r=new Ps([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=oh(e),[n,r]=ah(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sh(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=oh(e),[n,r]=ah(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ch{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,uh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ch(sl.min(),r,new bc(rl),id(),fd())}}class uh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new uh(n,t,fd(),fd(),fd())}}class dh{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class hh{constructor(e,t){this.targetId=e,this.fe=t}}class fh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ph{constructor(){this.ge=0,this.pe=yh(),this.ye=Tc.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fd(),t=fd(),n=fd();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zs()}})),new uh(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=yh()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Bs(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class mh{constructor(e){this.Le=e,this.ke=new Map,this.qe=id(),this.Qe=gh(),this.Ke=new bc(rl)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:zs()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Lu(i))if(0===n){const e=new hl(i.path);this.We(t,e,au.newNoDocument(e,sl.min()))}else Bs(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==nh||nh.tt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Pc(n).toUint8Array()}catch(e){if(e instanceof xc)return Us("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new sh(o,r,i)}catch(e){return Us(e instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Lu(i.target)){const t=new hl(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,au.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=fd();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ch(e,t,this.Ke,this.qe,n);return this.qe=id(),this.Qe=gh(),this.Ke=new bc(rl),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ph,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Sc(rl),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||js("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ph),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gh(){return new bc(hl.comparator)}function yh(){return new bc(hl.comparator)}const vh={asc:"ASCENDING",desc:"DESCENDING"},bh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wh={and:"AND",or:"OR"};class _h{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sh(e,t){return e.useProto3Json||Fl(t)?t:{value:t}}function kh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ih(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Eh(e,t){return kh(e,t.toTimestamp())}function xh(e){return Bs(!!e),sl.fromTimestamp(function(e){const t=Nc(e);return new al(t.seconds,t.nanos)}(e))}function Th(e,t){return Ch(e,t).canonicalString()}function Ch(e,t){const n=function(e){return new cl(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Nh(e){const t=cl.fromString(e);return Bs(Xh(t)),t}function Ah(e,t){return Th(e.databaseId,t.path)}function Ph(e,t){const n=Nh(t);if(n.get(1)!==e.databaseId.projectId)throw new Ws(Hs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ws(Hs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hl(Lh(n))}function Oh(e,t){return Th(e.databaseId,t)}function Rh(e){const t=Nh(e);return 4===t.length?cl.emptyPath():Lh(t)}function Dh(e){return new cl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lh(e){return Bs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Mh(e,t,n){return{name:Ah(e,t),fields:n.value.mapValue.fields}}function jh(e,t,n){const r=Ph(e,t.name),i=xh(t.updateTime),o=t.createTime?xh(t.createTime):sl.min(),a=new iu({mapValue:{fields:t.fields}}),s=au.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Fh(e,t){let n;if(t instanceof zd)n={update:Mh(e,t.key,t.value)};else if(t instanceof Gd)n={delete:Ah(e,t.key)};else if(t instanceof Bd)n={update:Mh(e,t.key,t.data),updateMask:$h(t.fieldMask)};else{if(!(t instanceof Kd))return zs();n={verify:Ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof kd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cd)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw zs()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Eh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zs()}(e,t.precondition)),n}function Uh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Rd.updateTime(xh(e.updateTime)):void 0!==e.exists?Rd.exists(e.exists):Rd.none()}(t.currentDocument):Rd.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Bs("REQUEST_TIME"===t.setToServerValue),n=new kd;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Id(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new xd(e)}else"increment"in t?n=new Cd(e,t.increment):zs();const r=dl.fromServerFormat(t.fieldPath);return new Pd(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ph(e,t.update.name),o=new iu({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ec(t.map((e=>dl.fromServerFormat(e))))}(t.updateMask);return new Bd(i,o,e,n,r)}return new zd(i,o,n,r)}if(t.delete){const r=Ph(e,t.delete);return new Gd(r,n)}if(t.verify){const r=Ph(e,t.verify);return new Kd(r,n)}return zs()}function Vh(e,t){return{documents:[Oh(e,t.path)]}}function zh(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Oh(e,i);const o=function(e){if(0!==e.length)return Yh(pu.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Kh(e.field),direction:Hh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Sh(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Bh(e){let t=Rh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=qh(e);return t instanceof pu&&yu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new uu(Qh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Fl(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new su(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new su(n,t)}(n.endAt)),Vu(t,i,a,o,s,"F",l,c)}function qh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qh(e.unaryFilter.field);return fu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Qh(e.unaryFilter.field);return fu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qh(e.unaryFilter.field);return fu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Qh(e.unaryFilter.field);return fu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zs()}}(e):void 0!==e.fieldFilter?function(e){return fu.create(Qh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zs()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pu.create(e.compositeFilter.filters.map((e=>qh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return zs()}}(e.compositeFilter.op))}(e):zs()}function Hh(e){return vh[e]}function Wh(e){return bh[e]}function Gh(e){return wh[e]}function Kh(e){return{fieldPath:e.canonicalString()}}function Qh(e){return dl.fromServerFormat(e.fieldPath)}function Yh(e){return e instanceof fu?function(e){if("=="===e.op){if($c(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NAN"}};if(Yc(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($c(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NOT_NAN"}};if(Yc(e.value))return{unaryFilter:{field:Kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kh(e.field),op:Wh(e.op),value:e.value}}}(e):e instanceof pu?function(e){const t=e.getFilters().map((e=>Yh(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gh(e.op),filters:t}}}(e):zs()}function $h(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Jh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sl.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tc.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Jh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zh{constructor(e){this.ct=e}}function ef(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:tf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ah(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kh(e,t.version.toTimestamp()),createTime:kh(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:nf(t.version)};else{if(!t.isUnknownDocument())return zs();r.unknownDocument={path:n.path.toArray(),version:nf(t.version)}}return r}function tf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nf(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function rf(e){const t=new al(e.seconds,e.nanoseconds);return sl.fromTimestamp(t)}function of(e,t){const n=(t.baseMutations||[]).map((t=>Uh(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Uh(e.ct,t))),i=al.fromMillis(t.localWriteTimeMs);return new Qd(t.batchId,i,n,r)}function af(e){const t=rf(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?rf(e.lastLimboFreeSnapshotVersion):sl.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Bs(1===e.documents.length),Wu(zu(Rh(e.documents[0])))}(e.query):function(e){return Wu(Bh(e))}(e.query),new Jh(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Tc.fromBase64String(e.resumeToken))}function sf(e,t){const n=nf(t.snapshotVersion),r=nf(t.lastLimboFreeSnapshotVersion);let i;i=Lu(t.target)?Vh(e.ct,t.target):zh(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ru(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lf(e){const t=Bh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qu(t,t.limit,"L"):t}function cf(e,t){return new $d(t.largestBatchId,Uh(e.ct,t.overlayMutation))}function uf(e,t){const n=t.path.lastSegment();return[e,zl(t.path.popLast()),n]}function df(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:nf(r.readTime),documentKey:zl(r.documentKey.path),largestBatchId:r.largestBatchId}}class hf{getBundleMetadata(e,t){return ff(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:rf(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return ff(e).put(function(e){return{bundleId:e.id,createTime:nf(xh(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return pf(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:lf(e.bundledQuery),readTime:rf(e.readTime)}}(e)}))}saveNamedQuery(e,t){return pf(e).put(function(e){return{name:e.name,readTime:nf(xh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ff(e){return mc(e,"bundles")}function pf(e){return mc(e,"namedQueries")}class mf{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new mf(e,n)}getOverlay(e,t){return gf(e).get(uf(this.userId,t)).next((e=>e?cf(this.serializer,e):null))}getOverlays(e,t){const n=ld();return El.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new $d(t,i);r.push(this.ht(e,o))})),El.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(zl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(gf(e).H("collectionPathOverlayIndex",r))})),El.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ld(),i=zl(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gf(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=cf(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ld();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gf(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=cf(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return gf(e).put(function(e,t,n){const[r,i,o]=uf(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fh(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function gf(e){return mc(e,"documentOverlays")}class yf{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ac(e.integerValue));else if("doubleValue"in e){const n=Ac(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ul(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Pc(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Zc(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):zs()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),hl.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function vf(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bf(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=vf(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yf.bt=new yf;class wf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=bf(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=bf(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class _f{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class Sf{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class kf{constructor(){this.Gt=new wf,this.zt=new _f(this.Gt),this.jt=new Sf(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class If{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new If(this.indexId,this.documentKey,this.arrayValue,n)}}function Ef(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=xf(e.arrayValue,t.arrayValue),0!==n?n:(n=xf(e.directionalValue,t.directionalValue),0!==n?n:hl.comparator(e.documentKey,t.documentKey)))}function xf(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Tf{constructor(e){this.Yt=new Sc(((e,t)=>dl.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Bs(e.collectionGroup===this.collectionId),this.en)return!1;const t=pl(e);if(void 0!==t&&!this.nn(t))return!1;const n=ml(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new Sc(dl.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new gl(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new gl(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new gl(n.field,"asc"===n.dir?0:1)));return new fl(fl.UNKNOWN_ID,this.collectionId,t,yl.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Cf(e){var t,n;if(Bs(e instanceof fu||e instanceof pu),e instanceof fu){if(e instanceof Cu){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>fu.create(e.field,"==",t))))||[];return pu.create(r,"or")}return e}const r=e.filters.map((e=>Cf(e)));return pu.create(r,e.op)}function Nf(e){if(0===e.getFilters().length)return[];const t=Rf(Cf(e));return Bs(Of(t)),Af(t)||Pf(t)?[t]:t.getFilters()}function Af(e){return e instanceof fu}function Pf(e){return e instanceof pu&&yu(e)}function Of(e){return Af(e)||Pf(e)||function(e){if(e instanceof pu&&gu(e)){for(const t of e.getFilters())if(!Af(t)&&!Pf(t))return!1;return!0}return!1}(e)}function Rf(e){if(Bs(e instanceof fu||e instanceof pu),e instanceof fu)return e;if(1===e.filters.length)return Rf(e.filters[0]);const t=e.filters.map((e=>Rf(e)));let n=pu.create(t,e.op);return n=Mf(n),Of(n)?n:(Bs(n instanceof pu),Bs(mu(n)),Bs(n.filters.length>1),n.filters.reduce(((e,t)=>Df(e,t))))}function Df(e,t){let n;return Bs(e instanceof fu||e instanceof pu),Bs(t instanceof fu||t instanceof pu),n=e instanceof fu?t instanceof fu?function(e,t){return pu.create([e,t],"and")}(e,t):Lf(e,t):t instanceof fu?Lf(t,e):function(e,t){if(Bs(e.filters.length>0&&t.filters.length>0),mu(e)&&mu(t))return _u(e,t.getFilters());const n=gu(e)?e:t,r=gu(e)?t:e,i=n.filters.map((e=>Df(e,r)));return pu.create(i,"or")}(e,t),Mf(n)}function Lf(e,t){if(mu(t))return _u(t,e.getFilters());{const n=t.filters.map((t=>Df(e,t)));return pu.create(n,"or")}}function Mf(e){if(Bs(e instanceof fu||e instanceof pu),e instanceof fu)return e;const t=e.getFilters();if(1===t.length)return Mf(t[0]);if(vu(e))return e;const n=t.map((e=>Mf(e))),r=[];return n.forEach((t=>{t instanceof fu?r.push(t):t instanceof pu&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:pu.create(r,e.op)}class jf{constructor(){this._n=new Ff}addToCollectionParentIndex(e,t){return this._n.add(t),El.resolve()}getCollectionParents(e,t){return El.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return El.resolve()}deleteFieldIndex(e,t){return El.resolve()}deleteAllFieldIndexes(e){return El.resolve()}createTargetIndexes(e,t){return El.resolve()}getDocumentsMatchingTarget(e,t){return El.resolve(null)}getIndexType(e,t){return El.resolve(0)}getFieldIndexes(e,t){return El.resolve([])}getNextCollectionGroupToUpdate(e){return El.resolve(null)}getMinOffset(e,t){return El.resolve(wl.min())}getMinOffsetFromCollectionGroup(e,t){return El.resolve(wl.min())}updateCollectionGroup(e,t,n){return El.resolve()}updateIndexEntries(e,t){return El.resolve()}}class Ff{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sc(cl.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Sc(cl.comparator)).toArray()}}const Uf=new Uint8Array(0);class Vf{constructor(e,t){this.databaseId=t,this.an=new Ff,this.un=new nd((e=>Ru(e)),((e,t)=>Du(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:zl(r)};return zf(e).put(i)}return El.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ol(t),""],!1,!0);return zf(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Hl(r.parent))}return n}))}addFieldIndex(e,t){const n=qf(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Hf(e);return i.next((e=>{n.put(df(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=qf(e),r=Hf(e),i=Bf(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=qf(e),n=Bf(e),r=Hf(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return El.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Tf(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Bf(e);let r=!0;const i=new Map;return El.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=fd();const r=[];return El.forEach(i,((i,o)=>{js("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Ru(t)));const a=function(e,t){const n=pl(t);if(void 0===n)return null;for(const r of Mu(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of ml(t))for(const t of Mu(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of ml(t)){const t=0===i.kind?ju(e,i.fieldPath,e.startAt):Fu(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new su(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of ml(t)){const t=0===i.kind?Fu(e,i.fieldPath,e.endAt):ju(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new su(n,r)}(o,i),u=this.hn(i,o,l),d=this.hn(i,o,c),h=this.Pn(i,o,s),f=this.In(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return El.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=hl.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return El.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Nf(pu.create(e.filters,"and")).map((t=>Ou(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.Tn(t[u/l]):Uf,d=this.En(e,s,n[u%l],r),h=this.dn(e,s,i[u%l],o),f=a.map((t=>this.En(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}En(e,t,n,r){const i=new If(e,hl.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new If(e,hl.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new Tf(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return El.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Sc(dl.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new kf;for(const r of ml(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);yf.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new kf;return yf.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new kf;return yf.bt.Pt(Gc(this.databaseId,t),n.Ht(function(e){const t=ml(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new kf);let i=0;for(const o of ml(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Qc(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);yf.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new kf;n.seed(e.Wt()),yf.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof fu&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=qf(e),r=Hf(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return El.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new yl(t.sequenceNumber,new wl(rf(t.readTime),new hl(Hl(t.documentKey)),t.largestBatchId)):yl.empty(),r=e.fields.map((e=>{let[t,n]=e;return new gl(dl.fromServerFormat(t),n)}));return new fl(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rl(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=qf(e),i=Hf(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>El.forEach(t,(t=>i.put(df(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return El.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?El.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),El.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?El.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Bf(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Bf(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Bf(e);let i=new Sc(Ef);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new If(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new Sc(Ef);const r=this.An(t,e);if(null==r)return n;const i=pl(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Qc(o))for(const i of o.arrayValue.values||[])n=n.add(new If(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new If(t.indexId,e.key,Uf,r));return n}wn(e,t,n,r,i){js("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Ic(o),l=Ic(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=Ic(a)):t?(i(s),s=Ic(o)):(s=Ic(o),l=Ic(a))}}(r,i,Ef,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),El.waitFor(o)}gn(e){let t=1;return Hf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ef(e,t))).filter(((e,t,n)=>!t||0!==Ef(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ef(o,e),i=Ef(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Uf,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Uf,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return Ef(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wf)}getMinOffset(e,t){return El.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||zs())))).next(Wf)}}function zf(e){return mc(e,"collectionParents")}function Bf(e){return mc(e,"indexEntries")}function qf(e){return mc(e,"indexConfiguration")}function Hf(e){return mc(e,"indexState")}function Wf(e){Bs(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;_l(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wl(t.readTime,t.documentKey,n)}const Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Kf(e,Kf.DEFAULT_COLLECTION_PERCENTILE,Kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qf(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.Y({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{Bs(1===s)})));const c=[];for(const u of n.mutations){const e=Kl(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return El.waitFor(o).next((()=>c))}function Yf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zs();t=e.noDocument}return JSON.stringify(t).length}Kf.DEFAULT_COLLECTION_PERCENTILE=10,Kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kf.DEFAULT=new Kf(41943040,Kf.DEFAULT_COLLECTION_PERCENTILE,Kf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kf.DISABLED=new Kf(-1,0,0);class $f{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Bs(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new $f(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Zf(e),o=Jf(e);return o.add({}).next((a=>{Bs("number"==typeof a);const s=new Qd(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Fh(e.ct,t))),i=n.mutations.map((t=>Fh(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new Sc(((e,t)=>rl(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Kl(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Ql))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=s.keys()})),El.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return Jf(e).get(t).next((e=>e?(Bs(e.userId===this.userId),of(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?El.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Jf(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Bs(t.batchId>=n),i=of(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Jf(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).W("userMutationsIndex",t).next((e=>e.map((e=>of(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Gl(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Zf(e).Y({range:r},((n,r,o)=>{const[a,s,l]=n,c=Hl(s);if(a===this.userId&&t.path.isEqual(c))return Jf(e).get(l).next((e=>{if(!e)throw zs();Bs(e.userId===this.userId),i.push(of(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sc(rl);const r=[];return t.forEach((t=>{const i=Gl(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=Zf(e).Y({range:o},((e,r,i)=>{const[o,a,s]=e,l=Hl(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),El.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Gl(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Sc(rl);return Zf(e).Y({range:o},((e,t,i)=>{const[o,s,l]=e,c=Hl(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Jf(e).get(t).next((e=>{if(null===e)throw zs();Bs(e.userId===this.userId),n.push(of(this.serializer,e))})))})),El.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Qf(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),El.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return El.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Zf(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Hl(e[1]);r.push(t)}else n.done()})).next((()=>{Bs(0===r.length)}))}))}containsKey(e,t){return Xf(e,this.userId,t)}xn(e){return ep(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Xf(e,t,n){const r=Gl(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Zf(e).Y({range:o,J:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function Jf(e){return mc(e,"mutations")}function Zf(e){return mc(e,"documentMutations")}function ep(e){return mc(e,"mutationQueues")}class tp{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new tp(0)}static Bn(){return new tp(-1)}}class np{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new tp(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>sl.fromTimestamp(new al(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>rp(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Bs(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return rp(e).Y(((o,a)=>{const s=af(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>El.waitFor(i))).next((()=>r))}forEachTarget(e,t){return rp(e).Y(((e,n)=>{const r=af(n);t(r)}))}Ln(e){return ip(e).get("targetGlobalKey").next((e=>(Bs(null!==e),e)))}kn(e,t){return ip(e).put("targetGlobalKey",t)}qn(e,t){return rp(e).put(sf(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ru(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return rp(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=af(n);Du(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=op(e);return t.forEach((t=>{const o=zl(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),El.waitFor(r)}removeMatchingKeys(e,t,n){const r=op(e);return El.forEach(t,(t=>{const i=zl(t.path);return El.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=op(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=op(e);let i=fd();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Hl(e[1]),o=new hl(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=zl(t.path),r=IDBKeyRange.bound([n],[ol(n)],!1,!0);let i=0;return op(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return rp(e).get(t).next((e=>e?af(e):null))}}function rp(e){return mc(e,"targets")}function ip(e){return mc(e,"targetGlobal")}function op(e){return mc(e,"targetDocuments")}function ap(e,t){let[n,r]=e,[i,o]=t;const a=rl(n,i);return 0===a?rl(r,o):a}class sp{constructor(e){this.Kn=e,this.buffer=new Sc(ap),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ap(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){js("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Al(e)?js("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Il(e)}await this.zn(3e5)}))}}class cp{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return El.resolve(jl._e);const n=new sp(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(js("LruGarbageCollector","Garbage collection skipped; disabled"),El.resolve(Gf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(js("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Gf):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(js("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ms()<=ln.DEBUG&&js("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),El.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function up(e,t){return new cp(e,t)}class dp{constructor(e,t){this.db=e,this.garbageCollector=up(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return hp(e,n)}removeReference(e,t,n){return hp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return hp(e,t)}er(e,t){return function(e,t){let n=!1;return ep(e).Z((r=>Xf(e,r,t).next((e=>(e&&(n=!0),El.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,a)=>{if(a<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,sl.min()),op(e).delete(function(e){return[0,zl(e.path)]}(o)))))}));r.push(t)}})).next((()=>El.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return hp(e,t)}Xn(e,t){const n=op(e);let r,i=jl._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==jl._e&&t(new hl(Hl(r)),i),i=l,r=s):i=jl._e})).next((()=>{i!==jl._e&&t(new hl(Hl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hp(e,t){return op(e).put(function(e,t){return{targetId:0,path:zl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class fp{constructor(){this.changes=new nd((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,au.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?El.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vp(e).put(n)}removeEntry(e,t,n){return vp(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],tf(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=au.newInvalidDocument(t);return vp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bp(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:au.newInvalidDocument(t)};return vp(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(bp(t))},((e,r)=>{n={document:this.nr(t,r),size:Yf(r)}})).next((()=>n))}getEntries(e,t){let n=id();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=id(),r=new bc(hl.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Yf(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return El.resolve();let r=new Sc(_p);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(bp(r.first()),bp(r.last())),o=r.getIterator();let a=o.getNext();return vp(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=hl.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&_p(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.U(bp(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),tf(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vp(e).W(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=id();for(const i of e){const e=this.nr(hl.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Ju(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=id();const o=wp(t,n),a=wp(t,wl.max());return vp(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.nr(hl.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new gp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return yp(e).get("remoteDocumentGlobalKey").next((e=>(Bs(!!e),e)))}tr(e,t){return yp(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=jh(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=hl.fromSegments(t.noDocument.path),r=rf(t.noDocument.readTime);n=au.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return zs();{const e=hl.fromSegments(t.unknownDocument.path),r=rf(t.unknownDocument.version);n=au.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new al(e[0],e[1]);return sl.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(sl.min()))return e}return au.newInvalidDocument(e)}}function mp(e){return new pp(e)}class gp extends fp{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new nd((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Sc(((e,t)=>rl(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=ef(this.ar.serializer,o);r=r.add(i.path.popLast());const l=Yf(s);n+=l-a.size,t.push(this.ar.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=ef(this.ar.serializer,o.convertToNoDocument(sl.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),El.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function yp(e){return mc(e,"remoteDocumentGlobal")}function vp(e){return mc(e,"remoteDocumentsV14")}function bp(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wp(e,t){const n=t.documentKey.path.toArray();return[e,tf(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _p(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=rl(n[o],r[o]),i)return i;return i=rl(n.length,r.length),i||(i=rl(n[n.length-2],r[r.length-2]),i||rl(n[n.length-1],r[r.length-1]))}class Sp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fd(n.mutation,e,Ec.empty(),al.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,fd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd();const r=ld();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ad();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ld();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,fd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=id();const o=ud(),a=ud();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Bd)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Fd(a.mutation,t,a.mutation.getFieldMask(),al.now())):o.set(t.key,Ec.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Sp(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ud();let r=new bc(((e,t)=>e-t)),i=fd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Ec.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||fd()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=cd();l.forEach((e=>{if(!i.has(e)){const r=Md(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return El.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return hl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):El.resolve(ld());let a=-1,s=i;return o.next((t=>El.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?El.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,fd()))).next((e=>({batchId:a,changes:sd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hl(t)).next((e=>{let t=ad();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=ad();return this.indexManager.getCollectionParents(e,i).next((a=>El.forEach(a,(a=>{const s=function(e,t){return new Uu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,au.newInvalidDocument(r)))}));let n=ad();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Fd(o.mutation,r,Ec.empty(),al.now()),Ju(t,r)&&(n=n.insert(e,r))})),n}))}}class Ip{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return El.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xh(e.createTime)}}(t)),El.resolve()}getNamedQuery(e,t){return El.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:lf(e.bundledQuery),readTime:xh(e.readTime)}}(t)),El.resolve()}}class Ep{constructor(){this.overlays=new bc(hl.comparator),this.hr=new Map}getOverlay(e,t){return El.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ld();return El.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),El.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),El.resolve()}getOverlaysForCollection(e,t,n){const r=ld(),i=t.length+1,o=new hl(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return El.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bc(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ld(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ld(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return El.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new $d(t,n));let i=this.hr.get(t);void 0===i&&(i=fd(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class xp{constructor(){this.Pr=new Sc(Tp.Ir),this.Tr=new Sc(Tp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Tp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Tp(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new hl(new cl([])),n=new Tp(t,e),r=new Tp(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new hl(new cl([])),n=new Tp(t,e),r=new Tp(t,e+1);let i=fd();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Tp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Tp{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return hl.comparator(e.key,t.key)||rl(e.pr,t.pr)}static Er(e,t){return rl(e.pr,t.pr)||hl.comparator(e.key,t.key)}}class Cp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Sc(Tp.Ir)}checkEmpty(e){return El.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qd(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new Tp(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return El.resolve(o)}lookupMutationBatch(e,t){return El.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return El.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return El.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return El.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Tp(t,0),r=new Tp(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),El.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sc(rl);return t.forEach((e=>{const t=new Tp(e,0),r=new Tp(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),El.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;hl.isDocumentKey(i)||(i=i.child(""));const o=new Tp(new hl(i),0);let a=new Sc(rl);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),o),El.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Bs(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return El.forEach(t.mutations,(r=>{const i=new Tp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Tp(t,0),r=this.wr.firstAfterOrEqual(n);return El.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,El.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Np{constructor(e){this.vr=e,this.docs=new bc(hl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return El.resolve(n?n.document.mutableCopy():au.newInvalidDocument(t))}getEntries(e,t){let n=id();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():au.newInvalidDocument(e))})),El.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=id();const o=t.path,a=new hl(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||_l(bl(a),n)<=0||(r.has(a.key)||Ju(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return El.resolve(i)}getAllFromCollectionGroup(e,t,n,r){zs()}Fr(e,t){return El.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ap(this)}getSize(e){return El.resolve(this.size)}}class Ap extends fp{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),El.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Pp{constructor(e){this.persistence=e,this.Mr=new nd((e=>Ru(e)),Du),this.lastRemoteSnapshotVersion=sl.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xp,this.targetCount=0,this.Br=tp.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),El.resolve()}getLastRemoteSnapshotVersion(e){return El.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return El.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),El.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),El.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new tp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,El.resolve()}updateTargetData(e,t){return this.qn(t),El.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,El.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),El.waitFor(i).next((()=>r))}getTargetCount(e){return El.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return El.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),El.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),El.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),El.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return El.resolve(n)}containsKey(e,t){return El.resolve(this.Nr.containsKey(t))}}class Op{constructor(e,t){this.Lr={},this.overlays={},this.kr=new jl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Pp(this),this.indexManager=new jf,this.remoteDocumentCache=function(e){return new Np(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Zh(t),this.$r=new Ip(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ep,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new Cp(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){js("MemoryPersistence","Starting transaction:",e);const r=new Rp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return El.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class Rp extends kl{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.zr=new xp,this.jr=null}static Hr(e){return new Dp(e)}get Jr(){if(this.jr)return this.jr;throw zs()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),El.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),El.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),El.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return El.forEach(this.Jr,(n=>{const r=hl.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,sl.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return El.or([()=>El.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Lp{constructor(e){this.serializer=e}N(e,t,n,r){const i=new xl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wl,{unique:!0}),e.createObjectStore("documentMutations")}(e),Mp(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=El.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Mp(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sl.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return El.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ac});t.createIndex("collectionPathOverlayIndex",sc,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",lc,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Yl});t.createIndex("documentKeyIndex",$l),t.createIndex("collectionGroupIndex",Xl)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:nc}).createIndex("sequenceNumberIndex",rc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ic}).createIndex("documentKeyIndex",oc,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Yf(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>El.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>El.forEach(n,(n=>{Bs(n.userId===t.userId);const r=of(this.serializer,n);return Qf(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new cl(n),a=function(e){return[0,zl(e)]}(o);r.push(t.get(a).next((n=>n?El.resolve():(n=>t.put({targetId:0,path:zl(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>El.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:tc});const n=t.store("collectionParents"),r=new Ff,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:zl(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new cl(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const a=Hl(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=af(n),i=sf(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new hl(cl.fromString(e.document.name).popFirst(5)):e.noDocument?hl.fromSegments(e.noDocument.path):e.unknownDocument?hl.fromSegments(e.unknownDocument.path):zs()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>El.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=mp(this.serializer),i=new Op(Dp.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:fd();of(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),El.forEach(n,((e,n)=>{const o=new Rs(n),a=mf.lt(this.serializer,o),s=i.getIndexManager(o),l=$f.lt(o,this.serializer,s,i.referenceDelegate);return new kp(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new pc(t,jl._e),e).next()}))}))}}function Mp(e){e.createObjectStore("targetDocuments",{keyPath:Zl}).createIndex("documentTargetsIndex",ec,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jl,{unique:!0}),e.createObjectStore("targetGlobal")}const jp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fp{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Fp.D())throw new Ws(Hs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dp(this,r),this.Ti=t+"main",this.serializer=new Zh(s),this.Ei=new Tl(this.Ti,this.ui,new Lp(this.serializer)),this.Qr=new np(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mp(this.serializer),this.$r=new hf,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Fs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ws(Hs.FAILED_PRECONDITION,jp);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new jl(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Vp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(Al(e))return js("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return js("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Up(e).get("owner").next((e=>El.resolve(this.Si(e))))}bi(e){return Vp(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=mc(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return El.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?El.resolve(!0):Up(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Ws(Hs.FAILED_PRECONDITION,jp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vp(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&js("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new pc(e,jl._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Vp(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return $f.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vf(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return mf.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){js("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?fc:14===e?hc:13===e?dc:12===e?uc:11===e?cc:void zs()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new pc(r,this.kr?this.kr.next():jl._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Fs("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Ws(Hs.FAILED_PRECONDITION,Sl);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Up(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ws(Hs.FAILED_PRECONDITION,jp)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Up(e).put("owner",t)}static D(){return Tl.D()}yi(e){const t=Up(e);return t.get("owner").next((e=>this.Si(e)?(js("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):El.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Fs("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;zt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return js("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Fs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Fs("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Up(e){return mc(e,"owner")}function Vp(e){return mc(e,"clientMetadata")}function zp(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Bp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=fd(),r=fd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Bp(e,t.fromCache,n,r)}}class qp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=zt()?8:Tl.v(Mt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qp;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Ms()<=ln.DEBUG&&js("QueryEngine","SDK will not create cache indexes for query:",Xu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),El.resolve()):(Ms()<=ln.DEBUG&&js("QueryEngine","Query:",Xu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Ms()<=ln.DEBUG&&js("QueryEngine","The SDK decides to create cache indexes for query:",Xu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wu(t))):El.resolve())}ji(e,t){if(Bu(t))return El.resolve(null);let n=Wu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qu(t,null,"F"),n=Wu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=fd(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Qu(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Bu(t)||r.isEqual(sl.min())?El.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?El.resolve(null):(Ms()<=ln.DEBUG&&js("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xu(t)),this.es(e,o,t,vl(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Sc(ed(e));return t.forEach(((t,r)=>{Ju(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Ms()<=ln.DEBUG&&js("QueryEngine","Using full collection scan to execute query:",Xu(t)),this.zi.getDocumentsMatchingQuery(e,t,wl.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Wp{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new bc(rl),this.rs=new nd((e=>Ru(e)),Du),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Gp(e,t,n,r){return new Wp(e,t,n,r)}async function Kp(e,t){const n=qs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=fd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Qp(e){const t=qs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Yp(e,t,n){let r=fd(),i=fd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=id();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(sl.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):js("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function $p(e,t){const n=qs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Xp(e,t){const n=qs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,El.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Jh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Jp(e,t,n){const r=qs(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Al(e))throw e;js("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Zp(e,t,n){const r=qs(e);let i=sl.min(),o=fd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=qs(e),i=r.rs.get(n);return void 0!==i?El.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Wu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:sl.min(),n?o:fd()))).next((e=>(nm(r,Zu(t),e),{documents:e,hs:o})))))}function em(e,t){const n=qs(e),r=qs(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function tm(e,t){const n=qs(e),r=n.ss.get(t)||sl.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,vl(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(nm(n,t,e),e)))}function nm(e,t,n){let r=e.ss.get(t)||sl.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function rm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd();const r=await Xp(e,Wu(lf(t.bundledQuery))),i=qs(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=xh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(Tc.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function im(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function om(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function am(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class sm{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ws(r.error.code,r.error.message))),o?new sm(e,t,r.state,i):(Fs("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lm{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ws(n.error.code,n.error.message))),i?new lm(e,n.state,r):(Fs("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=md();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Vl(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new cm(e,i):(Fs("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class um{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new um(t.clientId,t.onlineState):(Fs("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class dm{constructor(){this.activeTargetIds=md()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hm{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new bc(rl),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=im(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new dm),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(im(this.persistenceKey,n));if(e){const t=cm.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(am(this.persistenceKey,e));if(n){const r=lm.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(am(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return js("SharedClientState","READ",e,t),t}setItem(e,t){js("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){js("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(js("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Fs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=jl._e;if(null!=e)try{const n=JSON.parse(e);Bs("number"==typeof n),t=n}catch(e){Fs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==jl._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new sm(this.currentUser,e,t,n),i=om(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=om(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=am(this.persistenceKey,e),i=new lm(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return cm.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return sm.Es(new Rs(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return lm.Es(r,t)}xs(e){return um.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);js("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(o,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=md();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class fm{constructor(){this.no=new dm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pm{io(e){}shutdown(){}}class mm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){js("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){js("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gm=null;function ym(){return null===gm?gm=268435456+Math.round(2147483648*Math.random()):gm++,"0x"+gm.toString(16)}const vm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bm{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const wm="WebChannelConnection";class _m extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=ym(),a=this.bo(e,t.toUriEncodedString());js("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,a,s,n).then((t=>(js("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Us("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=vm[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=ym();return new Promise(((o,a)=>{const s=new Ns;s.setWithCredentials(!0),s.listenOnce(Es.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Is.NO_ERROR:const t=s.getResponseJson();js(wm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Is.TIMEOUT:js(wm,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Ws(Hs.DEADLINE_EXCEEDED,"Request time out"));break;case Is.HTTP_ERROR:const n=s.getStatus();if(js(wm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hs).indexOf(t)>=0?t:Hs.UNKNOWN}(t.status);a(new Ws(e,t.message))}else a(new Ws(Hs.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Ws(Hs.UNAVAILABLE,"Connection failed."));break;default:zs()}}finally{js(wm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);js(wm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=ym(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ss(),a=ks(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");js(wm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new bm({lo:t=>{h?js(wm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(js(wm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),js(wm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Cs.EventType.OPEN,(()=>{h||js(wm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Cs.EventType.CLOSE,(()=>{h||(h=!0,js(wm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Cs.EventType.ERROR,(t=>{h||(h=!0,Us(wm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Ws(Hs.UNAVAILABLE,"The operation could not be completed")))})),p(u,Cs.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Bs(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){js(wm,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Jd[e];if(void 0!==t)return th(t)}(t),i=a.message;void 0===n&&(n=Hs.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Vo(new Ws(n,i)),u.close()}else js(wm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,xs.STAT_EVENT,(t=>{t.stat===Ts.PROXY?js(wm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ts.NOPROXY&&js(wm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function Sm(){return"undefined"!=typeof window?window:null}function km(){return"undefined"!=typeof document?document:null}function Im(e){return new _h(e,!0)}class Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&js("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class xm{constructor(e,t,n,r,i,o,a,s){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Em(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Hs.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Hs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Ws(Hs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return js("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(js("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tm extends xm{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Bs(void 0===t||"string"==typeof t),Tc.fromBase64String(t||"")):(Bs(void 0===t||t instanceof Uint8Array),Tc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Hs.UNKNOWN:th(e.code);return new Ws(t,e.message||"")}(a);n=new fh(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ph(e,r.document.name),o=xh(r.document.updateTime),a=r.document.createTime?xh(r.document.createTime):sl.min(),s=new iu({mapValue:{fields:r.document.fields}}),l=au.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new dh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ph(e,r.document),o=r.readTime?xh(r.readTime):sl.min(),a=au.newNoDocument(i,o),s=r.removedTargetIds||[];n=new dh([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ph(e,r.document),o=r.removedTargetIds||[];n=new dh([],o,i,null)}else{if(!("filter"in t))return zs();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Xd(r,i),a=e.targetId;n=new hh(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return sl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?sl.min():t.readTime?xh(t.readTime):sl.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Dh(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lu(r)?{documents:Vh(e,r)}:{query:zh(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ih(e,t.resumeToken);const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(sl.min())>0){n.readTime=kh(e,t.snapshotVersion.toTimestamp());const r=Sh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zs()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Dh(this.serializer),t.removeTarget=e,this.t_(t)}}class Cm extends xm{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Bs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Bs(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?xh(e.updateTime):xh(t);return n.isEqual(sl.min())&&(n=xh(t)),new Od(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=xh(e.commitTime);return this.listener.T_(n,t)}return Bs(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Dh(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Fh(this.serializer,e)))};this.t_(t)}}class Nm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Ws(Hs.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.So(e,Ch(t,n),r,o,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ws(Hs.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.vo(e,Ch(t,n),r,a,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Hs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ws(Hs.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Am{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Fs(t),this.g_=!1):js("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Pm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Vm(this)&&(js("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=qs(e);t.v_.add(4),await Rm(t),t.x_.set("Unknown"),t.v_.delete(4),await Om(t)}(this))}))})),this.x_=new Am(n,r)}}async function Om(e){if(Vm(e))for(const t of e.F_)await t(!0)}async function Rm(e){for(const t of e.F_)await t(!1)}function Dm(e,t){const n=qs(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Um(n)?Fm(n):ig(n).Jo()&&Mm(n,t))}function Lm(e,t){const n=qs(e),r=ig(n);n.C_.delete(t),r.Jo()&&jm(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Vm(n)&&n.x_.set("Unknown"))}function Mm(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ig(e).c_(t)}function jm(e,t){e.O_.Oe(t),ig(e).l_(t)}function Fm(e){e.O_=new mh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ig(e).start(),e.x_.p_()}function Um(e){return Vm(e)&&!ig(e).Ho()&&e.C_.size>0}function Vm(e){return 0===qs(e).v_.size}function zm(e){e.O_=void 0}async function Bm(e){e.C_.forEach(((t,n)=>{Mm(e,t)}))}async function qm(e,t){zm(e),Um(e)?(e.x_.S_(t),Fm(e)):e.x_.set("Unknown")}async function Hm(e,t,n){if(e.x_.set("Online"),t instanceof fh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){js("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Wm(e,n)}else if(t instanceof dh?e.O_.$e(t):t instanceof hh?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(sl.min()))try{const t=await Qp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Tc.EMPTY_BYTE_STRING,r.snapshotVersion)),jm(e,t);const i=new Jh(r.target,t,n,r.sequenceNumber);Mm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){js("RemoteStore","Failed to raise snapshot:",t),await Wm(e,t)}}async function Wm(e,t,n){if(!Al(t))throw t;e.v_.add(1),await Rm(e),e.x_.set("Offline"),n||(n=()=>Qp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{js("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Om(e)}))}function Gm(e,t){return t().catch((n=>Wm(e,n,t)))}async function Km(e){const t=qs(e),n=og(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Qm(t);)try{const e=await $p(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Ym(t,e)}catch(e){await Wm(t,e)}$m(t)&&Xm(t)}function Qm(e){return Vm(e)&&e.D_.length<10}function Ym(e,t){e.D_.push(t);const n=og(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function $m(e){return Vm(e)&&!og(e).Ho()&&e.D_.length>0}function Xm(e){og(e).start()}async function Jm(e){og(e).d_()}async function Zm(e){const t=og(e);for(const n of e.D_)t.I_(n.mutations)}async function eg(e,t,n){const r=e.D_.shift(),i=Yd.from(r,t,n);await Gm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Km(e)}async function tg(e,t){t&&og(e).P_&&await async function(e,t){if(function(e){return eh(e)&&e!==Hs.ABORTED}(t.code)){const n=e.D_.shift();og(e).Zo(),await Gm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Km(e)}}(e,t),$m(e)&&Xm(e)}async function ng(e,t){const n=qs(e);n.asyncQueue.verifyOperationInProgress(),js("RemoteStore","RemoteStore received new credentials");const r=Vm(n);n.v_.add(3),await Rm(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Om(n)}async function rg(e,t){const n=qs(e);t?(n.v_.delete(2),await Om(n)):t||(n.v_.add(2),await Rm(n),n.x_.set("Unknown"))}function ig(e){return e.N_||(e.N_=function(e,t,n){const r=qs(e);return r.R_(),new Tm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Bm.bind(null,e),To:qm.bind(null,e),u_:Hm.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Um(e)?Fm(e):e.x_.set("Unknown")):(await e.N_.stop(),zm(e))}))),e.N_}function og(e){return e.B_||(e.B_=function(e,t,n){const r=qs(e);return r.R_(),new Cm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Jm.bind(null,e),To:tg.bind(null,e),E_:Zm.bind(null,e),T_:eg.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Km(e)):(await e.B_.stop(),e.D_.length>0&&(js("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class ag{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new ag(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ws(Hs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(e,t){if(Fs("AsyncQueue","".concat(t,": ").concat(e)),Al(e))return new Ws(Hs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class lg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||hl.comparator(t.key,n.key):(e,t)=>hl.comparator(e.key,t.key),this.keyedMap=ad(),this.sortedSet=new bc(this.comparator)}static emptySet(e){return new lg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new lg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class cg{constructor(){this.L_=new bc(hl.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):zs():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ug{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new ug(e,t,lg.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class dg{constructor(){this.q_=void 0,this.Q_=[]}}class hg{constructor(){this.queries=new nd((e=>$u(e)),Yu),this.onlineState="Unknown",this.K_=new Set}}async function fg(e,t){const n=qs(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new dg),i)try{o.q_=await n.onListen(r)}catch(e){const n=sg(e,"Initialization of query '".concat(Xu(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&yg(n)}async function pg(e,t){const n=qs(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function mg(e,t){const n=qs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&yg(n)}function gg(e,t,n){const r=qs(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function yg(e){e.K_.forEach((e=>{e.next()}))}class vg{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ug(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=ug.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class bg{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class wg{constructor(e){this.serializer=e}Ps(e){return Ph(this.serializer,e)}Is(e){return e.metadata.exists?jh(this.serializer,e.document,!1):au.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return xh(e)}}class _g{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sg(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=cl.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new wg(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||fd()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=qs(e);let o=fd(),a=id();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(o=o.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const s=i.os.newChangeBuffer({trackRemovals:!0}),l=await Xp(i,function(e){return Wu(zu(cl.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Yp(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new wg(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await rm(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function Sg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class kg{constructor(e){this.key=e}}class Ig{constructor(e){this.key=e}}class Eg{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=fd(),this.mutatedKeys=fd(),this.ua=ed(e),this.ca=new lg(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new cg,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ju(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ua(u,s)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zs()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],s=0===this.aa.size&&this.current&&!r?1:0,l=s!==this._a;return this._a=s,0!==o.length||l?{snapshot:new ug(this.query,e.ca,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new cg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=fd(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Ig(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new kg(n))})),t}Ra(e){this.oa=e.hs,this.aa=fd();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return ug.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class xg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Tg{constructor(e){this.key=e,this.ma=!1}}class Cg{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new nd((e=>$u(e)),Yu),this.pa=new Map,this.ya=new Set,this.wa=new bc(hl.comparator),this.Sa=new Map,this.ba=new xp,this.Da={},this.Ca=new Map,this.va=tp.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Ng(e,t){const n=ty(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await Xp(n.localStore,Wu(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Ag(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Dm(n.remoteStore,e)}return i}async function Ag(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Zp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return zg(e,t.targetId,s.da),s.snapshot}(e,t,n,r);const o=await Zp(e.localStore,t,!0),a=new Eg(t,o.hs),s=a.ha(o.documents),l=uh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);zg(e,n,c.da);const u=new xg(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function Pg(e,t){const n=qs(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Yu(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jp(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Lm(n.remoteStore,r.targetId),Ug(n,r.targetId)})).catch(Il)):(Ug(n,r.targetId),await Jp(n.localStore,r.targetId,!0))}async function Og(e,t){const n=qs(e);try{const e=await function(e,t){const n=qs(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Tc.EMPTY_BYTE_STRING,sl.min()).withLastLimboFreeSnapshotVersion(sl.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Qr.updateTargetData(e,c))}));let s=id(),l=fd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Yp(e,o,t.documentUpdates).next((e=>{s=e.cs,l=e.ls}))),!r.isEqual(sl.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return El.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Bs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Bs(r.ma):e.removedDocuments.size>0&&(Bs(r.ma),r.ma=!1))})),await Hg(n,e,t)}catch(e){await Il(e)}}function Rg(e,t,n){const r=qs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=qs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&yg(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dg(e,t,n){const r=qs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new bc(hl.comparator);e=e.insert(o,au.newNoDocument(o,sl.min()));const n=fd().add(o),i=new ch(sl.min(),new Map,new bc(rl),e,n);await Og(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),qg(r)}else await Jp(r.localStore,t,!1).then((()=>Ug(r,t,n))).catch(Il)}async function Lg(e,t){const n=qs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=qs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=El.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Bs(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Fg(n,r,null),jg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hg(n,e)}catch(e){await Il(e)}}async function Mg(e,t,n){const r=qs(e);try{const e=await function(e,t){const n=qs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Bs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Fg(r,t,n),jg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hg(r,e)}catch(n){await Il(n)}}function jg(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Fg(e,t,n){const r=qs(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Vg(e,t)}))}function Vg(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Lm(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),qg(e))}function zg(e,t,n){for(const r of n)r instanceof kg?(e.ba.addReference(r.key,t),Bg(e,r)):r instanceof Ig?(js("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Vg(e,r.key)):zs()}function Bg(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(js("SyncEngine","New document in limbo: "+n),e.ya.add(r),qg(e))}function qg(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new hl(cl.fromString(t)),r=e.va.next();e.Sa.set(r,new Tg(n)),e.wa=e.wa.insert(n,r),Dm(e.remoteStore,new Jh(Wu(zu(n.path)),r,"TargetPurposeLimboResolution",jl._e))}}async function Hg(e,t,n){const r=qs(e),i=[],o=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,s)=>{a.push(r.Ma(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Bp.Ki(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=qs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>El.forEach(t,(t=>El.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>El.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Al(e))throw e;js("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Wg(e,t){const n=qs(e);if(!n.currentUser.isEqual(t)){js("SyncEngine","User change. New user:",t.toKey());const e=await Kp(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Ws(Hs.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hg(n,e.us)}}function Gg(e,t){const n=qs(e),r=n.Sa.get(t);if(r&&r.ma)return fd().add(r.key);{let e=fd();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Kg(e,t){const n=qs(e),r=await Zp(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&zg(n,t.targetId,i.da),i}async function Qg(e,t){const n=qs(e);return tm(n.localStore,t).then((e=>Hg(n,e)))}async function Yg(e,t,n,r){const i=qs(e),o=await function(e,t){const n=qs(e),r=qs(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):El.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Km(i.remoteStore):"acknowledged"===n||"rejected"===n?(Fg(i,t,r||null),jg(i,t),function(e,t){qs(qs(e).mutationQueue).Mn(t)}(i.localStore,t)):zs(),await Hg(i,o)):js("SyncEngine","Cannot apply mutation batch with id: "+t)}async function $g(e,t,n){const r=qs(e),i=[],o=[];for(const a of t){let e;const t=r.pa.get(a);if(t&&0!==t.length){e=await Xp(r.localStore,Wu(t[0]));for(const e of t){const t=r.ga.get(e),n=await Kg(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await em(r.localStore,a);e=await Xp(r.localStore,t),await Ag(r,Xg(t),a,!1,e.resumeToken)}i.push(e)}return r.fa.u_(o),i}function Xg(e){return Vu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Jg(e){return function(e){return qs(qs(e).persistence).Li()}(qs(e).localStore)}async function Zg(e,t,n,r){const i=qs(e);if(i.Fa)return void js("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await tm(i.localStore,Zu(o[0])),r=ch.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Tc.EMPTY_BYTE_STRING);await Hg(i,e,r);break}case"rejected":await Jp(i.localStore,t,!0),Ug(i,t,r);break;default:zs()}}async function ey(e,t,n){const r=ty(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){js("SyncEngine","Adding an already active target "+e);continue}const t=await em(r.localStore,e),n=await Xp(r.localStore,t);await Ag(r,Xg(t),n.targetId,!1,n.resumeToken),Dm(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Jp(r.localStore,e,!1).then((()=>{Lm(r.remoteStore,e),Ug(r,e)})).catch(Il)}}function ty(e){const t=qs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Og.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dg.bind(null,t),t.fa.u_=mg.bind(null,t.eventManager),t.fa.xa=gg.bind(null,t.eventManager),t}function ny(e){const t=qs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mg.bind(null,t),t}class ry{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gp(this.persistence,new Hp,e.initialUser,this.serializer)}createPersistence(e){return new Op(Dp.Hr,this.serializer)}createSharedClientState(e){return new fm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iy extends ry{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await ny(this.Na.syncEngine),await Km(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Gp(this.persistence,new Hp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lp(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ml(t,this.persistence);return new Ll(e.asyncQueue,n)}createPersistence(e){const t=zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kf.withCacheSize(this.cacheSizeBytes):Kf.DEFAULT;return new Fp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Sm(),km(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fm}}class oy extends iy{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof hm&&(this.sharedClientState.syncEngine={Zs:Yg.bind(null,t),Xs:Zg.bind(null,t),eo:ey.bind(null,t),Li:Jg.bind(null,t),Ys:Qg.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=qs(e);if(ty(n),ny(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await $g(n,e.toArray());n.Fa=!0,await rg(n.remoteStore,!0);for(const r of t)Dm(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ug(n,i),Jp(n.localStore,i,!0)))),Lm(n.remoteStore,i)})),await t,await $g(n,e),function(e){const t=qs(e);t.Sa.forEach(((e,n)=>{Lm(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new bc(hl.comparator)}(n),n.Fa=!1,await rg(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Sm();if(!hm.D(t))throw new Ws(Hs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=zp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wg.bind(null,this.syncEngine),await rg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new hg}createDatastore(e){const t=Im(e.databaseInfo.databaseId),n=function(e){return new _m(e)}(e.databaseInfo);return function(e,t,n,r){return new Nm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Pm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Rg(this.syncEngine,e,0)),mm.D()?new mm:new pm)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Cg(e,t,n,r,i,o);return a&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=qs(e);js("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Rm(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function sy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ly{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class cy{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Gs,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new bg(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class uy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ws(Hs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=qs(e),r={documents:t.map((e=>Ah(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,cl.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Bs(!!t.found),t.found.name,t.found.updateTime;const n=Ph(e,t.found.name),r=xh(t.found.updateTime),i=t.found.createTime?xh(t.found.createTime):sl.min(),o=new iu({mapValue:{fields:t.found.fields}});return au.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Bs(!!t.missing),Bs(!!t.readTime);const n=Ph(e,t.missing),r=xh(t.readTime);return au.newNoDocument(n,r)}(e,t):zs()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Bs(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=hl.fromPath(t);this.mutations.push(new Kd(n,this.precondition(n)))})),await async function(e,t){const n=qs(e),r={writes:t.map((e=>Fh(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,cl.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zs();t=sl.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ws(Hs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(sl.min())?Rd.exists(!1):Rd.updateTime(t):Rd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sl.min()))throw new Ws(Hs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rd.updateTime(t)}return Rd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dy{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new Em(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new uy(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!Fl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eh(t)}return!1}}class hy{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Rs.UNAUTHENTICATED,this.clientId=nl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{js("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(js("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ws(Hs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(R){const n=sg(R,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function fy(e,t){e.asyncQueue.verifyOperationInProgress(),js("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Kp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function py(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gy(e);js("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ng(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ng(t.remoteStore,n))),e._onlineComponents=t}function my(e){return"FirebaseError"===e.name?e.code===Hs.FAILED_PRECONDITION||e.code===Hs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function gy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){js("FirestoreClient","Using user provided OfflineComponentProvider");try{await fy(e,e._uninitializedComponentsProvider._offline)}catch(R){const n=R;if(!my(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await fy(e,new ry)}}else js("FirestoreClient","Using default OfflineComponentProvider"),await fy(e,new ry);return e._offlineComponents}async function yy(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(js("FirestoreClient","Using user provided OnlineComponentProvider"),await py(e,e._uninitializedComponentsProvider._online)):(js("FirestoreClient","Using default OnlineComponentProvider"),await py(e,new ay))),e._onlineComponents}function vy(e){return gy(e).then((e=>e.persistence))}function by(e){return gy(e).then((e=>e.localStore))}function wy(e){return yy(e).then((e=>e.remoteStore))}function _y(e){return yy(e).then((e=>e.syncEngine))}function Sy(e){return yy(e).then((e=>e.datastore))}async function ky(e){const t=await yy(e),n=t.eventManager;return n.onListen=Ng.bind(null,t.syncEngine),n.onUnlisten=Pg.bind(null,t.syncEngine),n}function Iy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ly({next:o=>{t.enqueueAndForget((()=>pg(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ws(Hs.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ws(Hs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new vg(zu(n.path),o,{includeMetadataChanges:!0,Z_:!0});return fg(e,a)}(await ky(e),e.asyncQueue,t,n,r))),r.promise}function Ey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gs;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new ly({next:n=>{t.enqueueAndForget((()=>pg(e,a))),n.fromCache&&"server"===r.source?i.reject(new Ws(Hs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new vg(n,o,{includeMetadataChanges:!0,Z_:!0});return fg(e,a)}(await ky(e),e.asyncQueue,t,n,r))),r.promise}function xy(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?rh().encode(e):e,function(e,t){return new cy(e,t)}(function(e,t){if(e instanceof Uint8Array)return sy(e,t);if(e instanceof ArrayBuffer)return sy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Im(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=qs(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=qs(e),r=xh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Sg(r));const i=new _g(r,e.localStore,t.serializer);let o=await t.Oa();for(;o;){const e=await i.na(o);e&&n._updateProgress(e),o=await t.Oa()}const a=await i.complete();return await Hg(e,a.sa,void 0),await function(e,t){const n=qs(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ia)}catch(e){return Us("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await _y(e),i,r)}))}function Ty(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Cy=new Map;function Ny(e,t,n){if(!n)throw new Ws(Hs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ay(e,t,n,r){if(!0===t&&!0===r)throw new Ws(Hs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Py(e){if(!hl.isDocumentKey(e))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Oy(e){if(hl.isDocumentKey(e))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ry(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":zs()}function Dy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ws(Hs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ry(e);throw new Ws(Hs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Ly(e,t){if(t<=0)throw new Ws(Hs.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class My{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ws(Hs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ws(Hs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ay("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ty(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ws(Hs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ws(Hs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ws(Hs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new My({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new My(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qs;switch(e.type){case"firstParty":return new Js(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ws(Hs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Cy.get(e);t&&(js("ComponentProvider","Removing Datastore"),Cy.delete(e),t.terminate())}(this),Promise.resolve()}}function Fy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=Dy(e,jy))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Rs.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nt(JSON.stringify({alg:"none",type:"JWT"})),Nt(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Ws(Hs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Rs(o)}e._authCredentials=new Ys(new Ks(t,n))}}class Uy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Uy(this.firestore,e,this._query)}}class Vy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vy(this.firestore,e,this._key)}}class zy extends Uy{constructor(e,t,n){super(e,t,zu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vy(this.firestore,null,new hl(e))}withConverter(e){return new zy(this.firestore,e,this._path)}}function By(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),Ny("collection","path",t),e instanceof jy){const n=cl.fromString(t,...r);return Oy(n),new zy(e,null,n)}{if(!(e instanceof Vy||e instanceof zy))throw new Ws(Hs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cl.fromString(t,...r));return Oy(n),new zy(e.firestore,null,n)}}function qy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),1===arguments.length&&(t=nl.newId()),Ny("doc","path",t),e instanceof jy){const n=cl.fromString(t,...r);return Py(n),new Vy(e,null,new hl(n))}{if(!(e instanceof Vy||e instanceof zy))throw new Ws(Hs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cl.fromString(t,...r));return Py(n),new Vy(e.firestore,e instanceof zy?e.converter:null,new hl(n))}}function Hy(e,t){return e=tn(e),t=tn(t),(e instanceof Vy||e instanceof zy)&&(t instanceof Vy||t instanceof zy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Wy(e,t){return e=tn(e),t=tn(t),e instanceof Uy&&t instanceof Uy&&e.firestore===t.firestore&&Yu(e._query,t._query)&&e.converter===t.converter}class Gy{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Em(this,"async_queue_retry"),this._u=()=>{const e=km();e&&js("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=km();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=km();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Gs;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Al(e))throw e;js("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fs("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=ag.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&zs()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Ky(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Qy{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yy extends jy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Gy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xy(this),this._firestoreClient.terminate()}}function $y(e){return e._firestoreClient||Xy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xy(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Lc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ty(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new hy(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Jy(e,t,n){const r=new Gs;return e.asyncQueue.enqueue((async()=>{try{await fy(e,n),await py(e,t),r.resolve()}catch(e){const n=e;if(!my(n))throw n;Us("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Zy(e){return function(e){const t=new Gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=qs(e);Vm(n.remoteStore)||js("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=qs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=sg(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await _y(e),t))),t.promise}($y(e=Dy(e,Yy)))}function ev(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vy(e),n=await wy(e);return t.setNetworkEnabled(!0),function(e){const t=qs(e);return t.v_.delete(0),Om(t)}(n)}))}($y(e=Dy(e,Yy)))}function tv(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vy(e),n=await wy(e);return t.setNetworkEnabled(!1),async function(e){const t=qs(e);t.v_.add(0),await Rm(t),t.x_.set("Offline")}(n)}))}($y(e=Dy(e,Yy)))}function nv(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=qs(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await by(e),t)))}($y(e=Dy(e,Yy)),t).then((t=>t?new Uy(e,null,t.query):null))}function rv(e){if(e._initialized||e._terminated)throw new Ws(Hs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class iv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iv(Tc.fromBase64String(e))}catch(e){throw new Ws(Hs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new iv(Tc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ov{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class av{constructor(e){this._methodName=e}}class sv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ws(Hs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ws(Hs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rl(this._lat,e._lat)||rl(this._long,e._long)}}const lv=/^__.*__$/;class cv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms):new zd(e,this.data,t,this.fieldTransforms)}}class uv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zs()}}class hv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ov(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(dv(this.du)&&lv.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class fv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Im(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hv({du:e,methodName:t,wu:n,path:dl.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(e){const t=e._freezeSettings(),n=Im(e._databaseId);return new fv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mv(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(o.merge||o.mergeFields?2:0,t,n,i);Cv("Data must be an object, but it was:",a,r);const s=xv(r,a);let l,c;if(o.merge)l=new Ec(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Nv(t,r,n);if(!a.contains(i))throw new Ws(Hs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Rv(e,i)||e.push(i)}l=new Ec(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new cv(new iu(s),l,c)}class gv extends av{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gv}}function yv(e,t,n){return new hv({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vv extends av{_toFieldTransform(e){return new Pd(e.path,new kd)}isEqual(e){return e instanceof vv}}class bv extends av{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=yv(this,e,!0),n=this.bu.map((e=>Ev(e,t))),r=new Id(n);return new Pd(e.path,r)}isEqual(e){return e instanceof bv&&Kt(this.bu,e.bu)}}class wv extends av{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=yv(this,e,!0),n=this.bu.map((e=>Ev(e,t))),r=new xd(n);return new Pd(e.path,r)}isEqual(e){return e instanceof wv&&Kt(this.bu,e.bu)}}class _v extends av{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new Cd(e.serializer,vd(e.serializer,this.Du));return new Pd(e.path,t)}isEqual(e){return e instanceof _v&&this.Du===e.Du}}function Sv(e,t,n,r){const i=e.Su(1,t,n);Cv("Data must be an object, but it was:",i,r);const o=[],a=iu.empty();yc(r,((e,r)=>{const s=Pv(t,e,n);r=tn(r);const l=i.fu(s);if(r instanceof gv)o.push(s);else{const e=Ev(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Ec(o);return new uv(a,s,i.fieldTransforms)}function kv(e,t,n,r,i,o){const a=e.Su(1,t,n),s=[Nv(t,r,n)],l=[i];if(o.length%2!=0)throw new Ws(Hs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(Nv(t,o[h])),l.push(o[h+1]);const c=[],u=iu.empty();for(let h=s.length-1;h>=0;--h)if(!Rv(c,s[h])){const e=s[h];let t=l[h];t=tn(t);const n=a.fu(e);if(t instanceof gv)c.push(e);else{const r=Ev(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Ec(c);return new uv(u,d,a.fieldTransforms)}function Iv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ev(n,e.Su(r?4:3,t))}function Ev(e,t){if(Tv(e=tn(e)))return Cv("Unsupported field value:",t,e),xv(e,t);if(e instanceof av)return function(e,t){if(!dv(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ev(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=al.fromDate(e);return{timestampValue:kh(t.serializer,n)}}if(e instanceof al){const n=new al(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kh(t.serializer,n)}}if(e instanceof sv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iv)return{bytesValue:Ih(t.serializer,e._byteString)};if(e instanceof Vy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Th(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Ry(e)))}(e,t)}function xv(e,t){const n={};return vc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(e,((e,r)=>{const i=Ev(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof al||e instanceof sv||e instanceof iv||e instanceof Vy||e instanceof av)}function Cv(e,t,n){if(!Tv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Ry(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Nv(e,t,n){if((t=tn(t))instanceof ov)return t._internalPath;if("string"==typeof t)return Pv(e,t);throw Ov("Field path arguments must be of type string or ",e,!1,void 0,n)}const Av=new RegExp("[~\\*/\\[\\]]");function Pv(e,t,n){if(t.search(Av)>=0)throw Ov("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new ov(...t.split("."))._internalPath}catch(O){throw Ov("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ov(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Ws(Hs.INVALID_ARGUMENT,s+e+l)}function Rv(e,t){return e.some((e=>e.isEqual(t)))}class Dv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lv extends Dv{data(){return super.data()}}function Mv(e,t){return"string"==typeof t?Pv(e,t):t instanceof ov?t._internalPath:t._delegate._internalPath}function jv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ws(Hs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class Uv extends Fv{}function Vv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Fv&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof qv)).length,n=e.filter((e=>e instanceof zv)).length;if(t>1||t>0&&n>0)throw new Ws(Hs.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class zv extends Uv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zv(e,t,n)}_apply(e){const t=this._parse(e);return Jv(e._query,t),new Uy(e.firestore,e.converter,Ku(e._query,t))}_parse(e){const t=pv(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Xv(a,o);const t=[];for(const n of a)t.push($v(r,e,n));s={arrayValue:{values:t}}}else s=$v(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xv(a,o),s=Iv(n,t,a,"in"===o||"not-in"===o);return fu.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Bv(e,t,n){const r=t,i=Mv("where",e);return zv._create(i,r,n)}class qv extends Fv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:pu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Jv(n,i),n=Ku(n,i)}(e._query,t),new Uy(e.firestore,e.converter,Ku(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Hv extends Uv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(t,n)}(e._query,this._field,this._direction);return new Uy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Uu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Wv extends Uv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Wv(e,t,n)}_apply(e){return new Uy(e.firestore,e.converter,Qu(e._query,this._limit,this._limitType))}}function Gv(e){return Ly("limit",e),Wv._create("limit",e,"F")}class Kv extends Uv{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Kv(e,t,n)}_apply(e){const t=Yv(e,this.type,this._docOrFields,this._inclusive);return new Uy(e.firestore,e.converter,function(e,t){return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Qv extends Uv{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Qv(e,t,n)}_apply(e){const t=Yv(e,this.type,this._docOrFields,this._inclusive);return new Uy(e.firestore,e.converter,function(e,t){return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Yv(e,t,n,r){if(n[0]=tn(n[0]),n[0]instanceof Dv)return function(e,t,n,r,i){if(!r)throw new Ws(Hs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of Hu(e))if(a.field.isKeyField())o.push(Gc(t,r.key));else{const e=r.data.field(a.field);if(Oc(e))throw new Ws(Hs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new su(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=pv(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Ws(Hs.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!qu(e)&&-1!==o.indexOf("/"))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(cl.fromString(o));if(!hl.isDocumentKey(n))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new hl(n);s.push(Gc(t,i))}else{const e=Iv(n,r,o);s.push(e)}}return new su(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function $v(e,t,n){if("string"==typeof(n=tn(n))){if(""===n)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qu(t)&&-1!==n.indexOf("/"))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(cl.fromString(n));if(!hl.isDocumentKey(r))throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gc(e,new hl(r))}if(n instanceof Vy)return Gc(e,n._key);throw new Ws(Hs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ry(n),"."))}function Xv(e,t){if(!Array.isArray(e)||0===e.length)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ws(Hs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Zv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ac(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zs()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yc(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new sv(Ac(e.latitude),Ac(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const t=Nc(e);return new al(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cl.fromString(e);Bs(Xh(n));const r=new Mc(n.get(1),n.get(3)),i=new hl(n.popFirst(5));return r.isEqual(t)||Fs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function eb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tb extends Zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new iv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vy(this.firestore,null,t)}}class nb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rb extends Dv{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ib(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Mv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ib extends rb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ob{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ib(this._firestore,this._userDataWriter,n.key,n,new nb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ws(Hs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ib(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ib(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ab(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ab(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zs()}}function sb(e,t){return e instanceof rb&&t instanceof rb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ob&&t instanceof ob&&e._firestore===t._firestore&&Wy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lb(e){e=Dy(e,Vy);const t=Dy(e.firestore,Yy);return Iy($y(t),e._key).then((n=>bb(t,e,n)))}class cb extends Zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new iv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vy(this.firestore,null,t)}}function ub(e){e=Dy(e,Vy);const t=Dy(e.firestore,Yy),n=$y(t),r=new cb(t);return function(e,t){const n=new Gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=qs(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ws(Hs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=sg(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await by(e),t,n))),n.promise}(n,e._key).then((n=>new rb(t,r,e._key,n,new nb(null!==n&&n.hasLocalMutations,!0),e.converter)))}function db(e){e=Dy(e,Uy);const t=Dy(e.firestore,Yy),n=$y(t),r=new cb(t);return jv(e._query),Ey(n,e._query).then((n=>new ob(t,r,e,n)))}function hb(e){e=Dy(e,Uy);const t=Dy(e.firestore,Yy),n=$y(t),r=new cb(t);return function(e,t){const n=new Gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Zp(e,t,!0),i=new Eg(t,r.hs),o=i.ha(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=sg(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await by(e),t,n))),n.promise}(n,e._query).then((n=>new ob(t,r,e,n)))}function fb(e,t,n){e=Dy(e,Vy);const r=Dy(e.firestore,Yy),i=eb(e.converter,t,n);return vb(r,[mv(pv(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rd.none())])}function pb(e,t,n){e=Dy(e,Vy);const r=Dy(e.firestore,Yy),i=pv(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=tn(t))||t instanceof ov?kv(i,"updateDoc",e._key,t,n,s):Sv(i,"updateDoc",e._key,t),vb(r,[o.toMutation(e._key,Rd.exists(!0))])}function mb(e,t){const n=Dy(e.firestore,Yy),r=qy(e),i=eb(e.converter,t);return vb(n,[mv(pv(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rd.exists(!1))]).then((()=>r))}function gb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=tn(e);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Ky(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(Ky(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Vy)d=Dy(e.firestore,Yy),h=zu(e._key.path),u={next:t=>{n[l]&&n[l](bb(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Dy(e,Uy);d=Dy(t.firestore,Yy),h=t._query;const r=new cb(d);u={next:e=>{n[l]&&n[l](new ob(d,r,t,e))},error:n[l+1],complete:n[l+2]},jv(e._query)}return function(e,t,n,r){const i=new ly(r),o=new vg(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>fg(await ky(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>pg(await ky(e),o)))}}($y(d),h,c,u)}function yb(e,t){return function(e,t){const n=new ly(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){qs(e).K_.add(t),t.next()}(await ky(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){qs(e).K_.delete(t)}(await ky(e),n)))}}($y(e=Dy(e,Yy)),Ky(t)?t:{next:t})}function vb(e,t){return function(e,t){const n=new Gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ny(e);try{const e=await function(e,t){const n=qs(e),r=al.now(),i=t.reduce(((e,t)=>e.add(t.key)),fd());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=id(),l=fd();return n.os.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Ud(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Bd(e.key,t,ou(t.value.mapValue),Rd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:sd(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new bc(rl)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hg(r,e.changes),await Km(r.remoteStore)}catch(e){const t=sg(e,"Failed to persist write");n.reject(t)}}(await _y(e),t,n))),n.promise}($y(e),t)}function bb(e,t,n){const r=n.docs.get(t._key),i=new cb(e);return new rb(e,i,t._key,r,new nb(n.hasPendingWrites,n.fromCache),t.converter)}const wb={maxAttempts:5};class _b{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pv(e)}set(e,t,n){this._verifyNotCommitted();const r=Sb(e,this._firestore),i=eb(r.converter,t,n),o=mv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Rd.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Sb(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=tn(t))||t instanceof ov?kv(this._dataReader,"WriteBatch.update",r._key,t,n,a):Sv(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Rd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sb(e,this._firestore);return this._mutations=this._mutations.concat(new Gd(t._key,Rd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ws(Hs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sb(e,t){if((e=tn(e)).firestore!==t)throw new Ws(Hs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class kb extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pv(e)}get(e){const t=Sb(e,this._firestore),n=new tb(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return zs();const r=e[0];if(r.isFoundDocument())return new Dv(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Dv(this._firestore,n,t._key,null,t.converter);throw zs()}))}set(e,t,n){const r=Sb(e,this._firestore),i=eb(r.converter,t,n),o=mv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Sb(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=tn(t))||t instanceof ov?kv(this._dataReader,"Transaction.update",r._key,t,n,a):Sv(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Sb(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sb(e,this._firestore),n=new cb(this._firestore);return super.get(e).then((e=>new rb(this._firestore,n,t._key,e._document,new nb(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ds=e}(Kn),zn(new nn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Yy(new $s(e.getProvider("auth-internal")),new el(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ws(Hs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Jn(Os,"4.4.3",e),Jn(Os,"4.4.3","esm2017")}();class Ib{constructor(e,t){this._delegate=e,this.firebase=t,Un(e,new nn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Xn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Un(this._delegate,e)}_addOrOverwriteComponent(e){Vn(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Eb=new Ht("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const xb=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Qn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Gt(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Jn,setLogLevel:er,onLog:Zn,apps:null,SDK_VERSION:Kn,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(zn(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Eb.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Pt(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Gt(n,e=e||Ln))throw Eb.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ib);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Pt(n,e)},createSubscribe:Jt,ErrorFactory:Ht,deepExtend:Pt}),n}(),Tb=new fn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Tb.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Tb.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Cb=xb;!function(e){Jn("@firebase/app-compat","0.2.28",e)}();Cb.registerVersion("firebase","10.8.1","app-compat");function Nb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ab={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pb="EMAIL_SIGNIN",Ob="PASSWORD_RESET",Rb="RECOVER_EMAIL",Db="REVERT_SECOND_FACTOR_ADDITION",Lb="VERIFY_AND_CHANGE_EMAIL",Mb="VERIFY_EMAIL";function jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fb=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ub=jb,Vb=new Ht("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zb=new fn("@firebase/auth");function Bb(e){if(zb.logLevel<=ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zb.error("Auth (".concat(Kn,"): ").concat(e),...n)}}function qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Kb(e,...n)}function Hb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kb(e,...n)}function Wb(e,t,n){const r=Object.assign(Object.assign({},Ub()),{[t]:n});return new Ht("auth","Firebase",r).create(t,{appName:e.name})}function Gb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qb(e,"argument-error"),Wb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Kb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Vb.create(e,...n)}function Qb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Kb(t,...r)}}function Yb(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bb(t),new Error(t)}function $b(e,t){e||Yb(t)}function Xb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jb(){return"http:"===Zb()||"https:"===Zb()}function Zb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ew{constructor(e,t){this.shortDelay=e,this.longDelay=t,$b(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())||Ut()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Jb()||Ft()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function tw(e,t){$b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class nw{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Yb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Yb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Yb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},iw=new ew(3e4,6e4);function ow(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function aw(e,t,n,r){return sw(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Yt(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),nw.fetch()(cw(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function sw(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},rw),t);try{const t=new dw(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hw(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw hw(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw hw(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw hw(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Wb(e,s,a);qb(e,s)}}catch(i){if(i instanceof qt)throw i;qb(e,"network-request-failed",{message:String(i)})}}async function lw(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await aw(e,t,n,r,i);return"mfaPendingCredential"in o&&qb(e,"multi-factor-auth-required",{_serverResponse:o}),o}function cw(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?tw(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function uw(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dw{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Hb(this.auth,"network-request-failed"))),iw.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function hw(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hb(e,t,r);return i.customData._tokenResponse=n,i}function fw(e){return void 0!==e&&void 0!==e.getResponse}function pw(e){return void 0!==e&&void 0!==e.enterprise}class mw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uw(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function gw(e,t){return aw(e,"GET","/v2/recaptchaConfig",ow(e,t))}function yw(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function vw(e){return 1e3*Number(e)}function bw(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Bb("JWT malformed, contained fewer than 3 sections"),null;try{const e=At(n);return e?JSON.parse(e):(Bb("Failed to decode base64 JWT payload"),null)}catch(i){return Bb("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function ww(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof qt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class _w{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Sw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yw(this.lastLoginAt),this.creationTime=yw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kw(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ww(e,async function(e,t){return aw(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qb(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?function(e){return e.map((e=>{var{providerId:t}=e,n=Nb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}(o.providerUserInfo):[],s=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Sw(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Iw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qb(e.idToken,"internal-error"),Qb("undefined"!==typeof e.idToken,"internal-error"),Qb("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=bw(e);return Qb(t,"internal-error"),Qb("undefined"!==typeof t.exp,"internal-error"),Qb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qb(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await sw(e,{},(async()=>{const n=Yt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=cw(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nw.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Iw;return n&&(Qb("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Qb("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Qb("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iw,this.toJSON())}_performRefresh(){return Yb("not implemented")}}function Ew(e,t){Qb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class xw{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _w(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ww(this,this.stsTokenManager.getToken(this.auth,e));return Qb(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=tn(e),r=await n.getIdToken(t),i=bw(r);Qb(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:yw(vw(i.auth_time)),issuedAtTime:yw(vw(i.iat)),expirationTime:yw(vw(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=tn(e);await kw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xw(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await kw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ww(this,async function(e,t){return aw(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;Qb(v&&S,e,"internal-error");const k=Iw.fromJSON(this.name,S);Qb("string"===typeof v,e,"internal-error"),Ew(u,e.name),Ew(d,e.name),Qb("boolean"===typeof b,e,"internal-error"),Qb("boolean"===typeof w,e,"internal-error"),Ew(h,e.name),Ew(f,e.name),Ew(p,e.name),Ew(m,e.name),Ew(g,e.name),Ew(y,e.name);const I=new xw({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Iw;r.updateFromServerResponse(t);const i=new xw({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await kw(i),i}}const Tw=new Map;function Cw(e){$b(e instanceof Function,"Expected a class definition");let t=Tw.get(e);return t?($b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tw.set(e,t),t)}class Nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nw.type="NONE";const Aw=Nw;function Pw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ow{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Pw(this.userKey,r.apiKey,i),this.fullPersistenceKey=Pw("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xw._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ow(Cw(Aw),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Cw(Aw);const o=Pw(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=xw._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Ow(i,e,n)):new Ow(i,e,n)}}function Rw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uw(t))return"Blackberry";if(Vw(t))return"Webos";if(Lw(t))return"Safari";if((t.includes("chrome/")||Mw(t))&&!t.includes("edge/"))return"Chrome";if(Fw(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Dw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/firefox\//i.test(e)}function Lw(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/crios\//i.test(e)}function jw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iemobile/i.test(e)}function Fw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/android/i.test(e)}function Uw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/blackberry/i.test(e)}function Vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/webos/i.test(e)}function zw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return zw(e)||Fw(e)||Vw(e)||Uw(e)||/windows phone/i.test(e)||jw(e)}function qw(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Rw(Mt());break;case"Worker":t="".concat(Rw(Mt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kn,"/").concat(r)}class Hw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(Y){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ww{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Gw{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new Hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cw(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ow.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qb(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kw(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?tn(e):null;return t&&Qb(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qb(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Cw(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return aw(e,"GET","/v2/passwordPolicy",ow(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ww(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ht("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return aw(e,"POST","/v2/accounts:revokeToken",ow(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cw(e)||this._popupRedirectResolver;Qb(t,this,"argument-error"),this.redirectPersistenceManager=await Ow.create(this,[Cw(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qb(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qb(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(zb.logLevel<=ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zb.warn("Auth (".concat(Kn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Kw(e){return tn(e)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jt((e=>this.observer=e))}get next(){return Qb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $w(e){return Yw.loadJS(e)}function Xw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Jw{constructor(e){this.type="recaptcha-enterprise",this.auth=Kw(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;pw(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{gw(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new mw(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&pw(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yw.recaptchaEnterpriseScript;0!==t.length&&(t+=i),$w(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Jw(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function e_(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zw(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zw(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function t_(e,t,n){const r=Kw(e);Qb(r._canInitEmulator,r,"emulator-config-failed"),Qb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=n_(t),{host:a,port:s}=function(e){const t=n_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:r_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:r_(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function n_(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class i_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yb("not implemented")}_getIdTokenResponse(e){return Yb("not implemented")}_linkToIdToken(e,t){return Yb("not implemented")}_getReauthenticationResolver(e){return Yb("not implemented")}}async function o_(e,t){return aw(e,"POST","/v1/accounts:resetPassword",ow(e,t))}async function a_(e,t){return aw(e,"POST","/v1/accounts:signUp",t)}async function s_(e,t){return lw(e,"POST","/v1/accounts:signInWithPassword",ow(e,t))}async function l_(e,t){return aw(e,"POST","/v1/accounts:sendOobCode",ow(e,t))}async function c_(e,t){return l_(e,t)}async function u_(e,t){return l_(e,t)}class d_ extends i_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new d_(e,t,"password")}static _fromEmailAndCode(e,t){return new d_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return e_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",s_);case"emailLink":return async function(e,t){return lw(e,"POST","/v1/accounts:signInWithEmailLink",ow(e,t))}(e,{email:this._email,oobCode:this._password});default:qb(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return e_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a_);case"emailLink":return async function(e,t){return lw(e,"POST","/v1/accounts:signInWithEmailLink",ow(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qb(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function h_(e,t){return lw(e,"POST","/v1/accounts:signInWithIdp",ow(e,t))}class f_ extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new f_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qb("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nb(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new f_(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return h_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,h_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,h_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yt(t)}return e}}const p_={USER_NOT_FOUND:"user-not-found"};class m_ extends i_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new m_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new m_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return lw(e,"POST","/v1/accounts:signInWithPhoneNumber",ow(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await lw(e,"POST","/v1/accounts:signInWithPhoneNumber",ow(e,t));if(n.temporaryProof)throw hw(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return lw(e,"POST","/v1/accounts:signInWithPhoneNumber",ow(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),p_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new m_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class g_{constructor(e){var t,n,r,i,o,a;const s=$t(Xt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Qb(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=$t(Xt(e)).link,n=t?$t(Xt(t)).deep_link_id:null,r=$t(Xt(e)).deep_link_id;return(r?$t(Xt(r)).link:null)||r||n||t||e}(e);try{return new g_(t)}catch(n){return null}}}class y_{constructor(){this.providerId=y_.PROVIDER_ID}static credential(e,t){return d_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=g_.parseLink(t);return Qb(n,"argument-error"),d_._fromEmailAndCode(e,n.code,n.tenantId)}}y_.PROVIDER_ID="password",y_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class v_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class b_ extends v_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class w_ extends b_{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Qb("providerId"in t&&"signInMethod"in t,"argument-error"),f_._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Qb(e.idToken||e.accessToken,"argument-error"),f_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return w_.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return w_.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new w_(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(l){return null}}}class __ extends b_{constructor(){super("facebook.com")}static credential(e){return f_._fromParams({providerId:__.PROVIDER_ID,signInMethod:__.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return __.credentialFromTaggedObject(e)}static credentialFromError(e){return __.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return __.credential(t.oauthAccessToken)}catch(n){return null}}}__.FACEBOOK_SIGN_IN_METHOD="facebook.com",__.PROVIDER_ID="facebook.com";class S_ extends b_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return f_._fromParams({providerId:S_.PROVIDER_ID,signInMethod:S_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return S_.credentialFromTaggedObject(e)}static credentialFromError(e){return S_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return S_.credential(n,r)}catch(i){return null}}}S_.GOOGLE_SIGN_IN_METHOD="google.com",S_.PROVIDER_ID="google.com";class k_ extends b_{constructor(){super("github.com")}static credential(e){return f_._fromParams({providerId:k_.PROVIDER_ID,signInMethod:k_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return k_.credentialFromTaggedObject(e)}static credentialFromError(e){return k_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return k_.credential(t.oauthAccessToken)}catch(n){return null}}}k_.GITHUB_SIGN_IN_METHOD="github.com",k_.PROVIDER_ID="github.com";class I_ extends i_{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return h_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,h_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,h_(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new I_(n,i):null}static _create(e,t){return new I_(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class E_ extends v_{constructor(e){Qb(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return E_.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return E_.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=I_.fromJSON(e);return Qb(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return I_._create(r,n)}catch(i){return null}}}class x_ extends b_{constructor(){super("twitter.com")}static credential(e,t){return f_._fromParams({providerId:x_.PROVIDER_ID,signInMethod:x_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return x_.credentialFromTaggedObject(e)}static credentialFromError(e){return x_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return x_.credential(n,r)}catch(i){return null}}}async function T_(e,t){return lw(e,"POST","/v1/accounts:signUp",ow(e,t))}x_.TWITTER_SIGN_IN_METHOD="twitter.com",x_.PROVIDER_ID="twitter.com";class C_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await xw._fromIdTokenResponse(e,n,r),o=N_(n);return new C_({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=N_(n);return new C_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function N_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class A_ extends qt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,A_.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new A_(e,t,n,r)}}function P_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw A_._fromErrorAndOperation(e,n,t,r);throw n}))}function O_(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function R_(e,t){const n=tn(e);await L_(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return aw(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=O_(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function D_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ww(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return C_._forOperation(e,"link",r)}async function L_(e,t,n){await kw(t);const r=!1===e?"provider-already-linked":"no-such-provider";Qb(O_(t.providerData).has(n)===e,t.auth,r)}async function M_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await ww(e,P_(r,i,t,e),n);Qb(o.idToken,r,"internal-error");const a=bw(o.idToken);Qb(a,r,"internal-error");const{sub:s}=a;return Qb(e.uid===s,r,"user-mismatch"),C_._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&qb(r,"user-mismatch"),o}}async function j_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await P_(e,r,t),o=await C_._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function F_(e,t){return j_(Kw(e),t)}async function U_(e,t){const n=tn(e);return await L_(!1,n,t.providerId),D_(n,t)}async function V_(e,t){return M_(tn(e),t)}async function z_(e,t){const n=Kw(e),r=await async function(e,t){return lw(e,"POST","/v1/accounts:signInWithCustomToken",ow(e,t))}(n,{token:t,returnSecureToken:!0}),i=await C_._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class B_{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?q_._fromServerResponse(e,t):"totpInfo"in t?H_._fromServerResponse(e,t):qb(e,"internal-error")}}class q_ extends B_{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new q_(t)}}class H_ extends B_{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new H_(t)}}function W_(e,t,n){var r;Qb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function G_(e){const t=Kw(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function K_(e,t){await async function(e,t){return aw(e,"POST","/v1/accounts:update",ow(e,t))}(tn(e),{oobCode:t})}async function Q_(e,t){const n=tn(e),r=await o_(n,{oobCode:t}),i=r.requestType;switch(Qb(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qb(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qb(r.mfaInfo,n,"internal-error");default:Qb(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=B_._fromServerResponse(Kw(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Y_(e,t){const n={identifier:t,continueUri:Jb()?Xb():"http://localhost"},{signinMethods:r}=await async function(e,t){return aw(e,"POST","/v1/accounts:createAuthUri",ow(e,t))}(tn(e),n);return r||[]}async function $_(e,t){const n=tn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&W_(n.auth,r,t);const{email:i}=await async function(e,t){return l_(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function X_(e,t,n){const r=tn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&W_(r.auth,i,n);const{email:o}=await async function(e,t){return l_(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function J_(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=tn(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await ww(i,async function(e,t){return aw(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Z_(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await ww(e,async function(e,t){return aw(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class eS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class tS extends eS{constructor(e,t,n,r){super(e,t,n),this.username=r}}class nS extends eS{constructor(e,t){super(e,"facebook.com",t)}}class rS extends tS{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class iS extends eS{constructor(e,t){super(e,"google.com",t)}}class oS extends tS{constructor(e,t,n){super(e,"twitter.com",t,n)}}function aS(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=bw(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new eS(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new nS(o,i);case"github.com":return new rS(o,i);case"google.com":return new iS(o,i);case"twitter.com":return new oS(o,i,e.screenName||null);case"custom":case"anonymous":return new eS(o,null);default:return new eS(o,r,i)}}(n)}class sS{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new sS("enroll",e,t)}static _fromMfaPendingCredential(e){return new sS("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return sS._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return sS._fromIdtoken(e.multiFactorSession.idToken)}return null}}class lS{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Kw(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>B_._fromServerResponse(n,e)));Qb(r.mfaPendingCredential,n,"internal-error");const o=sS._fromMfaPendingCredential(r.mfaPendingCredential);return new lS(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await C_._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Qb(t.user,n,"internal-error"),C_._forOperation(t.user,t.operationType,a);default:qb(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class cS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>B_._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new cS(e)}async getSession(){return sS._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ww(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ww(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},aw(r,"POST","/v2/accounts/mfaEnrollment:withdraw",ow(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const uS=new WeakMap;const dS="__sak";class hS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dS,"1"),this.storage.removeItem(dS),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fS extends hS{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Mt();return Lw(e)||zw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Vt()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const pS=fS;class mS extends hS{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mS.type="SESSION";const gS=mS;class yS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yS.receivers=[];class bS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=vS("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function wS(){return window}function _S(){return"undefined"!==typeof wS().WorkerGlobalScope&&"function"===typeof wS().importScripts}const SS="firebaseLocalStorageDb",kS="firebaseLocalStorage",IS="fbase_key";class ES{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function xS(e,t){return e.transaction([kS],t?"readwrite":"readonly").objectStore(kS)}function TS(){const e=indexedDB.open(SS,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(kS,{keyPath:IS})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(kS)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(SS);return new ES(e).toPromise()}(),t(await TS()))}))}))}async function CS(e,t,n){const r=xS(e,!0).put({[IS]:t,value:n});return new ES(r).toPromise()}function NS(e,t){const n=xS(e,!0).delete(t);return new ES(n).toPromise()}class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await TS()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yS._getInstance(_S()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bS(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await TS();return await CS(e,dS,"1"),await NS(e,dS),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>CS(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=xS(e,!1).get(t),r=await new ES(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>NS(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=xS(e,!1).getAll();return new ES(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}AS.type="LOCAL";const PS=AS;const OS=1e12;class RS{constructor(e){this.auth=e,this.counter=OS,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new DS(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||OS;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||OS;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||OS;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class DS{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Qb(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const LS=Xw("rcb"),MS=new ew(3e4,6e4);class jS{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=wS().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Qb(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&fw(wS().grecaptcha)?Promise.resolve(wS().grecaptcha):new Promise(((n,r)=>{const i=wS().setTimeout((()=>{r(Hb(e,"network-request-failed"))}),MS.get());wS()[LS]=()=>{wS().clearTimeout(i),delete wS()[LS];const o=wS().grecaptcha;if(!o||!fw(o))return void r(Hb(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};$w("".concat(Yw.recaptchaV2Script,"?").concat(Yt({onload:LS,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Hb(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=wS().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class FS{async load(e){return new RS(e)}clearedOneInstance(){}}const US="recaptcha",VS={theme:"light",type:"image"};class zS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},VS);this.parameters=n,this.type=US,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kw(e),this.isInvisible="invisible"===this.parameters.size,Qb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Qb(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FS:new jS,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Qb(!this.parameters.sitekey,this.auth,"argument-error"),Qb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=wS()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Qb(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Qb(Jb()&&!_S(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await aw(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Qb(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Qb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class BS{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=m_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function qS(e,t,n){var r;const i=await n.verify();try{let o;if(Qb("string"===typeof i,e,"argument-error"),Qb(n.type===US,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Qb("enroll"===t.type,e,"internal-error");const n=await function(e,t){return aw(e,"POST","/v2/accounts/mfaEnrollment:start",ow(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qb("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Qb(n,e,"missing-multi-factor-info");const a=await function(e,t){return aw(e,"POST","/v2/accounts/mfaSignIn:start",ow(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return aw(e,"POST","/v1/accounts:sendVerificationCode",ow(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class HS{constructor(e){this.providerId=HS.PROVIDER_ID,this.auth=Kw(e)}verifyPhoneNumber(e,t){return qS(this.auth,e,tn(t))}static credential(e,t){return m_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return HS.credentialFromTaggedObject(t)}static credentialFromError(e){return HS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?m_._fromTokenResponse(n,r):null}}function WS(e,t){return t?Cw(t):(Qb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}HS.PROVIDER_ID="phone",HS.PHONE_SIGN_IN_METHOD="phone";class GS extends i_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return h_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return h_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return h_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KS(e){return j_(e.auth,new GS(e),e.bypassAuthState)}function QS(e){const{auth:t,user:n}=e;return Qb(n,t,"internal-error"),M_(n,new GS(e),e.bypassAuthState)}async function YS(e){const{auth:t,user:n}=e;return Qb(n,t,"internal-error"),D_(n,new GS(e),e.bypassAuthState)}class $S{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KS;case"linkViaPopup":case"linkViaRedirect":return YS;case"reauthViaPopup":case"reauthViaRedirect":return QS;default:qb(this.auth,"internal-error")}}resolve(e){$b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XS=new ew(2e3,1e4);class JS extends $S{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,JS.currentPopupAction&&JS.currentPopupAction.cancel(),JS.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qb(e,this.auth,"internal-error"),e}async onExecution(){$b(1===this.filter.length,"Popup operations only handle one event");const e=vS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Hb(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Hb(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,JS.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Hb(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,XS.get())};e()}}JS.currentPopupAction=null;const ZS="pendingRedirect",ek=new Map;class tk extends $S{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ek.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ok(t),r=ik(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ek.set(this.auth._key(),e)}return this.bypassAuthState||ek.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function nk(e,t){return ik(e)._set(ok(t),"true")}function rk(e,t){ek.set(e._key(),t)}function ik(e){return Cw(e._redirectPersistence)}function ok(e){return Pw(ZS,e.config.apiKey,e.name)}function ak(e,t,n){return async function(e,t,n){const r=Kw(e);Gb(e,t,v_),await r._initializationPromise;const i=WS(r,n);return await nk(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function sk(e,t,n){return async function(e,t,n){const r=tn(e);Gb(r.auth,t,v_),await r.auth._initializationPromise;const i=WS(r.auth,n);await nk(i,r.auth);const o=await uk(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function lk(e,t,n){return async function(e,t,n){const r=tn(e);Gb(r.auth,t,v_),await r.auth._initializationPromise;const i=WS(r.auth,n);await L_(!1,r,t.providerId),await nk(i,r.auth);const o=await uk(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Kw(e),i=WS(r,t),o=new tk(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function uk(e){const t=vS("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class dk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fk(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Hb(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hk(e))}saveEventToCache(e){this.cachedEventUids.add(hk(e)),this.lastProcessedEventTime=Date.now()}}function hk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function fk(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function pk(e){return aw(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gk=/^https?/;function yk(e){const t=Xb(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gk.test(n))return!1;if(mk.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vk=new ew(3e4,6e4);function bk(){const e=wS().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wk(e){return new Promise(((t,n)=>{var r,i,o;function a(){bk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bk(),n(Hb(e,"network-request-failed"))},timeout:vk.get()})}if(null===(i=null===(r=wS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=wS().gapi)||void 0===o?void 0:o.load)){const t=Xw("iframefcb");return wS()[t]=()=>{gapi.load?a():n(Hb(e,"network-request-failed"))},$w("".concat(Yw.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw _k=null,e}))}let _k=null;const Sk=new ew(5e3,15e3),kk="__/auth/iframe",Ik="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tk(e){const t=e.config;Qb(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tw(t,Ik):"https://".concat(e.config.authDomain,"/").concat(kk),r={apiKey:t.apiKey,appName:e.name,v:Kn},i=xk.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Yt(r).slice(1))}async function Ck(e){const t=await function(e){return _k=_k||wk(e),_k}(e),n=wS().gapi;return Qb(n,e,"internal-error"),t.open({where:document.body,url:Tk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Hb(e,"network-request-failed"),o=wS().setTimeout((()=>{r(i)}),Sk.get());function a(){wS().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Nk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ak{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Pk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Nk),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Mt().toLowerCase();n&&(s=Mw(c)?"_blank":n),Dw(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return zw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Ak(null);const d=window.open(t||"",s,u);Qb(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Ak(d)}const Ok="__/auth/handler",Rk="emulator/auth/handler",Dk=encodeURIComponent("fac");async function Lk(e,t,n,r,i,o){Qb(e.config.authDomain,e,"auth-domain-config-required"),Qb(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kn,eventId:i};if(t instanceof v_){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof b_){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Dk,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ok);return tw(t,Rk)}(e),"?").concat(Yt(s).slice(1)).concat(c)}const Mk="webStorageSupport";const jk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gS,this._completeRedirectFn=ck,this._overrideRedirectResult=rk}async _openPopup(e,t,n,r){var i;$b(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Pk(e,await Lk(e,t,n,Xb(),r),vS())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){wS().location.href=e}(await Lk(e,t,n,Xb(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):($b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ck(e),n=new dk(e);return t.register("authEvent",(t=>{Qb(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mk,{type:Mk},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Mk];void 0!==i&&t(!!i),qb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pk(e);for(const r of t)try{if(yk(r))return}catch(n){}qb(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bw()||Lw()||zw()}};class Fk{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yb("unexpected MultiFactorSessionType")}}}class Uk extends Fk{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Uk(e)}_finalizeEnroll(e,t,n){return function(e,t){return aw(e,"POST","/v2/accounts/mfaEnrollment:finalize",ow(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return aw(e,"POST","/v2/accounts/mfaSignIn:finalize",ow(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Vk{constructor(){}static assertion(e){return Uk._fromCredential(e)}}Vk.FACTOR_ID="phone";var zk="@firebase/auth",Bk="1.6.1";class qk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Rt())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Hk;function Wk(){return window}!function(e){Yw=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Hb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Hk="Browser",zn(new nn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Qb(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Hk,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(Hk)},c=new Gw(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),zn(new nn("auth-internal",(e=>(e=>new qk(e))(Kw(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(zk,Bk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Hk)),Jn(zk,Bk,"esm2017");async function Gk(e,t,n){var r;const{BuildInfo:i}=Wk();$b(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if($b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return zw()?a.ibi=i.packageName:Fw()?a.apn=i.packageName:qb(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,Lk(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Kk(e){const{cordova:t}=Wk();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Qk=20;class Yk extends dk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function $k(e){const t=await Zk()._get(eI(e));return t&&await Zk()._remove(eI(e)),t}function Xk(e,t){var n,r;const i=function(e){const t=tI(e),n=t.link?decodeURIComponent(t.link):void 0,r=tI(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return tI(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=tI(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?Hb(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jk(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Qk;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Zk(){return Cw(pS)}function eI(e){return Pw("authEvent",e.config.apiKey,e.name)}function tI(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return $t(n.join("?"))}const nI=class{constructor(){this._redirectPersistence=gS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ck,this._overrideRedirectResult=rk}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Yk(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){qb(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=Wk();Qb("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qb("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qb("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qb("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qb("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ek.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Jk(),postBody:null,tenantId:e.tenantId,error:Hb(e,"no-auth-event")}}(e,n,r);await function(e,t){return Zk()._set(eI(e),t)}(e,o);const a=await Gk(e,o,t);return async function(e,t,n){const{cordova:r}=Wk();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(Hb(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Fw()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await Kk(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Wk(),n={};zw()?n.iosBundleId=t.packageName:Fw()?n.androidPackageName=t.packageName:qb(e,"operation-not-supported-in-this-environment"),await pk(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Wk(),o=setTimeout((async()=>{await $k(e),t.onEvent(rI())}),500),a=async n=>{clearTimeout(o);const r=await $k(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Xk(r,n.url)),t.onEvent(i||rI())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l="".concat(i.packageName.toLowerCase(),"://");Wk().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(t){console.error(t)}}}};function rI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Hb("no-auth-event")}}function iI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function oI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return!("file:"!==iI()&&"ionic:"!==iI()&&"capacitor:"!==iI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function aI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return Vt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt();return/Edge\/\d+/.test(e)}(e)}function sI(){try{const e=self.localStorage,t=vS();if(e)return e.setItem(t,"1"),e.removeItem(t),!aI()||Bt()}catch(e){return lI()&&Bt()}return!1}function lI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cI(){return("http:"===iI()||"https:"===iI()||Ft()||oI())&&!(Ut()||jt())&&sI()&&!lI()}function uI(){return oI()&&"undefined"!==typeof document}const dI={LOCAL:"local",NONE:"none",SESSION:"session"},hI=Qb,fI="persistence";async function pI(e){await e._initializationPromise;const t=mI(),n=Pw(fI,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function mI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const gI=Qb;class yI{constructor(){this.browserResolver=Cw(jk),this.cordovaResolver=Cw(nI),this.underlyingResolver=null,this._redirectPersistence=gS,this._completeRedirectFn=ck,this._overrideRedirectResult=rk}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return uI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gI(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!uI()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function vI(e){return e.unwrap()}function bI(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new kI(e,function(e,t){var n;const r=tn(e),i=t;return Qb(t.customData.operationType,r,"argument-error"),Qb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lS._fromError(r,i)}(e,t))}else if(r){const e=wI(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function wI(e){const{_tokenResponse:t}=e instanceof qt?e.customData:e;if(!t)return null;if(!(e instanceof qt)&&"temporaryProof"in t&&"phoneNumber"in t)return HS.credentialFromResult(e);const n=t.providerId;if(!n||n===Ab.PASSWORD)return null;let r;switch(n){case Ab.GOOGLE:r=S_;break;case Ab.FACEBOOK:r=__;break;case Ab.GITHUB:r=k_;break;case Ab.TWITTER:r=x_;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?I_._create(n,a):f_._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new w_(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof qt?r.credentialFromError(e):r.credentialFromResult(e)}function _I(e,t){return t.catch((t=>{throw t instanceof qt&&bI(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,wI(r)),additionalUserInfo:aS(e),user:II.getOrCreate(n)};var r}))}async function SI(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>_I(e,n.confirm(t))}}class kI{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return _I(vI(this.auth),this.resolver.resolveSignIn(e))}}class II{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=tn(e);return uS.has(t)||uS.set(t,cS._fromUser(t)),uS.get(t)}(e)}static getOrCreate(e){return II.USER_MAP.has(e)||II.USER_MAP.set(e,new II(e)),II.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return _I(this.auth,U_(this._delegate,e))}async linkWithPhoneNumber(e,t){return SI(this.auth,async function(e,t,n){const r=tn(e);await L_(!1,r,"phone");const i=await qS(r.auth,t,tn(n));return new BS(i,(e=>U_(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return _I(this.auth,async function(e,t,n){const r=tn(e);Gb(r.auth,t,v_);const i=WS(r.auth,n);return new JS(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,yI))}async linkWithRedirect(e){return await pI(Kw(this.auth)),lk(this._delegate,e,yI)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return _I(this.auth,V_(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return SI(this.auth,async function(e,t,n){const r=tn(e),i=await qS(r.auth,t,tn(n));return new BS(i,(e=>V_(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return _I(this.auth,async function(e,t,n){const r=tn(e);Gb(r.auth,t,v_);const i=WS(r.auth,n);return new JS(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,yI))}async reauthenticateWithRedirect(e){return await pI(Kw(this.auth)),sk(this._delegate,e,yI)}sendEmailVerification(e){return $_(this._delegate,e)}async unlink(e){return await R_(this._delegate,e),this}updateEmail(e){return function(e,t){return Z_(tn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Z_(tn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await D_(tn(e),t)}(this._delegate,e)}updateProfile(e){return J_(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return X_(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}II.USER_MAP=new WeakMap;const EI=Qb;class xI{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;EI(n,"invalid-api-key",{appName:e.name}),EI(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?yI:void 0;this._delegate=t.initialize({options:{persistence:CI(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Fb),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?II.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){t_(this._delegate,e,t)}applyActionCode(e){return K_(this._delegate,e)}checkActionCode(e){return Q_(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await o_(tn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&G_(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return _I(this._delegate,async function(e,t,n){const r=Kw(e),i=e_(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T_),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&G_(e),t})),a=await C_._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Y_(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=g_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){EI(cI(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Kw(e)._initializationPromise,ck(e,t,!1)}(this._delegate,yI);return e?_I(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Kw(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=TI(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=TI(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Kw(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Qb(t.handleCodeInApp,r,"argument-error"),t&&W_(r,e,t)}(i,n),await e_(r,i,"getOobCode",u_)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Kw(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&W_(r,i,n),await e_(r,i,"getOobCode",c_)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){hI(Object.values(dI).includes(t),e,"invalid-persistence-type"),Ut()?hI(t!==dI.SESSION,e,"unsupported-persistence-type"):jt()?hI(t===dI.NONE,e,"unsupported-persistence-type"):lI()?hI(t===dI.NONE||t===dI.LOCAL&&Bt(),e,"unsupported-persistence-type"):hI(t===dI.NONE||sI(),e,"unsupported-persistence-type")}(this._delegate,e),e){case dI.SESSION:t=gS;break;case dI.LOCAL:t=await Cw(PS)._isAvailable()?PS:pS;break;case dI.NONE:t=Aw;break;default:return qb("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return _I(this._delegate,async function(e){var t;const n=Kw(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new C_({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await T_(n,{returnSecureToken:!0}),i=await C_._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return _I(this._delegate,F_(this._delegate,e))}signInWithCustomToken(e){return _I(this._delegate,z_(this._delegate,e))}signInWithEmailAndPassword(e,t){return _I(this._delegate,function(e,t,n){return F_(tn(e),y_.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&G_(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return _I(this._delegate,async function(e,t,n){const r=tn(e),i=y_.credentialWithLink(t,n||Xb());return Qb(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),F_(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return SI(this._delegate,async function(e,t,n){const r=Kw(e),i=await qS(r,t,tn(n));return new BS(i,(e=>F_(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return EI(cI(),this._delegate,"operation-not-supported-in-this-environment"),_I(this._delegate,async function(e,t,n){const r=Kw(e);Gb(e,t,v_);const i=WS(r,n);return new JS(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,yI))}async signInWithRedirect(e){return EI(cI(),this._delegate,"operation-not-supported-in-this-environment"),await pI(this._delegate),ak(this._delegate,e,yI)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Q_(tn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function TI(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&II.getOrCreate(e)),error:t,complete:n}}function CI(e,t){const n=function(e,t){const n=mI();if(!n)return[];const r=Pw(fI,e,t);switch(n.getItem(r)){case dI.NONE:return[Aw];case dI.LOCAL:return[PS,gS];case dI.SESSION:return[gS];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(PS)||n.push(PS),"undefined"!==typeof window)for(const r of[pS,gS])n.includes(r)||n.push(r);return n.includes(Aw)||n.push(Aw),n}xI.Persistence=dI;class NI{constructor(){this.providerId="phone",this._delegate=new HS(vI(Cb.auth()))}static credential(e,t){return HS.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}NI.PHONE_SIGN_IN_METHOD=HS.PHONE_SIGN_IN_METHOD,NI.PROVIDER_ID=HS.PROVIDER_ID;const AI=Qb;class PI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cb.app();var r;AI(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new zS(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var OI;(OI=Cb).INTERNAL.registerComponent(new nn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new xI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pb,PASSWORD_RESET:Ob,RECOVER_EMAIL:Rb,REVERT_SECOND_FACTOR_ADDITION:Db,VERIFY_AND_CHANGE_EMAIL:Lb,VERIFY_EMAIL:Mb}},EmailAuthProvider:y_,FacebookAuthProvider:__,GithubAuthProvider:k_,GoogleAuthProvider:S_,OAuthProvider:w_,SAMLAuthProvider:E_,PhoneAuthProvider:NI,PhoneMultiFactorGenerator:Vk,RecaptchaVerifier:PI,TwitterAuthProvider:x_,Auth:xI,AuthCredential:i_,Error:qt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),OI.registerVersion("@firebase/auth-compat","0.5.3");function RI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ws("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function DI(){if("undefined"===typeof Uint8Array)throw new Ws("unimplemented","Uint8Arrays are not available in this environment.")}function LI(){if("undefined"==typeof atob)throw new Ws("unimplemented","Blobs are unavailable in Firestore in this environment.")}class MI{constructor(e){this._delegate=e}static fromBase64String(e){return LI(),new MI(iv.fromBase64String(e))}static fromUint8Array(e){return DI(),new MI(iv.fromUint8Array(e))}toBase64(){return LI(),this._delegate.toBase64()}toUint8Array(){return DI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class FI{enableIndexedDbPersistence(e,t){return function(e,t){rv(e=Dy(e,Yy));const n=$y(e);if(n._uninitializedComponentsProvider)throw new Ws(Hs.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new ay;return Jy(n,i,new iy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){rv(e=Dy(e,Yy));const t=$y(e);if(t._uninitializedComponentsProvider)throw new Ws(Hs.FAILED_PRECONDITION,"SDK cache is already specified.");Us("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new ay;return Jy(t,r,new oy(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ws(Hs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gs;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Tl.D())return Promise.resolve();const t=e+"main";await Tl.delete(t)}(zp(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class UI{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Fy(this._delegate,e,t,n)}enableNetwork(){return ev(this._delegate)}disableNetwork(){return tv(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Ay("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Zy(this._delegate)}onSnapshotsInSync(e){return yb(this._delegate,e)}get app(){if(!this._appCompat)throw new Ws("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ZI(this,By(this._delegate,e))}catch(t){throw WI(t,"collection()","Firestore.collection()")}}doc(e){try{return new HI(this,qy(this._delegate,e))}catch(t){throw WI(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $I(this,function(e,t){if(e=Dy(e,jy),Ny("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ws(Hs.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Uy(e,null,function(e){return new Uu(cl.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw WI(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Dy(e,Yy);const r=Object.assign(Object.assign({},wb),n);return function(e){if(e.maxAttempts<1)throw new Ws(Hs.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Gs;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Sy(e);new dy(e.asyncQueue,i,n,t,r).ja()})),r.promise}($y(e),(n=>t(new kb(e,n))),r)}(this._delegate,(t=>e(new zI(this,t))))}batch(){return $y(this._delegate),new BI(new _b(this._delegate,(e=>vb(this._delegate,e))))}loadBundle(e){return function(e,t){const n=$y(e=Dy(e,Yy)),r=new Qy;return xy(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return nv(this._delegate,e).then((e=>e?new $I(this,e):null))}}class VI extends Zv{constructor(e){super(),this.firestore=e}convertBytes(e){return new MI(new iv(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return HI.forKey(t,this.firestore,null)}}class zI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}get(e){const t=eE(e);return this._delegate.get(t).then((e=>new QI(this._firestore,new rb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=eE(e);return n?(RI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=eE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=eE(e);return this._delegate.delete(t),this}}class BI{constructor(e){this._delegate=e}set(e,t,n){const r=eE(e);return n?(RI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=eE(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=eE(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class qI{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new ib(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new YI(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=qI.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new qI(e,new VI(e),t),r.set(t,i)),i}}qI.INSTANCES=new WeakMap;class HI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Ws("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new HI(t,new Vy(t._delegate,n,new hl(e)))}static forKey(e,t,n){return new HI(t,new Vy(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ZI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ZI(this.firestore,By(this._delegate,e))}catch(t){throw WI(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=tn(e))instanceof Vy&&Hy(this._delegate,e)}set(e,t){t=RI("DocumentReference.set",t);try{return t?fb(this._delegate,e,t):fb(this._delegate,e)}catch(n){throw WI(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?pb(this._delegate,e):pb(this._delegate,e,t,...r)}catch(o){throw WI(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return vb(Dy(e.firestore,Yy),[new Gd(e._key,Rd.none())])}(this._delegate)}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GI(t),i=KI(t,(e=>new QI(this.firestore,new rb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return gb(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ub(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Dy(e,Vy);const t=Dy(e.firestore,Yy);return Iy($y(t),e._key,{source:"server"}).then((n=>bb(t,e,n)))}(this._delegate):lb(this._delegate),t.then((e=>new QI(this.firestore,new rb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new HI(this.firestore,e?this._delegate.withConverter(qI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function WI(e,t,n){return e.message=e.message.replace(t,n),e}function GI(e){for(const t of e)if("object"===typeof t&&!jI(t))return t;return{}}function KI(e,t){var n,r;let i;return i=jI(e[0])?e[0]:jI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class QI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new HI(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sb(this._delegate,e._delegate)}}class YI extends QI{data(e){const t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||zs()}(void 0!==t),t}}class $I{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}where(e,t,n){try{return new $I(this.firestore,Vv(this._delegate,Bv(e,t,n)))}catch(r){throw WI(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $I(this.firestore,Vv(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Mv("orderBy",e);return Hv._create(n,t)}(e,t)))}catch(n){throw WI(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $I(this.firestore,Vv(this._delegate,Gv(e)))}catch(t){throw WI(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $I(this.firestore,Vv(this._delegate,function(e){return Ly("limitToLast",e),Wv._create("limitToLast",e,"L")}(e)))}catch(t){throw WI(t,"limitToLast()","Query.limitToLast()")}}startAt(){try{return new $I(this.firestore,Vv(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kv._create("startAt",t,!0)}(...arguments)))}catch(e){throw WI(e,"startAt()","Query.startAt()")}}startAfter(){try{return new $I(this.firestore,Vv(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kv._create("startAfter",t,!1)}(...arguments)))}catch(e){throw WI(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new $I(this.firestore,Vv(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qv._create("endBefore",t,!1)}(...arguments)))}catch(e){throw WI(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new $I(this.firestore,Vv(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qv._create("endAt",t,!0)}(...arguments)))}catch(e){throw WI(e,"endAt()","Query.endAt()")}}isEqual(e){return Wy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?hb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Dy(e,Uy);const t=Dy(e.firestore,Yy),n=$y(t),r=new cb(t);return Ey(n,e._query,{source:"server"}).then((n=>new ob(t,r,e,n)))}(this._delegate):db(this._delegate),t.then((e=>new JI(this.firestore,new ob(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=GI(t),i=KI(t,(e=>new JI(this.firestore,new ob(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return gb(this._delegate,r,i)}withConverter(e){return new $I(this.firestore,e?this._delegate.withConverter(qI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class XI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new YI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $I(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new YI(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new XI(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new YI(this._firestore,n))}))}isEqual(e){return sb(this._delegate,e._delegate)}}class ZI extends $I{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new HI(this.firestore,e):null}doc(e){try{return new HI(this.firestore,void 0===e?qy(this._delegate):qy(this._delegate,e))}catch(t){throw WI(t,"doc()","CollectionReference.doc()")}}add(e){return mb(this._delegate,e).then((e=>new HI(this.firestore,e)))}isEqual(e){return Hy(this._delegate,e._delegate)}withConverter(e){return new ZI(this.firestore,e?this._delegate.withConverter(qI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function eE(e){return Dy(e,Vy)}class tE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new ov(...t)}static documentId(){return new tE(dl.keyField().canonicalString())}isEqual(e){return(e=tn(e))instanceof ov&&this._delegate._internalPath.isEqual(e._internalPath)}}class nE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new nE(e)}static delete(){const e=new gv("deleteField");return e._methodName="FieldValue.delete",new nE(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bv("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new nE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wv("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new nE(e)}static increment(e){const t=function(e){return new _v("increment",e)}(e);return t._methodName="FieldValue.increment",new nE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rE={Firestore:UI,GeoPoint:sv,Timestamp:al,Blob:MI,Transaction:zI,WriteBatch:BI,DocumentReference:HI,DocumentSnapshot:QI,Query:$I,QueryDocumentSnapshot:YI,QuerySnapshot:JI,CollectionReference:ZI,FieldPath:tE,FieldValue:nE,setLogLevel:function(e){!function(e){Ls.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new nn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},rE)))}(e,((e,t)=>new UI(e,t,new FI))),e.registerVersion("@firebase/firestore-compat","0.3.26")}(Cb);const iE={apiKey:"AIzaSyCHjEp37uuA31JNqDyfylxTDkijmUwLKgI",authDomain:"vkrdb-6533e.firebaseapp.com",projectId:"vkrdb-6533e",storageBucket:"vkrdb-6533e.appspot.com",messagingSenderId:"67392374213",appId:"1:67392374213:web:3e347a5048af98dff577ac"};Cb.apps.length||Cb.initializeApp(iE);const oE=Cb.firestore();oE.settings({timestampsInSnapshots:!0,merge:!0});Cb.firestore(Cb.app()).settings({experimentalForceLongPolling:!0});const aE=oE,sE=_t("getArticles",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Vv(By(aE,"articles")),n=await db(t),r=[];if(n.forEach((e=>{const t={id:e.id,chapterId:e.data().chapterId,title:e.data().title,content:e.data().content};r.push(t)})),""!==(e=e.trim())){return r.filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}return r}catch(r){return n("Server error!")}})),lE=_t("getArticle",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=qy(aE,"articles",e),r=await lb(t);if(r.exists()){return{id:r.id,chapterId:r.data().chapterId,title:r.data().title,content:r.data().content}}return n("Article not found")}catch(r){return n("Server error!")}})),cE=_t("getQuestions",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=Vv(By(aE,"questions")),t=await db(e),n=[];return t.forEach((e=>{const t={id:e.id,articleId:e.data().articleId,question:e.data().question,correctAnswer:e.data().correctAnswer,answers:e.data().answers};n.push(t)})),n}catch(r){return n("Server error!")}})),uE=_t("getChapters",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=Vv(By(aE,"chapters")),t=await db(e),n=[];return t.forEach((e=>{const t={id:e.id,chapter:e.data().chapter};n.push(t)})),n}catch(r){return n("Server error!")}})),dE=mt({name:"main",initialState:{article:{id:"",chapterId:"",title:"",content:""},articles:[],questions:[],chapters:[],isLoadingArticle:!1,isLoadingArticles:!1,isLoadingQuestions:!1,isLoadingChapters:!1},reducers:{},extraReducers:e=>{e.addCase(sE.pending,(e=>{e.isLoadingArticles=!0})).addCase(sE.fulfilled,((e,t)=>{e.articles=t.payload,e.isLoadingArticles=!1})).addCase(lE.pending,(e=>{e.isLoadingArticle=!0})).addCase(lE.fulfilled,((e,t)=>{e.article=t.payload,e.isLoadingArticle=!1})).addCase(cE.pending,(e=>{e.isLoadingQuestions=!0})).addCase(cE.fulfilled,((e,t)=>{e.questions=t.payload,e.isLoadingQuestions=!1})).addCase(uE.pending,(e=>{e.isLoadingChapters=!0})).addCase(uE.fulfilled,((e,t)=>{e.chapters=t.payload,e.isLoadingChapters=!1}))}}),hE=e=>e.main,fE=dE.reducer;function pE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let mE={data:""},gE=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||mE,yE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vE=/\/\*[^]*?\*\/|  +/g,bE=/\n+/g,wE=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?wE(a,o):o+"{"+wE(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=wE(a,t?t.replace(/([^,])+/g,(e=>o.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=wE.p?wE.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},_E={},SE=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+SE(e[n]);return t}return e},kE=(e,t,n,r,i)=>{let o=SE(e),a=_E[o]||(_E[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!_E[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=yE.exec(e.replace(vE,""));)t[4]?r.shift():t[3]?(n=t[3].replace(bE," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(bE," ").trim();return r[0]})(e);_E[a]=wE(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&_E.g?_E.g:null;return n&&(_E.g=_E[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(_E[a],t,r,s),a},IE=(e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":wE(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),"");function EE(e){let t=this||{},n=e.call?e(t.p):e;return kE(n.unshift?n.raw?IE(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,gE(t.target),t.g,t.o,t.k)}EE.bind({g:1});let xE,TE,CE,NE=EE.bind({k:1});function AE(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:TE&&TE()},s),n.o=/ *go\d+/.test(l),s.className=EE.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),CE&&c[0]&&CE(s),xE(c,s)}return t?t(i):i}}var PE,OE,RE,DE,LE,ME,jE,FE,UE,VE,zE,BE,qE,HE,WE,GE,KE=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,QE=(()=>{let e=0;return()=>(++e).toString()})(),YE=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),$E=new Map,XE=e=>{if($E.has(e))return;let t=setTimeout((()=>{$E.delete(e),tx({type:4,toastId:e})}),1e3);$E.set(e,t)},JE=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=$E.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?JE(e,{type:1,toast:n}):JE(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?XE(r):e.toasts.forEach((e=>{XE(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},ZE=[],ex={toasts:[],pausedAt:void 0},tx=e=>{ex=JE(ex,e),ZE.forEach((e=>{e(ex)}))},nx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rx=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||QE()}}(t,e,n);return tx({type:2,toast:r}),r.id},ix=(e,t)=>rx("blank")(e,t);ix.error=rx("error"),ix.success=rx("success"),ix.loading=rx("loading"),ix.custom=rx("custom"),ix.dismiss=e=>{tx({type:3,toastId:e})},ix.remove=e=>tx({type:4,toastId:e}),ix.promise=(e,t,n)=>{let r=ix.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(ix.success(KE(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{ix.error(KE(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var ox=(e,t)=>{tx({type:1,toast:{id:e,height:t}})},ax=()=>{tx({type:5,time:Date.now()})},sx=e=>{let{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,t.useState)(ex);(0,t.useEffect)((()=>(ZE.push(r),()=>{let e=ZE.indexOf(r);e>-1&&ZE.splice(e,1)})),[n]);let i=n.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||nx[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...n,toasts:i}}(e);(0,t.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>ix.dismiss(t.id)),n);t.visible&&ix.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,t.useCallback)((()=>{r&&tx({type:6,time:Date.now()})}),[r]),o=(0,t.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=t||{},a=n.filter((t=>(t.position||o)===(e.position||o)&&t.height)),s=a.findIndex((t=>t.id===e.id)),l=a.filter(((e,t)=>t<s&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return{toasts:n,handlers:{updateHeight:ox,startPause:ax,endPause:i,calculateOffset:o}}},lx=NE(PE||(PE=pE(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),cx=NE(OE||(OE=pE(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ux=NE(RE||(RE=pE(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),dx=AE("div")(DE||(DE=pE(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),lx,cx,(e=>e.secondary||"#fff"),ux),hx=NE(LE||(LE=pE(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),fx=AE("div")(ME||(ME=pE(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),hx),px=NE(jE||(jE=pE(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),mx=NE(FE||(FE=pE(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),gx=AE("div")(UE||(UE=pE(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),px,mx,(e=>e.secondary||"#fff")),yx=AE("div")(VE||(VE=pE(["\n  position: absolute;\n"]))),vx=AE("div")(zE||(zE=pE(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),bx=NE(BE||(BE=pE(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),wx=AE("div")(qE||(qE=pE(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),bx),_x=e=>{let{toast:n}=e,{icon:r,type:i,iconTheme:o}=n;return void 0!==r?"string"==typeof r?t.createElement(wx,null,r):r:"blank"===i?null:t.createElement(vx,null,t.createElement(fx,{...o}),"loading"!==i&&t.createElement(yx,null,"error"===i?t.createElement(dx,{...o}):t.createElement(gx,{...o})))},Sx=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),kx=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Ix=AE("div")(HE||(HE=pE(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ex=AE("div")(WE||(WE=pE(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),xx=t.memo((e=>{let{toast:n,position:r,style:i,children:o}=e,a=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=YE()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Sx(n),kx(n)];return{animation:t?"".concat(NE(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(NE(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(n.position||r||"top-center",n.visible):{opacity:0},s=t.createElement(_x,{toast:n}),l=t.createElement(Ex,{...n.ariaProps},KE(n.message,n));return t.createElement(Ix,{className:n.className,style:{...a,...i,...n.style}},"function"==typeof o?o({icon:s,message:l}):t.createElement(t.Fragment,null,s,l))}));!function(e,t,n,r){wE.p=t,xE=e,TE=n,CE=r}(t.createElement);var Tx=e=>{let{id:n,className:r,style:i,onHeightUpdate:o,children:a}=e,s=t.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;o(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,o]);return t.createElement("div",{ref:s,className:r,style:i},a)},Cx=EE(GE||(GE=pE(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Nx=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:o,children:a,containerStyle:s,containerClassName:l}=e,{toasts:c,handlers:u}=sx(i);return t.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let i=e.position||r,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...r,...i}})(i,u.calculateOffset(e,{reverseOrder:n,gutter:o,defaultPosition:r}));return t.createElement(Tx,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Cx:"",style:s},"custom"===e.type?KE(e.message,e):a?a(e):t.createElement(xx,{toast:e,position:i}))})))},Ax=ix;const Px={user:{id:"",email:"",username:"",password:"",admin:!1},users:[],results:[],resultForResultModal:null,articleIdForResultModal:"string",resultModal:!1,logInModal:!1,signUpModal:!1,isLoadingLogIn:!1,isLoadingSignUp:!1,isLoadingAddResult:!1,isLoadingGetUserResults:!1,isLoadingGetUser:!1,isLoadingGetUsers:!1,isLoadingGetResultOfTheArticle:!1},Ox=_t("createUser",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=await fb(qy(aE,"users",e.id),e);return Ax.success("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430!"),t}catch(r){return n("Server error!")}})),Rx=_t("logInUser",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=Vv(By(aE,"users"),Bv("username","==",e.username),Bv("password","==",e.password),Gv(1)),n=await db(t);if(n.empty)return void Ax.error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d!");{const e=n.docs[0],t={id:e.id,email:e.data().email,username:e.data().username,password:e.data().password,admin:e.data().admin};return Ax.success("\u0412\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d!"),t}}catch(r){return console.error(r),n("Server error!")}})),Dx=_t("addResult",(async(e,t)=>{let{rejectWithValue:n}=t;try{await mb(By(aE,"results"),e)}catch(r){return n("Server error!")}})),Lx=_t("getResults",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=Vv(By(aE,"results")),t=await db(e),r=[];return t.forEach((e=>{const t=e.data(),n={id:e.id,articleId:t.articleId,chapterId:t.chapterId,userId:t.userId,userAnswers:t.userAnswers,averageGrade:t.averageGrade};r.push(n)})),null!==r&&void 0!==r?r:n("Result not found")}catch(r){return console.error(r),n("Server error!")}})),Mx=_t("getUsers",(async(e,t)=>{let{rejectWithValue:n}=t;try{const e=Vv(By(aE,"users")),t=await db(e),r=[];return t.forEach((e=>{const t=e.data(),n={id:e.id,email:t.email,username:t.username,password:t.password,admin:t.admin};r.push(n)})),null!==r&&void 0!==r?r:n("Result not found")}catch(r){return console.error(r),n("Server error!")}})),jx=_t("getUser",(async(e,t)=>{let{rejectWithValue:n}=t;try{const t=qy(aE,"users",e),r=await lb(t);if(r.exists()){const e=r.data();return{id:r.id,email:e.email,username:e.username,password:e.password,admin:e.admin}}return n("User not found")}catch(r){return console.error(r),n("Server error!")}})),Fx=mt({name:"user",initialState:Px,reducers:{showLogInModal:e=>{e.logInModal=!0},hideLogInModal:e=>{e.logInModal=!1},showSignUpModal:e=>{e.signUpModal=!0},hideSignUpModal:e=>{e.signUpModal=!1},showResultModal:(e,t)=>{e.resultForResultModal=t.payload,e.resultModal=!0},hideResultModal:e=>{e.articleIdForResultModal=Px.articleIdForResultModal,e.resultForResultModal=Px.resultForResultModal,e.resultModal=!1},setArticleIdForResultModal:(e,t)=>{e.articleIdForResultModal=t.payload}},extraReducers:e=>{e.addCase(Ox.pending,(e=>{e.isLoadingSignUp=!0})).addCase(Ox.fulfilled,(e=>{e.isLoadingSignUp=!1})).addCase(Rx.pending,(e=>{e.isLoadingLogIn=!0})).addCase(Rx.fulfilled,((e,t)=>{t.payload&&(e.user=t.payload),e.isLoadingLogIn=!1})).addCase(Dx.pending,(e=>{e.isLoadingAddResult=!0})).addCase(Dx.fulfilled,(e=>{e.isLoadingAddResult=!1})).addCase(Lx.pending,(e=>{e.isLoadingGetUserResults=!0})).addCase(Lx.fulfilled,((e,t)=>{e.results=t.payload,e.isLoadingGetUserResults=!1})).addCase(Mx.pending,(e=>{e.isLoadingGetUsers=!0})).addCase(Mx.fulfilled,((e,t)=>{e.users=t.payload,e.isLoadingGetUsers=!1})).addCase(jx.pending,(e=>{e.isLoadingGetUser=!0})).addCase(jx.fulfilled,((e,t)=>{e.user=t.payload,e.isLoadingGetUser=!1}))}}),{showLogInModal:Ux,hideLogInModal:Vx,showSignUpModal:zx,hideSignUpModal:Bx,showResultModal:qx,hideResultModal:Hx,setArticleIdForResultModal:Wx}=Fx.actions,Gx=e=>e.user,Kx=function(e){var t,n=ft(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,h=r.enhancers,f=void 0===h?void 0:h;if("function"===typeof o)t=o;else{if(!lt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Be(o)}var p=s;"function"===typeof p&&(p=p(n));var m=He.apply(void 0,p),g=qe;c&&(g=st(it({trace:!1},"object"===typeof c&&c)));var y=new dt(m),v=y;return Array.isArray(f)?v=$e([m],f):"function"===typeof f&&(v=f(y)),ze(t,d,g.apply(void 0,v))}({reducer:{main:fE,user:Fx.reducer}});function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(this,arguments)}var Yx;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Yx||(Yx={}));const $x="popstate";function Xx(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Jx(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Zx(e,t){return{usr:e.state,key:e.key,idx:t}}function eT(e,t,n,r){return void 0===n&&(n=null),Qx({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?nT(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function tT(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function nT(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rT(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Yx.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=Yx.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:tT(e);return Xx(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(Qx({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($x,d),l=e,()=>{i.removeEventListener($x,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=Yx.Push;let r=eT(f.location,e,t);n&&n(r,e),c=u()+1;let d=Zx(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=Yx.Replace;let r=eT(f.location,e,t);n&&n(r,e),c=u();let i=Zx(r,c),d=f.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var iT;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(iT||(iT={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function oT(e,t,n){void 0===n&&(n="/");let r=bT(("string"===typeof t?nT(t):t).pathname||"/",n);if(null==r)return null;let i=aT(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=gT(i[a],vT(r));return o}function aT(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(Xx(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=IT([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(Xx(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),aT(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:mT(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of sT(e.path))i(e,t,r);else i(e,t)})),t}function sT(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=sT(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const lT=/^:[\w-]+$/,cT=3,uT=2,dT=1,hT=10,fT=-2,pT=e=>"*"===e;function mT(e,t){let n=e.split("/"),r=n.length;return n.some(pT)&&(r+=fT),t&&(r+=uT),n.filter((e=>!pT(e))).reduce(((e,t)=>e+(lT.test(t)?cT:""===t?dT:hT)),r)}function gT(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=yT({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:IT([i,c.pathname]),pathnameBase:ET(IT([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=IT([i,c.pathnameBase]))}return o}function yT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Jx("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return Jx(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function vT(e){try{return decodeURI(e)}catch(t){return Jx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function bT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function wT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _T(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function ST(e,t){let n=_T(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function kT(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=nT(e):(i=Qx({},e),Xx(!i.pathname||!i.pathname.includes("?"),wT("?","pathname","search",i)),Xx(!i.pathname||!i.pathname.includes("#"),wT("#","pathname","hash",i)),Xx(!i.search||!i.search.includes("#"),wT("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?nT(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:xT(r),hash:TT(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const IT=e=>e.join("/").replace(/\/\/+/g,"/"),ET=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",TT=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function CT(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const NT=["post","put","patch","delete"],AT=(new Set(NT),["get",...NT]);new Set(AT),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(this,arguments)}const OT=t.createContext(null);const RT=t.createContext(null);const DT=t.createContext(null);const LT=t.createContext(null);const MT=t.createContext({outlet:null,matches:[],isDataRoute:!1});const jT=t.createContext(null);function FT(){return null!=t.useContext(LT)}function UT(){return FT()||Xx(!1),t.useContext(LT).location}function VT(e){t.useContext(DT).static||t.useLayoutEffect(e)}function zT(){let{isDataRoute:e}=t.useContext(MT);return e?function(){let{router:e}=JT($T.UseNavigateStable),n=eC(XT.UseNavigateStable),r=t.useRef(!1);VT((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,PT({fromRouteId:n},i)))}),[e,n]);return i}():function(){FT()||Xx(!1);let e=t.useContext(OT),{basename:n,future:r,navigator:i}=t.useContext(DT),{matches:o}=t.useContext(MT),{pathname:a}=UT(),s=JSON.stringify(ST(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return VT((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=kT(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:IT([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,s,a,e])}()}function BT(){let{matches:e}=t.useContext(MT),n=e[e.length-1];return n?n.params:{}}function qT(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(DT),{matches:o}=t.useContext(MT),{pathname:a}=UT(),s=JSON.stringify(ST(o,i.v7_relativeSplatPath));return t.useMemo((()=>kT(e,JSON.parse(s),a,"path"===r)),[e,s,a,r])}function HT(e,n,r,i){FT()||Xx(!1);let{navigator:o}=t.useContext(DT),{matches:a}=t.useContext(MT),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=UT();if(n){var h;let e="string"===typeof n?nT(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||Xx(!1),u=e}else u=d;let f=u.pathname||"/",p=oT(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=YT(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:IT([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:IT([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&m?t.createElement(LT.Provider,{value:{location:PT({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yx.Pop}},m):m}function WT(){let e=function(){var e;let n=t.useContext(jT),r=ZT(XT.UseRouteError),i=eC(XT.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=CT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const GT=t.createElement(WT,null);class KT extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(MT.Provider,{value:this.props.routeContext},t.createElement(jT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QT(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(OT);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(MT.Provider,{value:n},i)}function YT(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||Xx(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||GT,c&&(u<0&&0===o?(p="route-fallback",!1||tC[p]||(tC[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,o+1)),g=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(QT,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(KT,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var $T=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($T||{}),XT=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(XT||{});function JT(e){let n=t.useContext(OT);return n||Xx(!1),n}function ZT(e){let n=t.useContext(RT);return n||Xx(!1),n}function eC(e){let n=function(e){let n=t.useContext(MT);return n||Xx(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||Xx(!1),r.route.id}const tC={};r.startTransition;function nC(e){Xx(!1)}function rC(e){let{basename:n="/",children:r=null,location:i,navigationType:o=Yx.Pop,navigator:a,static:s=!1,future:l}=e;FT()&&Xx(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:s,future:PT({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"===typeof i&&(i=nT(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=bT(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement(DT.Provider,{value:u},t.createElement(LT.Provider,{children:r,value:g}))}function iC(e){let{children:t,location:n}=e;return HT(oC(t),n)}new Promise((()=>{}));t.Component;function oC(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,oC(e.props.children,o));e.type!==nC&&Xx(!1),e.props.index&&e.props.children&&Xx(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=oC(e.props.children,o)),r.push(a)})),r}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aC.apply(this,arguments)}function sC(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const lC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(YD){}new Map;const cC=r.startTransition;l.flushSync,r.useId;function uC(e){let{basename:n,children:r,future:i,window:o}=e,a=t.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),rT((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=nT(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),eT("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:tT(t))}),(function(e,t){Jx("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=a.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},h=t.useCallback((e=>{d&&cC?cC((()=>u(e))):u(e)}),[u,d]);return t.useLayoutEffect((()=>l.listen(h)),[l,h]),t.createElement(rC,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const dC="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,hC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fC=t.forwardRef((function(e,n){let r,{onClick:i,relative:o,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=e,f=sC(e,lC),{basename:p}=t.useContext(DT),m=!1;if("string"===typeof u&&hC.test(u)&&(r=u,dC))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=bT(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(YD){}let g=function(e,n){let{relative:r}=void 0===n?{}:n;FT()||Xx(!1);let{basename:i,navigator:o}=t.useContext(DT),{hash:a,pathname:s,search:l}=qT(e,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:IT([i,s])),o.createHref({pathname:c,search:l,hash:a})}(u,{relative:o}),y=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===n?{}:n,c=zT(),u=UT(),d=qT(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:tT(u)===tT(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,o,r,e,a,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:o,unstable_viewTransition:h});return t.createElement("a",aC({},f,{href:r||g,onClick:m||a?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:c}))}));var pC,mC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pC||(pC={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(mC||(mC={}));const gC="HomePage_container__6B-SL",yC="HomePage_title__X0ryj",vC="HomePage_link__XcL+l";var bC=n(184);const wC=()=>(0,bC.jsxs)("div",{className:gC,children:[(0,bC.jsx)("h1",{className:yC,children:"WEB - \u0440\u0435\u0441\u0443\u0440\u0441 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0437\u043d\u0430\u043d\u0438\u0439 \u0432\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445 \u043f\u043e \u0432\u043e\u0435\u043d\u043d\u044b\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044f\u043c"}),(0,bC.jsx)("div",{className:vC,children:(0,bC.jsx)(fC,{to:"/articles",children:"\u041d\u0430\u0447\u0430\u0442\u044c"})})]}),_C="CustomLink_link__5RbIF",SC=e=>{let{to:t,text:n}=e;return(0,bC.jsx)(fC,{to:t,className:_C,children:n})},kC="ArticlesPage_container__ryTu6",IC="ArticlesPage_inputContainer__QwlvB",EC="ArticlesPage_chaptersContainer__WynFt",xC="ArticlesPage_chapterContainer__d7wcE",TC="ArticlesPage_chapter__SLf9b",CC="ArticlesPage_linksContainer__NdzTN",NC=()=>N(),AC=w,PC="Input_container__xurj7",OC="Input_label__fA1hH",RC="Input_input__yonTc",DC="Input_inputError__0TbEA",LC="Input_helperText__uRWfs",MC=e=>{let{id:t,type:n,placeholder:r,min:i,max:o,value:a,onChange:s,label:l,error:c,helperText:u}=e;return(0,bC.jsxs)("div",{className:PC,children:[(0,bC.jsx)("label",{className:OC,htmlFor:t,children:l}),(0,bC.jsx)("input",{className:c?DC:RC,id:t,name:t,type:n,placeholder:r,min:i,max:o,value:a,onChange:s}),c&&(0,bC.jsx)("p",{className:LC,children:u})]})},jC="Loader_container__ib4xC",FC="Loader_loaderContainer__G7v7T",UC="Loader_loader__NX3IX",VC=()=>(0,bC.jsx)("div",{className:jC,children:(0,bC.jsx)("div",{className:FC,children:(0,bC.jsx)("div",{className:UC})})}),zC=()=>{const{stateMain:e,articleToSearch:n,setArticleToSearch:r,filterChaptersByArticle:i}=(()=>{const e=AC(hE),n=NC(),[r,i]=(0,t.useState)("");return(0,t.useEffect)((()=>{n(uE())}),[]),(0,t.useEffect)((()=>{n(sE(r))}),[r]),{stateMain:e,articleToSearch:r,setArticleToSearch:i,filterChaptersByArticle:(e,t)=>{const n=[];return e.forEach((e=>{t.forEach((t=>{t.chapterId==e.id&&n.push(e)}))})),n.filter(((e,t)=>n.indexOf(e)===t))}}})();return(0,bC.jsxs)("div",{className:kC,children:[(0,bC.jsx)("div",{className:IC,children:(0,bC.jsx)(MC,{id:"search",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044f\u043c...",value:n,onChange:e=>r(e.target.value)})}),(!0===e.isLoadingArticles||!0===e.isLoadingChapters)&&(0,bC.jsx)(VC,{}),(!e.isLoadingArticles||!e.isLoadingChapters)&&(0,bC.jsx)("div",{className:EC,children:i(e.chapters,e.articles).map((t=>(0,bC.jsxs)("div",{className:xC,children:[(0,bC.jsx)("h2",{className:TC,children:t.chapter}),(0,bC.jsx)("ul",{className:CC,children:e.articles.filter((e=>e.chapterId==t.id)).map((e=>(0,bC.jsx)("li",{children:(0,bC.jsx)(SC,{to:"/article/".concat(e.id),text:e.title})},e.id)))})]},t.id)))})]})},BC="Header_container__0kAQJ",qC="Header_linkContainer__pkGoh",HC="Header_menuButton__8X1Xc",WC="Header_buttonContainer__HBGuJ",GC="Header_ico__1B3K3",KC="Header_profileLink__7sqkK",QC="Header_menu__-6meY";var YC=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");var n={},r=(t||{}).decode||ZC,i=0;for(;i<e.length;){var o=e.indexOf("=",i);if(-1===o)break;var a=e.indexOf(";",i);if(-1===a)a=e.length;else if(a<o){i=e.lastIndexOf(";",o-1)+1;continue}var s=e.slice(i,o).trim();if(void 0===n[s]){var l=e.slice(o+1,a).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),n[s]=tN(l,r)}i=a+1}return n},$C=function(e,t,n){var r=n||{},i=r.encode||eN;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!JC.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!JC.test(o))throw new TypeError("argument val is invalid");var a=e+"="+o;if(null!=r.maxAge){var s=r.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(r.domain){if(!JC.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!JC.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){var l=r.expires;if(!function(e){return"[object Date]"===XC.call(e)||e instanceof Date}(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+l.toUTCString()}r.httpOnly&&(a+="; HttpOnly");r.secure&&(a+="; Secure");r.partitioned&&(a+="; Partitioned");if(r.priority){switch("string"===typeof r.priority?r.priority.toLowerCase():r.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},XC=Object.prototype.toString,JC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ZC(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function eN(e){return encodeURIComponent(e)}function tN(e,t){try{return t(e)}catch(YD){return e}}function nN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(!t.doNotParse)try{return JSON.parse(n)}catch(YD){}return e}class rN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const e=this.cookies;this.cookies=YC(document.cookie),this._checkChanges(e)};const n="undefined"===typeof document?"":document.cookie;this.cookies=function(e){return"string"===typeof e?YC(e):"object"===typeof e&&null!==e?e:{}}(e||n),this.defaultSetOptions=t,this.HAS_DOCUMENT_COOKIE=function(){const e="undefined"===typeof global?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return"boolean"===typeof e?e:"object"===typeof document&&"string"===typeof document.cookie}()}_emitChange(e){for(let t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)}_checkChanges(e){new Set(Object.keys(e).concat(Object.keys(this.cookies))).forEach((t=>{e[t]!==this.cookies[t]&&this._emitChange({name:t,value:nN(this.cookies[t])})}))}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.doNotUpdate||this.update(),nN(this.cookies[e],t)}getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.doNotUpdate||this.update();const t={};for(let n in this.cookies)t[n]=nN(this.cookies[n],e);return t}set(e,t,n){n=n?Object.assign(Object.assign({},this.defaultSetOptions),n):this.defaultSetOptions;const r="string"===typeof t?t:JSON.stringify(t);this.cookies=Object.assign(Object.assign({},this.cookies),{[e]:r}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=$C(e,r,n)),this._emitChange({name:e,value:t,options:n})}remove(e,t){const n=t=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=$C(e,"",n)),this._emitChange({name:e,value:void 0,options:t})}addChangeListener(e){this.changeListeners.push(e),this.HAS_DOCUMENT_COOKIE&&1===this.changeListeners.length&&("object"===typeof window&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1),this.HAS_DOCUMENT_COOKIE&&0===this.changeListeners.length&&("object"===typeof window&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}}const iN=t.createContext(new rN),{Provider:oN,Consumer:aN}=iN;t.Component;"function"===typeof SuppressedError&&SuppressedError;var sN,lN={exports:{}},cN={};lN.exports=function(){if(sN)return cN;sN=1;var e="function"===typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case l:case c:case r:case o:case i:case d:return e;default:switch(e=e&&e.$$typeof){case s:case u:case p:case f:case a:return e;default:return h}}case n:return h}}}function w(e){return b(e)===c}return cN.AsyncMode=l,cN.ConcurrentMode=c,cN.ContextConsumer=s,cN.ContextProvider=a,cN.Element=t,cN.ForwardRef=u,cN.Fragment=r,cN.Lazy=p,cN.Memo=f,cN.Portal=n,cN.Profiler=o,cN.StrictMode=i,cN.Suspense=d,cN.isAsyncMode=function(e){return w(e)||b(e)===l},cN.isConcurrentMode=w,cN.isContextConsumer=function(e){return b(e)===s},cN.isContextProvider=function(e){return b(e)===a},cN.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===t},cN.isForwardRef=function(e){return b(e)===u},cN.isFragment=function(e){return b(e)===r},cN.isLazy=function(e){return b(e)===p},cN.isMemo=function(e){return b(e)===f},cN.isPortal=function(e){return b(e)===n},cN.isProfiler=function(e){return b(e)===o},cN.isStrictMode=function(e){return b(e)===i},cN.isSuspense=function(e){return b(e)===d},cN.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===c||e===o||e===i||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===f||e.$$typeof===a||e.$$typeof===s||e.$$typeof===u||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m)},cN.typeOf=b,cN}();var uN=lN.exports,dN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hN={};hN[uN.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hN[uN.Memo]=dN;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;function fN(e){const n=(0,t.useContext)(iN);if(!n)throw new Error("Missing <CookiesProvider>");const[r,i]=(0,t.useState)((()=>n.getAll()));"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&(0,t.useLayoutEffect)((()=>{function t(){const t=n.getAll({doNotUpdate:!0});(function(e,t,n){if(!e)return!0;for(let r of e)if(t[r]!==n[r])return!0;return!1})(e||null,t,r)&&i(t)}return n.addChangeListener(t),()=>{n.removeChangeListener(t)}}),[n,r]);const o=(0,t.useMemo)((()=>n.set.bind(n)),[n]),a=(0,t.useMemo)((()=>n.remove.bind(n)),[n]),s=(0,t.useMemo)((()=>n.update.bind(n)),[n]);return[r,o,a,s]}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pN(Object(n),!0).forEach((function(t){vN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gN(e){return gN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gN(e)}function yN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||_N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wN(e){return function(e){if(Array.isArray(e))return SN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _N(e,t){if(e){if("string"===typeof e)return SN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SN(e,t):void 0}}function SN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kN=function(){},IN={},EN={},xN=null,TN={mark:kN,measure:kN};try{"undefined"!==typeof window&&(IN=window),"undefined"!==typeof document&&(EN=document),"undefined"!==typeof MutationObserver&&(xN=MutationObserver),"undefined"!==typeof performance&&(TN=performance)}catch(YD){}var CN,NN,AN,PN,ON,RN=(IN.navigator||{}).userAgent,DN=void 0===RN?"":RN,LN=IN,MN=EN,jN=xN,FN=TN,UN=(LN.document,!!MN.documentElement&&!!MN.head&&"function"===typeof MN.addEventListener&&"function"===typeof MN.createElement),VN=~DN.indexOf("MSIE")||~DN.indexOf("Trident/"),zN="___FONT_AWESOME___",BN=16,qN="fa",HN="svg-inline--fa",WN="data-fa-i2svg",GN="data-fa-pseudo-element",KN="data-fa-pseudo-element-pending",QN="data-prefix",YN="data-icon",$N="fontawesome-i2svg",XN="async",JN=["HTML","HEAD","STYLE","SCRIPT"],ZN=function(){try{return!0}catch(YD){return!1}}(),eA="classic",tA="sharp",nA=[eA,tA];function rA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[eA]}})}var iA=rA((vN(CN={},eA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),vN(CN,tA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),CN)),oA=rA((vN(NN={},eA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),vN(NN,tA,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),NN)),aA=rA((vN(AN={},eA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),vN(AN,tA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),AN)),sA=rA((vN(PN={},eA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),vN(PN,tA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),PN)),lA=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,cA="fa-layers-text",uA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,dA=rA((vN(ON={},eA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),vN(ON,tA,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),ON)),hA=[1,2,3,4,5,6,7,8,9,10],fA=hA.concat([11,12,13,14,15,16,17,18,19,20]),pA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],mA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},gA=new Set;Object.keys(oA[eA]).map(gA.add.bind(gA)),Object.keys(oA[tA]).map(gA.add.bind(gA));var yA=[].concat(nA,wN(gA),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",mA.GROUP,mA.SWAP_OPACITY,mA.PRIMARY,mA.SECONDARY]).concat(hA.map((function(e){return"".concat(e,"x")}))).concat(fA.map((function(e){return"w-".concat(e)}))),vA=LN.FontAwesomeConfig||{};if(MN&&"function"===typeof MN.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=bN(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=MN.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(vA[r]=i)}))}var bA={styleDefault:"solid",familyDefault:"classic",cssPrefix:qN,replacementClass:HN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};vA.familyPrefix&&(vA.cssPrefix=vA.familyPrefix);var wA=mN(mN({},bA),vA);wA.autoReplaceSvg||(wA.observeMutations=!1);var _A={};Object.keys(bA).forEach((function(e){Object.defineProperty(_A,e,{enumerable:!0,set:function(t){wA[e]=t,SA.forEach((function(e){return e(_A)}))},get:function(){return wA[e]}})})),Object.defineProperty(_A,"familyPrefix",{enumerable:!0,set:function(e){wA.cssPrefix=e,SA.forEach((function(e){return e(_A)}))},get:function(){return wA.cssPrefix}}),LN.FontAwesomeConfig=_A;var SA=[];var kA=BN,IA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var EA="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function xA(){for(var e=12,t="";e-- >0;)t+=EA[62*Math.random()|0];return t}function TA(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function CA(e){return e.classList?TA(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function NA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function AA(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function PA(e){return e.size!==IA.size||e.x!==IA.x||e.y!==IA.y||e.rotate!==IA.rotate||e.flipX||e.flipY}var OA=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function RA(){var e=qN,t=HN,n=_A.cssPrefix,r=_A.replacementClass,i=OA;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var DA=!1;function LA(){_A.autoAddCss&&!DA&&(!function(e){if(e&&UN){var t=MN.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=MN.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}MN.head.insertBefore(t,r)}}(RA()),DA=!0)}var MA={mixout:function(){return{dom:{css:RA,insertCss:LA}}},hooks:function(){return{beforeDOMElementCreation:function(){LA()},beforeI2svg:function(){LA()}}}},jA=LN||{};jA[zN]||(jA[zN]={}),jA[zN].styles||(jA[zN].styles={}),jA[zN].hooks||(jA[zN].hooks={}),jA[zN].shims||(jA[zN].shims=[]);var FA=jA[zN],UA=[],VA=!1;function zA(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?NA(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(NA(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(zA).join(""),"</").concat(t,">")}function BA(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}UN&&((VA=(MN.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(MN.readyState))||MN.addEventListener("DOMContentLoaded",(function e(){MN.removeEventListener("DOMContentLoaded",e),VA=1,UA.map((function(e){return e()}))})));var qA=function(e,t,n,r){var i,o,a,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<l;i++)a=c(a,e[o=s[i]],o,e);return a};function HA(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function WA(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function GA(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=WA(t);"function"!==typeof FA.hooks.addPack||r?FA.styles[e]=mN(mN({},FA.styles[e]||{}),i):FA.hooks.addPack(e,WA(t)),"fas"===e&&GA("fa",t)}var KA,QA,YA,$A=FA.styles,XA=FA.shims,JA=(vN(KA={},eA,Object.values(aA[eA])),vN(KA,tA,Object.values(aA[tA])),KA),ZA=null,eP={},tP={},nP={},rP={},iP={},oP=(vN(QA={},eA,Object.keys(iA[eA])),vN(QA,tA,Object.keys(iA[tA])),QA);function aP(e,t){var n,r=t.split("-"),i=r[0],o=r.slice(1).join("-");return i!==e||""===o||(n=o,~yA.indexOf(n))?null:o}var sP=function(){var e=function(e){return qA($A,(function(t,n,r){return t[r]=qA(n,e,{}),t}),{})};eP=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),tP=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),iP=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in $A||_A.autoFetchSvg,n=qA(XA,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:o}),e}),{names:{},unicodes:{}});nP=n.names,rP=n.unicodes,ZA=fP(_A.styleDefault,{family:_A.familyDefault})};function lP(e,t){return(eP[e]||{})[t]}function cP(e,t){return(iP[e]||{})[t]}function uP(e){return nP[e]||{prefix:null,iconName:null}}function dP(){return ZA}!function(e){SA.push(e)}((function(e){ZA=fP(e.styleDefault,{family:_A.familyDefault})})),sP();var hP=function(){return{prefix:null,iconName:null,rest:[]}};function fP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?eA:t,r=iA[n][e],i=oA[n][e]||oA[n][r],o=e in FA.styles?e:null;return i||o||null}var pP=(vN(YA={},eA,Object.keys(aA[eA])),vN(YA,tA,Object.keys(aA[tA])),YA);function mP(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(vN(t={},eA,"".concat(_A.cssPrefix,"-").concat(eA)),vN(t,tA,"".concat(_A.cssPrefix,"-").concat(tA)),t),o=null,a=eA;(e.includes(i[eA])||e.some((function(e){return pP[eA].includes(e)})))&&(a=eA),(e.includes(i[tA])||e.some((function(e){return pP[tA].includes(e)})))&&(a=tA);var s=e.reduce((function(e,t){var n=aP(_A.cssPrefix,t);if($A[t]?(t=JA[a].includes(t)?sA[a][t]:t,o=t,e.prefix=t):oP[a].indexOf(t)>-1?(o=t,e.prefix=fP(t,{family:a})):n?e.iconName=n:t!==_A.replacementClass&&t!==i[eA]&&t!==i[tA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===o?uP(e.iconName):{},l=cP(e.prefix,e.iconName);s.prefix&&(o=null),e.iconName=s.iconName||l||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||$A.far||!$A.fas||_A.autoFetchSvg||(e.prefix="fas")}return e}),hP());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||a!==tA||!$A.fass&&!_A.autoFetchSvg||(s.prefix="fass",s.iconName=cP(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==o||(s.prefix=dP()||"fas"),s}var gP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=mN(mN({},e.definitions[t]||{}),i[t]),GA(t,i[t]);var n=aA[eA][t];n&&GA(n,i[t]),sP()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon,s=a[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=a)})),e[i][o]=a})),e}}],n&&yN(t.prototype,n),r&&yN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yP=[],vP={},bP={},wP=Object.keys(bP);function _P(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(vP[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function SP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(vP[e]||[]).forEach((function(e){e.apply(null,n)}))}function kP(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return bP[e]?bP[e].apply(null,t):void 0}function IP(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||dP();if(t)return t=cP(n,t)||t,BA(EP.definitions,n,t)||BA(FA.styles,n,t)}var EP=new gP,xP={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return UN?(SP("beforeI2svg",e),kP("pseudoElements2svg",e),kP("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===_A.autoReplaceSvg&&(_A.autoReplaceSvg=!0),_A.observeMutations=!0,function(e){UN&&(VA?setTimeout(e,0):UA.push(e))}((function(){NP({autoReplaceSvgRoot:t}),SP("watch",e)}))}},TP={icon:function(e){if(null===e)return null;if("object"===gN(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:cP(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=fP(e[0]);return{prefix:n,iconName:cP(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(_A.cssPrefix,"-"))>-1||e.match(lA))){var r=mP(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||dP(),iconName:cP(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=dP();return{prefix:i,iconName:cP(i,e)||e}}}},CP={noAuto:function(){_A.autoReplaceSvg=!1,_A.observeMutations=!1,SP("noAuto")},config:_A,dom:xP,parse:TP,library:EP,findIconDefinition:IP,toHtml:zA},NP=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?MN:e;(Object.keys(FA.styles).length>0||_A.autoFetchSvg)&&UN&&_A.autoReplaceSvg&&CP.dom.i2svg({node:t})};function AP(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return zA(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(UN){var t=MN.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function PP(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,d=e.extra,h=e.watchable,f=void 0!==h&&h,p=r.found?r:n,m=p.width,g=p.height,y="fak"===i,v=[_A.replacementClass,o?"".concat(_A.cssPrefix,"-").concat(o):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),b={children:[],attributes:mN(mN({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:v,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},w=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(b.attributes[WN]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||xA())},children:[l]}),delete b.attributes.title);var _=mN(mN({},b),{},{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:mN(mN({},w),d.styles)}),S=r.found&&n.found?kP("generateAbstractMask",_)||{children:[],attributes:{}}:kP("generateAbstractIcon",_)||{children:[],attributes:{}},k=S.children,I=S.attributes;return _.children=k,_.attributes=I,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?"".concat(t,"-").concat(_A.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:mN(mN({},i),{},{id:a}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(PA(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=AA(mN(mN({},o),{},{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function OP(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,a=e.extra,s=e.watchable,l=void 0!==s&&s,c=mN(mN(mN({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c[WN]="");var u=mN({},a.styles);PA(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?BN:n,i=e.height,o=void 0===i?BN:i,a=e.startCentered,s=void 0!==a&&a,l="";return l+=s&&VN?"translate(".concat(t.x/kA-r/2,"em, ").concat(t.y/kA-o/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/kA,"em), calc(-50% + ").concat(t.y/kA,"em)) "):"translate(".concat(t.x/kA,"em, ").concat(t.y/kA,"em) "),l+="scale(".concat(t.size/kA*(t.flipX?-1:1),", ").concat(t.size/kA*(t.flipY?-1:1),") "),l+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=AA(u);d.length>0&&(c.style=d);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),o&&h.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),h}var RP=FA.styles;function DP(e){var t=e[0],n=e[1],r=bN(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(_A.cssPrefix,"-").concat(mA.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_A.cssPrefix,"-").concat(mA.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_A.cssPrefix,"-").concat(mA.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var LP={found:!1,width:512,height:512};function MP(e,t){var n=t;return"fa"===t&&null!==_A.styleDefault&&(t=dP()),new Promise((function(r,i){kP("missingIconAbstract");if("fa"===n){var o=uP(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&RP[t]&&RP[t][e])return r(DP(RP[t][e]));!function(e,t){ZN||_A.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(mN(mN({},LP),{},{icon:_A.showMissingIcons&&e&&kP("missingIconAbstract")||{}}))}))}var jP=function(){},FP=_A.measurePerformance&&FN&&FN.mark&&FN.measure?FN:{mark:jP,measure:jP},UP='FA "6.5.1"',VP=function(e){FP.mark("".concat(UP," ").concat(e," ends")),FP.measure("".concat(UP," ").concat(e),"".concat(UP," ").concat(e," begins"),"".concat(UP," ").concat(e," ends"))},zP={begin:function(e){return FP.mark("".concat(UP," ").concat(e," begins")),function(){return VP(e)}},end:VP},BP=function(){};function qP(e){return"string"===typeof(e.getAttribute?e.getAttribute(WN):null)}function HP(e){return MN.createElementNS("http://www.w3.org/2000/svg",e)}function WP(e){return MN.createElement(e)}function GP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?HP:WP:t;if("string"===typeof e)return MN.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(GP(e,{ceFn:n}))})),r}var KP={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(GP(e),t)})),null===t.getAttribute(WN)&&_A.keepOriginalSource){var n=MN.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~CA(t).indexOf(_A.replacementClass))return KP.replace(e);var r=new RegExp("".concat(_A.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===_A.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(e){return zA(e)})).join("\n");t.setAttribute(WN,""),t.innerHTML=o}};function QP(e){e()}function YP(e,t){var n="function"===typeof t?t:BP;if(0===e.length)n();else{var r=QP;_A.mutateApproach===XN&&(r=LN.requestAnimationFrame||QP),r((function(){var t=!0===_A.autoReplaceSvg?KP.replace:KP[_A.autoReplaceSvg]||KP.replace,r=zP.begin("mutate");e.map(t),r(),n()}))}}var $P=!1;function XP(){$P=!0}function JP(){$P=!1}var ZP=null;function eO(e){if(jN&&_A.observeMutations){var t=e.treeCallback,n=void 0===t?BP:t,r=e.nodeCallback,i=void 0===r?BP:r,o=e.pseudoElementsCallback,a=void 0===o?BP:o,s=e.observeMutationsRoot,l=void 0===s?MN:s;ZP=new jN((function(e){if(!$P){var t=dP();TA(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!qP(e.addedNodes[0])&&(_A.searchPseudoElements&&a(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&_A.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&qP(e.target)&&~pA.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(QN):null,n=e.getAttribute?e.getAttribute(YN):null;return t&&n}(e.target)){var r=mP(CA(e.target)),o=r.prefix,s=r.iconName;e.target.setAttribute(QN,o||t),s&&e.target.setAttribute(YN,s)}else(l=e.target)&&l.classList&&l.classList.contains&&l.classList.contains(_A.replacementClass)&&i(e.target);var l}))}})),UN&&ZP.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tO(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=mP(CA(e));return i.prefix||(i.prefix=dP()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(tP[e]||{})[t]}(i.prefix,e.innerText)||lP(i.prefix,HA(e.innerText))),!i.iconName&&_A.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function nO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=tO(e),r=n.iconName,i=n.prefix,o=n.rest,a=function(e){var t=TA(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return _A.autoA11y&&(n?t["aria-labelledby"]="".concat(_A.replacementClass,"-title-").concat(r||xA()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=_P("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return mN({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:IA,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var rO=FA.styles;function iO(e){var t="nest"===_A.autoReplaceSvg?nO(e,{styleParser:!1}):nO(e);return~t.extra.classes.indexOf(cA)?kP("generateLayersText",e,t):kP("generateSvgReplacementMutation",e,t)}var oO=new Set;function aO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!UN)return Promise.resolve();var n=MN.documentElement.classList,r=function(e){return n.add("".concat($N,"-").concat(e))},i=function(e){return n.remove("".concat($N,"-").concat(e))},o=_A.autoFetchSvg?oO:nA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(rO));o.includes("fa")||o.push("fa");var a=[".".concat(cA,":not([").concat(WN,"])")].concat(o.map((function(e){return".".concat(e,":not([").concat(WN,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=TA(e.querySelectorAll(a))}catch(YD){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=zP.begin("onTree"),c=s.reduce((function(e,t){try{var n=iO(t);n&&e.push(n)}catch(YD){ZN||"MissingIcon"===YD.name&&console.error(YD)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){YP(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function sO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iO(e).then((function(e){e&&YP([e],t)}))}nA.map((function(e){oO.add("fa-".concat(e))})),Object.keys(iA[eA]).map(oO.add.bind(oO)),Object.keys(iA[tA]).map(oO.add.bind(oO)),oO=wN(oO);var lO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?IA:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,l=t.maskId,c=void 0===l?null:l,u=t.title,d=void 0===u?null:u,h=t.titleId,f=void 0===h?null:h,p=t.classes,m=void 0===p?[]:p,g=t.attributes,y=void 0===g?{}:g,v=t.styles,b=void 0===v?{}:v;if(e){var w=e.prefix,_=e.iconName,S=e.icon;return AP(mN({type:"icon"},e),(function(){return SP("beforeDOMElementCreation",{iconDefinition:e,params:t}),_A.autoA11y&&(d?y["aria-labelledby"]="".concat(_A.replacementClass,"-title-").concat(f||xA()):(y["aria-hidden"]="true",y.focusable="false")),PP({icons:{main:DP(S),mask:s?DP(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:mN(mN({},IA),r),symbol:o,title:d,maskId:c,titleId:f,extra:{attributes:y,styles:b,classes:m}})}))}},cO={mixout:function(){return{icon:(e=lO,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:IP(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:IP(i||{})),e(r,mN(mN({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=aO,e.nodeCallback=sO,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?MN:t,r=e.callback;return aO(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,o=t.prefix,a=t.transform,s=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,d){Promise.all([MP(n,o),l.iconName?MP(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var d=bN(l,2),h=d[0],f=d[1];t([e,PP({icons:{main:h,mask:f},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.transform,a=AA(e.styles);return a.length>0&&(r.style=a),PA(o)&&(t=kP("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},uO={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return AP({type:"layer"},(function(){SP("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(_A.cssPrefix,"-layers")].concat(wN(r)).join(" ")},children:n}]}))}}}},dO={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,o=void 0===i?[]:i,a=t.attributes,s=void 0===a?{}:a,l=t.styles,c=void 0===l?{}:l;return AP({type:"counter",content:e},(function(){return SP("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=mN(mN(mN({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=AA(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(_A.cssPrefix,"-layers-counter")].concat(wN(o))}})}))}}}},hO={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?IA:n,i=t.title,o=void 0===i?null:i,a=t.classes,s=void 0===a?[]:a,l=t.attributes,c=void 0===l?{}:l,u=t.styles,d=void 0===u?{}:u;return AP({type:"text",content:e},(function(){return SP("beforeDOMElementCreation",{content:e,params:t}),OP({content:e,transform:mN(mN({},IA),r),title:o,extra:{attributes:c,styles:d,classes:["".concat(_A.cssPrefix,"-layers-text")].concat(wN(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,o=null,a=null;if(VN){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/s,a=l.height/s}return _A.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,OP({content:e.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},fO=new RegExp('"',"ug"),pO=[1105920,1112319];function mO(e,t){var n="".concat(KN).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var o=TA(e.children).filter((function(e){return e.getAttribute(GN)===t}))[0],a=LN.getComputedStyle(e,t),s=a.getPropertyValue("font-family").match(uA),l=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!s)return e.removeChild(o),r();if(s&&"none"!==c&&""!==c){var u=a.getPropertyValue("content"),d=~["Sharp"].indexOf(s[2])?tA:eA,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?oA[d][s[2].toLowerCase()]:dA[d][l],f=function(e){var t=e.replace(fO,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=pO[0]&&n<=pO[1],i=2===t.length&&t[0]===t[1];return{value:HA(i?t[0]:t),isSecondary:r||i}}(u),p=f.value,m=f.isSecondary,g=s[0].startsWith("FontAwesome"),y=lP(h,p),v=y;if(g){var b=function(e){var t=rP[e],n=lP("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);b.iconName&&b.prefix&&(y=b.iconName,h=b.prefix)}if(!y||m||o&&o.getAttribute(QN)===h&&o.getAttribute(YN)===v)r();else{e.setAttribute(n,v),o&&e.removeChild(o);var w={iconName:null,title:null,titleId:null,prefix:null,transform:IA,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=w.extra;_.attributes[GN]=t,MP(y,h).then((function(i){var o=PP(mN(mN({},w),{},{icons:{main:i,mask:hP()},prefix:h,iconName:v,extra:_,watchable:!0})),a=MN.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(a,e.firstChild):e.appendChild(a),a.outerHTML=o.map((function(e){return zA(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function gO(e){return Promise.all([mO(e,"::before"),mO(e,"::after")])}function yO(e){return e.parentNode!==document.head&&!~JN.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(GN)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function vO(e){if(UN)return new Promise((function(t,n){var r=TA(e.querySelectorAll("*")).filter(yO).map(gO),i=zP.begin("searchPseudoElements");XP(),Promise.all(r).then((function(){i(),JP(),t()})).catch((function(){i(),JP(),n()}))}))}var bO=!1,wO=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},_O={mixout:function(){return{parse:{transform:function(e){return wO(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=wO(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:o,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:mN({},c.outer),children:[{tag:"g",attributes:mN({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:mN(mN({},t.icon.attributes),c.path)}]}]}}}},SO={x:0,y:0,width:"100%",height:"100%"};function kO(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var IO={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?mP(n.split(" ").map((function(e){return e.trim()}))):hP();return r.prefix||(r.prefix=dP()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.maskId,s=e.transform,l=i.width,c=i.icon,u=o.width,d=o.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:mN(mN({},SO),{},{fill:"white"})},p=c.children?{children:c.children.map(kO)}:{},m={tag:"g",attributes:mN({},h.inner),children:[kO(mN({tag:c.tag,attributes:mN(mN({},c.attributes),h.path)},p))]},g={tag:"g",attributes:mN({},h.outer),children:[m]},y="mask-".concat(a||xA()),v="clip-".concat(a||xA()),b={tag:"mask",attributes:mN(mN({},SO),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:(t=d,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:mN({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(y,")")},SO)}),{children:n,attributes:r}}}},EO={provides:function(e){var t=!1;LN.matchMedia&&(t=LN.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:mN(mN({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=mN(mN({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:mN(mN({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||o.children.push({tag:"animate",attributes:mN(mN({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:mN(mN({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(o),e.push({tag:"path",attributes:mN(mN({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:mN(mN({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:mN(mN({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:mN(mN({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;yP=e,vP={},Object.keys(bP).forEach((function(e){-1===wP.indexOf(e)&&delete bP[e]})),yP.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===gN(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){vP[e]||(vP[e]=[]),vP[e].push(r[e])}))}e.provides&&e.provides(bP)}))}([MA,cO,uO,dO,hO,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=vO,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?MN:t;_A.searchPseudoElements&&vO(n)}}},{mixout:function(){return{dom:{unwatch:function(){XP(),bO=!0}}}},hooks:function(){return{bootstrap:function(){eO(_P("mutationObserverCallbacks",{}))},noAuto:function(){ZP&&ZP.disconnect()},watch:function(e){var t=e.observeMutationsRoot;bO?JP():eO(_P("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},_O,IO,EO,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:CP});var xO=CP.parse,TO=CP.icon,CO=n(7),NO=n.n(CO);function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AO(Object(n),!0).forEach((function(t){RO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OO(e){return OO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OO(e)}function RO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LO(e){return function(e){if(Array.isArray(e))return MO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return MO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jO(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var FO=["style"];var UO=!1;try{UO=!0}catch(YD){}function VO(e){return e&&"object"===OO(e)&&e.prefix&&e.iconName&&e.icon?e:xO.icon?xO.icon(e):null===e?null:e&&"object"===OO(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function zO(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?RO({},e,t):{}}var BO=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,o=e.className,a=e.title,s=e.titleId,l=e.maskId,c=VO(n),u=zO("classes",[].concat(LO(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,o=e.bounce,a=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,d=e.pulse,h=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,y=e.size,v=e.rotation,b=e.pull,w=(RO(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":o,"fa-shake":a,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":h,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(y),"undefined"!==typeof y&&null!==y),RO(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),RO(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),RO(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(w).map((function(e){return w[e]?e:null})).filter((function(e){return e}))}(e)),LO(o.split(" ")))),d=zO("transform","string"===typeof e.transform?xO.transform(e.transform):e.transform),h=zO("mask",VO(r)),f=TO(c,PO(PO(PO(PO({},u),d),h),{},{symbol:i,title:a,titleId:s,maskId:l}));if(!f)return function(){var e;!UO&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){BO.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),qO(p[0],m)}));BO.displayName="FontAwesomeIcon",BO.propTypes={beat:NO().bool,border:NO().bool,beatFade:NO().bool,bounce:NO().bool,className:NO().string,fade:NO().bool,flash:NO().bool,mask:NO().oneOfType([NO().object,NO().array,NO().string]),maskId:NO().string,fixedWidth:NO().bool,inverse:NO().bool,flip:NO().oneOf([!0,!1,"horizontal","vertical","both"]),icon:NO().oneOfType([NO().object,NO().array,NO().string]),listItem:NO().bool,pull:NO().oneOf(["right","left"]),pulse:NO().bool,rotation:NO().oneOf([0,90,180,270]),shake:NO().bool,size:NO().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:NO().bool,spinPulse:NO().bool,spinReverse:NO().bool,symbol:NO().oneOfType([NO().bool,NO().string]),title:NO().string,titleId:NO().string,transform:NO().oneOfType([NO().string,NO().object]),swapOpacity:NO().bool},BO.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var qO=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=jO(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[jO(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,l=DO(r,FO);return o.attrs.style=PO(PO({},o.attrs.style),s),t.apply(void 0,[n.tag,PO(PO({},o.attrs),l)].concat(LO(i)))}.bind(null,t.createElement),HO={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},WO={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},GO={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},KO={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},QO={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},YO={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},$O={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},XO={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},JO={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},ZO={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};const eR=()=>{const{stateUser:e,cookies:n,currentPath:r,handleShowLogInModal:i,handleShowSignUpModal:o,openMenu:a,handleShowMenu:s,handleHideMenu:l}=(()=>{const e=AC(Gx),n=NC(),[r,i]=(0,t.useState)(!1),[o]=fN(["user"]),a=UT().pathname;return(0,t.useEffect)((()=>{o.user&&n(jx(o.user))}),[]),{stateUser:e,cookies:o,currentPath:a,handleShowLogInModal:()=>{n(Ux())},handleShowSignUpModal:()=>{n(zx())},openMenu:r,handleShowMenu:()=>{i(!r)},handleHideMenu:()=>{i(!1)}}})();return(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsxs)("header",{className:BC,children:[(0,bC.jsx)("div",{children:(0,bC.jsxs)("button",{className:HC,onClick:()=>s(),children:[!a&&(0,bC.jsx)(BO,{icon:HO}),a&&(0,bC.jsx)(BO,{icon:XO})]})}),(0,bC.jsxs)("div",{className:qC,children:[(0,bC.jsx)(SC,{to:"/",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,bC.jsx)(SC,{to:"/articles",text:"C\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),(0,bC.jsx)(SC,{to:"/about",text:"\u0418\u043d\u0444\u043e"})]}),(0,bC.jsxs)("div",{className:WC,children:[!n.user&&"/admin"!==r&&(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("div",{className:GC,onClick:()=>i(),children:(0,bC.jsx)(BO,{icon:GO})}),(0,bC.jsx)("div",{className:GC,onClick:()=>i(),children:(0,bC.jsx)(BO,{icon:JO,onClick:()=>o()})})]}),n.user&&(0,bC.jsxs)(fC,{to:"/profile/".concat(n.user),className:KC,children:[e.user.username," ",(0,bC.jsx)(BO,{icon:WO})]})]})]}),a&&(0,bC.jsxs)("ul",{className:QC,children:[(0,bC.jsx)("li",{onClick:()=>l(),children:(0,bC.jsx)(SC,{to:"/",text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),(0,bC.jsx)("li",{onClick:()=>l(),children:(0,bC.jsx)(SC,{to:"/articles",text:"C\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"})}),(0,bC.jsx)("li",{onClick:()=>l(),children:(0,bC.jsx)(SC,{to:"/about",text:"\u0418\u043d\u0444\u043e"})})]})]})},tR="App_main__DwzZo",nR="ArticleContent_container__9fH4y";var rR=n(25);const iR=rR.default||rR,oR="Questions_questionsContainer__QYGgD",aR="Questions_text__zJOIs",sR="Questions_questionTitle__bPYzB",lR="Questions_answersContainer__ABXF-",cR="Questions_answerContainer__zBwT+",uR="Questions_input__pNV7X",dR="Questions_label__QMR4T",hR="Questions_tableContainer__mmVdK",fR="Questions_table__YxLyZ",pR="Questions_tableHead__UqU3a",mR="Questions_tableHeadItem__IG5VR",gR="Questions_tableBody__EvNIm",yR="Questions_tableRow__KI+1C",vR="Questions_tableRowItem__h9vDt",bR="Questions_button__QSVBJ",wR="Questions_attemptQuantityText__DDJco",_R="Questions_buttonContainer__erLTr",SR="Questions_lockQuestions__MLT4R",kR="Questions_lockQuestionsTitle__e-N7k",IR="Button_button__N5ouZ",ER=e=>{let{text:t,onClick:n}=e;return(0,bC.jsx)("button",{className:IR,onClick:()=>n(),children:t})},xR="AttemptModal_wrapper__yKE-q",TR="AttemptModal_container__Zy8m8",CR="AttemptModal_modalHead__aDaQf",NR="AttemptModal_modalHeadTitle__h4YBu",AR="AttemptModal_closeWindow__8B4Rp",PR="AttemptModal_questionTitle__TAREM",OR="AttemptModal_correctIco__KKdU1",RR="AttemptModal_incorrectIco__IrM55",DR=e=>{let{articleId:t}=e;const{stateUser:n,questions:r,handleHideResultModal:i}=(e=>{const t=AC(hE),n=AC(Gx),r=NC();return{stateUser:n,questions:t.questions.filter((t=>{if(t.articleId==e)return t})),handleHideResultModal:()=>{r(Hx())}}})(t);return(0,bC.jsx)("div",{className:xR,children:(0,bC.jsxs)("div",{className:TR,children:[(0,bC.jsxs)("div",{className:CR,children:[(0,bC.jsx)("h2",{className:NR,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),(0,bC.jsx)("button",{className:AR,onClick:()=>i(),children:(0,bC.jsx)(BO,{icon:XO})})]}),r.map((e=>{var t,r,i;return(0,bC.jsxs)("div",{children:[(0,bC.jsxs)("h3",{className:PR,children:[(null===(t=n.resultForResultModal)||void 0===t?void 0:t.userAnswers[parseInt(e.id)])===e.correctAnswer&&(0,bC.jsx)(BO,{icon:ZO,className:OR}),(null===(r=n.resultForResultModal)||void 0===r?void 0:r.userAnswers[parseInt(e.id)])!==e.correctAnswer&&(0,bC.jsx)(BO,{icon:XO,className:RR})," ",e.question]}),(0,bC.jsxs)("div",{children:[(0,bC.jsxs)("p",{children:[(0,bC.jsx)("b",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"})," ",e.correctAnswer]}),(0,bC.jsxs)("p",{children:[(0,bC.jsx)("b",{children:"\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442:"})," ",null===(i=n.resultForResultModal)||void 0===i?void 0:i.userAnswers[parseInt(e.id)]]})]})]},e.id)}))]})})},LR=e=>{let{articleTitle:n}=e;const{stateMain:r,stateUser:i,articleId:o,handleAnswerSelection:a,handleAddResult:s,newAttempt:l,handleNewAttempt:c,checkUserResults:u,calcQuantityAttempt:d,handleShowResultModal:h,cookies:f}=(()=>{const e=AC(hE),n=AC(Gx),r=NC(),[i,o]=(0,t.useState)({}),[a,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u]=fN(["user"]),{articleId:d}=BT(),h={userId:u.user,articleId:d,chapterId:e.article.chapterId,userAnswers:i,averageGrade:(t=>{let n=0;const r=e.questions.filter((e=>{if(e.articleId==t)return e.articleId})),o=r.length;return r.forEach((e=>{for(const t in i)if(i[t]===e.correctAnswer&&t===e.id)return void n++})),n/(o/100)})(d)};return(0,t.useEffect)((()=>{u.user&&r(Lx()),r(cE())}),[a,l,u.user]),{stateMain:e,stateUser:n,articleId:d,handleAnswerSelection:(e,t)=>{o((n=>{const r={...n};return r[e]=t,r}))},handleAddResult:()=>{const t=e.questions.filter((e=>{if(e.articleId==d)return e.articleId})).length;Object.keys(i).length<t?Ax.error("\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"):(r(Dx(h)),s(!a),c(!1))},newAttempt:l,handleNewAttempt:()=>{c(!0)},checkUserResults:(e,t)=>{if(!t)return;let r=!1;return n.results.forEach((n=>{n.userId===e&&n.articleId===t&&(r=!0)})),r},calcQuantityAttempt:(e,t)=>{let r=0;return n.results.forEach((n=>{n.userId===e&&n.articleId===t&&r++})),r},handleShowResultModal:e=>{r(qx(e))},cookies:u}})();return o?(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsxs)("div",{className:oR,children:[(!u(f.user,o)||l)&&(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("h2",{className:aR,children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b"}),r.questions.filter((e=>e.articleId.toString()===o)).map((e=>(0,bC.jsxs)("div",{children:[(0,bC.jsx)("p",{className:sR,children:e.question}),(0,bC.jsx)("div",{className:lR,children:e.answers.map((t=>(0,bC.jsxs)("div",{className:cR,children:[(0,bC.jsx)("input",{id:t,type:"radio",name:e.id.toString(),className:uR,value:t,onChange:()=>a(e.id,t)}),(0,bC.jsx)("label",{htmlFor:t,className:dR,children:t})]},t)))})]},e.id))),(0,bC.jsx)("div",{className:_R,children:(0,bC.jsx)(ER,{text:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b",onClick:()=>s()})})]}),u(f.user,o)&&!l&&(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("h2",{className:aR,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"}),(0,bC.jsx)("div",{className:hR,children:(0,bC.jsxs)("table",{className:fR,children:[(0,bC.jsx)("thead",{className:pR,children:(0,bC.jsxs)("tr",{children:[(0,bC.jsx)("th",{scope:"col",className:mR,children:"\u0418\u043c\u044f"}),(0,bC.jsx)("th",{scope:"col",className:mR,children:"C\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,bC.jsx)("th",{scope:"col",className:mR,children:"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u2116"}),(0,bC.jsx)("th",{scope:"col",className:mR,children:"C\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b"}),(0,bC.jsx)("th",{scope:"col",className:mR})]})}),(0,bC.jsx)("tbody",{className:gR,children:i.results.filter((e=>e.userId===f.user&&e.articleId===o)).map(((e,t)=>(0,bC.jsxs)("tr",{className:yR,children:[(0,bC.jsx)("td",{className:vR,children:"\u0412\u044b"}),(0,bC.jsx)("td",{className:vR,children:n}),(0,bC.jsx)("td",{className:vR,children:t+1}),(0,bC.jsxs)("td",{className:vR,children:[Math.floor(e.averageGrade)," / 100"]}),(0,bC.jsx)("td",{className:vR,children:(0,bC.jsx)("button",{className:bR,onClick:()=>h(e),children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})})]},e.id)))})]})}),(0,bC.jsxs)("p",{className:wR,children:["\u0423 \u0432\u0430\u0441 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043f\u044b\u0442\u043e\u043a:"," ",3-d(f.user,o)]}),d(f.user,o)<3&&(0,bC.jsx)("div",{className:_R,children:(0,bC.jsx)(ER,{text:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435",onClick:()=>c()})})]}),!f.user&&(0,bC.jsx)("div",{className:SR,children:(0,bC.jsx)("h2",{className:kR,children:"\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0439\u0442\u0438 \u0442\u0435\u0441\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"})})]}),i.resultModal&&(0,bC.jsx)(DR,{articleId:o})]}):(0,bC.jsx)("p",{children:"\u041a\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})},MR="Pagination_linksContainer__XxKB3",jR="Pagination_prevLink__rGx4d",FR="Pagination_nextLink__DmbdV",UR=e=>{let{prevArticleId:t,nextArticleId:n}=e;return(0,bC.jsxs)("div",{className:MR,children:[t&&(0,bC.jsxs)(fC,{to:"/article/".concat(t),className:jR,children:[(0,bC.jsx)(BO,{icon:YO})," \u041d\u0430\u0437\u0430\u0434"]}),n&&(0,bC.jsxs)(fC,{to:"/article/".concat(n),className:FR,children:["\u0414\u0430\u043b\u0435\u0435 ",(0,bC.jsx)(BO,{icon:QO})]})]})},VR=()=>{const{stateMain:e,prevArticleId:n,nextArticleId:r}=(()=>{var e,n;const{articleId:r}=BT(),i=AC(hE),o=NC(),[a,s]=(0,t.useState)(!1),[l]=fN(["user"]);(0,t.useEffect)((()=>(void 0!==r&&o(lE(r)),()=>s(!1))),[r]);const c=i.articles.filter((e=>e.chapterId===i.article.chapterId)),u=c.findIndex((e=>e.id.toString()===r)),d=u>0?null===(e=c[u-1])||void 0===e?void 0:e.id:"",h=u<c.length-1?null===(n=c[u+1])||void 0===n?void 0:n.id:"";return{stateMain:i,articleId:r,showResults:a,setShowResults:s,prevArticleId:d,nextArticleId:h,cookies:l}})();return e.isLoadingArticle?(0,bC.jsx)(VC,{}):(0,bC.jsxs)("div",{className:nR,children:[(0,bC.jsx)("h1",{children:e.article.title}),iR(e.article.content),(0,bC.jsx)(LR,{articleTitle:e.article.title}),(0,bC.jsx)(UR,{prevArticleId:n,nextArticleId:r})]})},zR="SideBar_sideBarContainer__wLMZY",BR="SideBar_chapterContainer__+vYA8",qR="SideBar_chapter__yrHVt",HR="SideBar_linksContainer__mybLO",WR=()=>{const{stateMain:e}=(()=>{const e=AC(hE),n=NC();return(0,t.useEffect)((()=>{n(uE()),n(sE(""))}),[]),{stateMain:e}})();return e.isLoadingArticles||e.isLoadingChapters?null:(0,bC.jsx)("div",{className:zR,children:e.chapters.map((t=>(0,bC.jsxs)("div",{className:BR,children:[(0,bC.jsx)("h2",{className:qR,children:t.chapter}),(0,bC.jsx)("ul",{className:HR,children:e.articles.filter((e=>e.chapterId==t.id)).map((e=>(0,bC.jsx)("li",{children:(0,bC.jsx)(SC,{to:"/article/".concat(e.id),text:e.title})},e.id)))})]},t.id)))})},GR="ArticlePage_container__P4iKh",KR=()=>(0,bC.jsxs)("div",{className:GR,children:[(0,bC.jsx)(WR,{}),(0,bC.jsx)(VR,{})]}),QR="InfoPage_container__UD0dO",YR="InfoPage_text__3Y6CS",$R=n.p+"static/media/logoPenzGTU.2cf67f30b4bf93e8c8d5.png",XR=()=>(0,bC.jsxs)("div",{className:QR,children:[(0,bC.jsx)("img",{src:$R,alt:"logo"}),(0,bC.jsx)("h2",{className:YR,children:"WEB - \u0440\u0435\u0441\u0443\u0440\u0441 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0437\u043d\u0430\u043d\u0438\u0439 \u0432\u043e\u0435\u043d\u043d\u043e\u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445 \u043f\u043e \u0432\u043e\u0435\u043d\u043d\u044b\u043c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044f\u043c"}),(0,bC.jsx)("h2",{className:YR,children:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u041b\u0430\u0434\u044b\u0433\u0438\u043d \u0412\u0441\u0435\u0432\u043e\u043b\u043e\u0434 \u041b\u044c\u0432\u043e\u0432\u0438\u0447 \u0441\u0442\u0443\u0434\u0435\u043d\u0442 19\u0421\u041d1\u0441"})]}),JR="Footer_container__2I02O",ZR="Footer_text__Q0+HJ",eD=()=>(0,bC.jsx)("footer",{className:JR,children:(0,bC.jsx)("p",{className:ZR,children:"2024"})}),tD="Registration_container__seJyB",nD="Registration_item__Gtch+",rD="Registration_close__6Za9A",iD="Registration_title__k3SsF";let oD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t};const aD=()=>{const{stateUser:e,email:n,setEmail:r,username:i,setUsername:o,password:a,setPassword:s,errorEmail:l,errorUsername:c,errorPasswor:u,handleClickSignUp:d,handleClickLogIn:h,handleCloseModal:f}=(()=>{const e=AC(Gx),n=NC(),[r,i]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=fN(["user"]),y=UT().pathname,v={id:oD(),email:r,username:o,password:s,admin:"/admin"===y},b={username:o,password:s},w=()=>{n(Vx()),n(Bx())},_=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);return(0,t.useEffect)((()=>(void 0===m.user&&""!==e.user.id&&(g("user",e.user.id,{maxAge:259200}),w()),()=>{i(""),a(""),l("")})),[e.user.id]),{stateUser:e,email:r,setEmail:i,username:o,setUsername:a,password:s,setPassword:l,errorEmail:c,errorUsername:d,errorPasswor:f,handleClickSignUp:()=>{if(u(!1),h(!1),p(!1),""===v.email||!_(v.email)||""===o||""===s)return""!==v.email&&_(v.email)||u(!0),""===v.username&&h(!0),void(""===v.password&&p(!0));n(Ox(v)),g("user",v.id,{maxAge:259200}),w()},handleClickLogIn:()=>{if(h(!1),h(!1),""===o||""===s)return""===b.username&&h(!0),void(""===b.password&&p(!0));n(Rx(b))},handleCloseModal:w}})();return(0,bC.jsx)(bC.Fragment,{children:(e.signUpModal||e.logInModal)&&(0,bC.jsx)("div",{className:tD,children:(0,bC.jsxs)("div",{className:nD,children:[(0,bC.jsx)("button",{className:rD,onClick:()=>f(),children:(0,bC.jsx)(BO,{icon:XO})}),(0,bC.jsx)("p",{className:iD,children:e.signUpModal?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),e.signUpModal&&(0,bC.jsx)(MC,{id:"email",type:"text",placeholder:"Email",error:l,helperText:"\u041f\u0443\u0441\u0442\u043e\u0435 \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:n,onChange:e=>r(e.target.value)}),(0,bC.jsx)(MC,{id:"username",type:"text",placeholder:"Username",error:c,helperText:"\u041f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:i,onChange:e=>o(e.target.value)}),(0,bC.jsx)(MC,{id:"password",type:"password",placeholder:"Password",error:u,helperText:"\u041f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",value:a,onChange:e=>s(e.target.value)}),(0,bC.jsx)(ER,{text:"OK",onClick:()=>e.signUpModal?d():h()})]})})})},sD="Profile_container__hNg-G",lD="Profile_userContainer__kgfDX",cD="Profile_userInfo__BEDks",uD="Profile_email__p+tfx",dD="Profile_buttonContainer__bD-qp",hD="Profile_line__Sf95t",fD="Profile_resultsTitle__kWCHP",pD="UserResults_resultsContainer__oiorA",mD="UserResults_chapterTitle__HvDYH",gD="UserResults_accordionContainer__7jVFO",yD="UserResults_article__+QlLO",vD="UserResults_articleTitle__T1bPw",bD="UserResults_tableContainer__1rPjV",wD="UserResults_table__1l5KZ",_D="UserResults_tableHead__OWUV3",SD="UserResults_tableHeadItem__5qH+l",kD="UserResults_tableBody__0m62Q",ID="UserResults_tableRow__uX31Y",ED="UserResults_tableRowItem__nUoXh",xD="UserResults_button__S7KLy",TD=e=>{let{userId:n}=e;const{stateMain:r,stateUser:i,cookies:o,activeIndexArticle:a,onTitleArticleClick:s,activeIndexChapter:l,onTitleChapterClick:c,filterChaptersByUserResults:u,handleShowResultModal:d}=(e=>{let{userId:n}=e;const r=NC(),i=AC(hE),o=AC(Gx),[a]=fN(["user"]),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null);return{stateMain:i,stateUser:o,cookies:a,activeIndexArticle:s,onTitleArticleClick:e=>{l(e===s?null:e)},activeIndexChapter:c,onTitleChapterClick:e=>{u(e===c?null:e)},filterChaptersByUserResults:(e,t)=>{const r=[],i=t.filter((e=>e.userId==n));return e.forEach((e=>{i.forEach((t=>{t.chapterId==e.id&&r.push(e)}))})),r.filter(((e,t)=>r.indexOf(e)===t))},handleShowResultModal:(e,t)=>{t&&(r(Wx(t)),r(qx(e)))}}})({userId:n});return r.isLoadingArticles||r.isLoadingQuestions||i.isLoadingGetUserResults?(0,bC.jsx)(VC,{}):(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("div",{className:pD,children:u(r.chapters,i.results).map((e=>(0,bC.jsxs)(t.Fragment,{children:[(0,bC.jsx)("button",{className:mD,onClick:()=>c(e.id),children:(0,bC.jsxs)("h2",{children:[e.chapter," ",l===e.id&&(0,bC.jsx)(BO,{icon:KO}),l!==e.id&&(0,bC.jsx)(BO,{icon:$O})]})}),l===e.id&&(0,bC.jsx)("div",{className:gD,children:r.articles.filter((t=>t.chapterId==e.id&&i.results.filter((e=>e.userId==n)).map((e=>e.articleId)).includes(t.id))).map((e=>(0,bC.jsxs)("div",{className:yD,children:[(0,bC.jsx)("button",{className:vD,onClick:()=>s(e.id),children:(0,bC.jsxs)("h3",{children:[e.title," ",a===e.id&&(0,bC.jsx)(BO,{icon:KO}),a!==e.id&&(0,bC.jsx)(BO,{icon:$O})]})}),a===e.id&&(0,bC.jsx)("div",{className:bD,children:(0,bC.jsxs)("table",{className:wD,children:[(0,bC.jsx)("thead",{className:_D,children:(0,bC.jsxs)("tr",{children:[(0,bC.jsx)("th",{scope:"col",className:SD,children:"\u0418\u043c\u044f"}),(0,bC.jsx)("th",{scope:"col",className:SD,children:"C\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,bC.jsx)("th",{scope:"col",className:SD,children:"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u2116"}),(0,bC.jsx)("th",{scope:"col",className:SD,children:"C\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b"}),(0,bC.jsx)("th",{scope:"col",className:SD})]})}),(0,bC.jsx)("tbody",{className:kD,children:i.results.filter((t=>t.userId===o.user&&t.articleId===e.id)).map(((t,r)=>(0,bC.jsxs)("tr",{className:ID,children:[(0,bC.jsx)("td",{className:ED,children:t.userId===n?"\u0412\u044b":n}),(0,bC.jsx)("td",{className:ED,children:e.title}),(0,bC.jsx)("td",{className:ED,children:r+1}),(0,bC.jsxs)("td",{className:ED,children:[Math.floor(t.averageGrade)," / 100"]}),(0,bC.jsx)("td",{className:ED,children:(0,bC.jsx)("button",{className:xD,onClick:()=>d(t,t.articleId),children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})})]},t.id)))})]})})]},e.id)))})]},e.id)))}),i.resultModal&&(0,bC.jsx)(DR,{articleId:i.articleIdForResultModal})]})},CD="UsersResults_container__HVyG8",ND="UsersResults_chapterTitle__H+VFl",AD="UsersResults_articlesContainer__19iWF",PD="UsersResults_article__403T9",OD="UsersResults_articleTitle__H+t86",RD="UsersResults_tableContainer__ZrJNY",DD="UsersResults_table__YgLdt",LD="UsersResults_tableHead__WIIi5",MD="UsersResults_tableHeadItem__SVwC3",jD="UsersResults_tableBody__4yflR",FD="UsersResults_tableRow__8ud4e",UD="UsersResults_tableRowItem__tEOTE",VD="UsersResults_button__pl78+",zD=()=>{const{stateUser:e,stateMain:n,cookies:r,activeIndexArticle:i,activeIndexChapter:o,onTitleArticleClick:a,onTitleChapterClick:s,findUserName:l,handleShowResultModal:c,usernameToSearch:u,setUsernameToSearch:d,setAttempt:h}=(()=>{const e=NC(),n=AC(Gx),r=AC(hE),[i]=fN(["user"]),[o,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null);return(0,t.useEffect)((()=>{e(Mx())}),[]),{stateUser:n,stateMain:r,cookies:i,activeIndexArticle:s,activeIndexChapter:c,onTitleArticleClick:e=>{l(e===s?null:e),a("")},onTitleChapterClick:e=>{u(e===c?null:e),a("")},findUserName:e=>{const t=n.users.find((t=>t.id===e));return t?t.username:""},handleShowResultModal:(t,n)=>{n&&(e(Wx(n)),e(qx(t)))},usernameToSearch:o,setUsernameToSearch:a,setAttempt:e=>{if(!e.articleId)return"";let t;return n.results.filter((t=>t.userId===e.userId&&t.articleId===e.articleId)).forEach(((n,r)=>{n.userId!=e.userId||n.articleId!=e.articleId||n.userAnswers!=e.userAnswers||(t=r+1)})),t}}})();return(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("div",{className:CD,children:n.chapters.map((f=>(0,bC.jsxs)(t.Fragment,{children:[(0,bC.jsx)("button",{className:ND,onClick:()=>s(f.id),children:(0,bC.jsxs)("h2",{children:[f.chapter," ",o===f.id&&(0,bC.jsx)(BO,{icon:KO}),o!==f.id&&(0,bC.jsx)(BO,{icon:$O})]})}),o===f.id&&(0,bC.jsx)("div",{className:AD,children:n.articles.filter((t=>t.chapterId==f.id&&e.results.map((e=>e.articleId)).includes(t.id))).map((t=>(0,bC.jsxs)("div",{className:PD,children:[(0,bC.jsx)("button",{className:OD,onClick:()=>a(t.id),children:(0,bC.jsxs)("h3",{children:[t.title," ",i===t.id&&(0,bC.jsx)(BO,{icon:KO}),i!==t.id&&(0,bC.jsx)(BO,{icon:$O})]})}),i===t.id&&(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)(MC,{id:"search",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:u,onChange:e=>d(e.target.value)}),(0,bC.jsx)("div",{className:RD,children:(0,bC.jsxs)("table",{className:DD,children:[(0,bC.jsx)("thead",{className:LD,children:(0,bC.jsxs)("tr",{children:[(0,bC.jsx)("th",{scope:"col",className:MD,children:"\u0418\u043c\u044f"}),(0,bC.jsx)("th",{scope:"col",className:MD,children:"C\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,bC.jsx)("th",{scope:"col",className:MD,children:"\u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u2116"}),(0,bC.jsx)("th",{scope:"col",className:MD,children:"C\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b"}),(0,bC.jsx)("th",{scope:"col",className:MD})]})}),(0,bC.jsx)("tbody",{className:jD,children:e.results.filter((e=>e.articleId===t.id&&e.userId!==r.user&&l(e.userId).toLowerCase().includes(u.toLowerCase()))).map((e=>(0,bC.jsxs)("tr",{className:FD,children:[(0,bC.jsx)("td",{className:UD,children:l(e.userId)}),(0,bC.jsx)("td",{className:UD,children:t.title}),(0,bC.jsx)("td",{className:UD,children:h(e)}),(0,bC.jsxs)("td",{className:UD,children:[Math.floor(e.averageGrade)," / 100"]}),(0,bC.jsx)("td",{className:UD,children:(0,bC.jsx)("button",{className:VD,onClick:()=>c(e,e.articleId),children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u043f\u044b\u0442\u043a\u0443"})})]},e.id)))})]})})]})]},t.id)))})]},f.id)))}),e.resultModal&&(0,bC.jsx)(DR,{articleId:e.articleIdForResultModal})]})},BD=()=>{const{stateUser:e,cookies:n,removeCookie:r}=(()=>{const e=AC(Gx),n=NC(),[r,i,o]=fN(["user"]);return(0,t.useEffect)((()=>{n(jx(r.user)),n(Lx()),n(uE()),n(sE("")),n(cE())}),[]),{stateUser:e,cookies:r,removeCookie:o}})();return e.isLoadingGetUser?(0,bC.jsx)(VC,{}):(0,bC.jsx)(bC.Fragment,{children:n.user&&(0,bC.jsxs)("div",{className:sD,children:[(0,bC.jsxs)("div",{className:lD,children:[(0,bC.jsxs)("div",{className:cD,children:[(0,bC.jsxs)("h1",{children:[e.user.username,e.user.admin?" - \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":""]}),(0,bC.jsx)("p",{className:uD,children:e.user.email})]}),(0,bC.jsx)("div",{className:dD,children:(0,bC.jsx)("a",{href:"/#",children:(0,bC.jsx)(ER,{text:"\u0412\u044b\u0439\u0442\u0438",onClick:()=>r("user")})})})]}),(0,bC.jsx)("div",{className:hD}),(0,bC.jsxs)("div",{children:[(0,bC.jsx)("h2",{className:fD,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0432\u0430\u0448\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432:"}),(0,bC.jsx)(TD,{userId:n.user})]}),e.user.admin&&(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)("div",{className:hD}),(0,bC.jsxs)("div",{children:[(0,bC.jsx)("h2",{className:fD,children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:"}),(0,bC.jsx)(zD,{})]})]})]})})},qD="AdminRegistration_container__vqgws",HD="AdminRegistration_buttonsContainer__8Sgwd",WD=()=>{const{stateUser:e,cookies:t,handleShowSignUpModal:n}=(()=>{const e=AC(Gx),t=NC(),[n]=fN(["user"]);return{stateUser:e,cookies:n,handleShowSignUpModal:()=>{t(zx())}}})();return t.user&&e.user.admin?(0,bC.jsx)("div",{className:qD,children:(0,bC.jsx)("h2",{children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0443 \u0441\u0435\u0431\u044f \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435"})}):t.user?null:(0,bC.jsx)("div",{className:qD,children:(0,bC.jsx)("div",{className:HD,children:(0,bC.jsx)(ER,{text:"\u0417\u0430\u0440\u043a\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",onClick:()=>n()})})})};const GD=function(){return(0,bC.jsxs)(bC.Fragment,{children:[(0,bC.jsx)(eR,{}),(0,bC.jsx)("div",{className:tR,children:(0,bC.jsxs)(iC,{children:[(0,bC.jsx)(nC,{index:!0,element:(0,bC.jsx)(wC,{})}),(0,bC.jsx)(nC,{path:"/articles",element:(0,bC.jsx)(zC,{})}),(0,bC.jsx)(nC,{path:"/article/:articleId",element:(0,bC.jsx)(KR,{})}),(0,bC.jsx)(nC,{path:"/about",element:(0,bC.jsx)(XR,{})}),(0,bC.jsx)(nC,{path:"/profile/:userId",element:(0,bC.jsx)(BD,{})}),(0,bC.jsx)(nC,{path:"/admin",element:(0,bC.jsx)(WD,{})})]})}),(0,bC.jsx)(eD,{}),(0,bC.jsx)(aD,{}),(0,bC.jsx)(Nx,{position:"bottom-center"})]})},KD=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))},QD=document.getElementById("root");(0,i.s)(QD).render((0,bC.jsx)(uC,{children:(0,bC.jsx)(E,{store:Kx,children:(0,bC.jsx)(GD,{})})})),KD()})()})();
//# sourceMappingURL=main.5163302b.js.map